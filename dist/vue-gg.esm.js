import"core-js/modules/es6.array.fill";import"core-js/modules/es6.set";import"core-js/modules/es6.object.keys";import"core-js/modules/es6.array.sort";import"core-js/modules/es6.string.starts-with";import"core-js/modules/es6.string.ends-with";import"core-js/modules/es6.string.iterator";import"core-js/modules/es6.array.from";import"core-js/modules/es6.function.name";import"core-js/modules/es6.regexp.to-string";import"core-js/modules/es6.regexp.flags";import"core-js/modules/es6.regexp.match";import"core-js/modules/es6.number.constructor";import"core-js/modules/es7.array.includes";import"core-js/modules/es6.string.includes";import"core-js/modules/web.dom.iterable";import"core-js/modules/es7.symbol.async-iterator";import"core-js/modules/es6.symbol";import"core-js/modules/es6.regexp.replace";import"core-js/modules/es6.regexp.constructor";import"core-js/modules/es6.regexp.split";import"core-js/modules/es6.array.iterator";import"core-js/modules/es6.promise";import"core-js/modules/es7.promise.finally";import{scaleOrdinal,scaleTime,scaleLinear,scaleLog,scalePow,scaleDiverging,scaleSequential}from"d3-scale";import{interpolateBrBG,interpolatePRGn,interpolatePiYG,interpolatePuOr,interpolateRdBu,interpolateRdGy,interpolateRdYlBu,interpolateRdYlGn,interpolateSpectral,interpolateBlues,interpolateGreens,interpolateGreys,interpolateOranges,interpolatePurples,interpolateReds,interpolateViridis,interpolateInferno,interpolateMagma,interpolatePlasma,interpolateWarm,interpolateCool,interpolateCubehelixDefault,interpolateRainbow,interpolateSinebow}from"d3-scale-chromatic";import{ticks}from"d3-array";import{timeFormat}from"d3-time-format";import{interpolate}from"d3-interpolate";import{line}from"d3-shape";require("./_wks-define")("asyncIterator"),require("./_fix-re-wks")("replace",2,function(e,t,a){return[function(n,r){var o=e(this),i=n==null?void 0:n[t];return i===void 0?a.call(o+"",n,r):i.call(n,o,r)},a]});var global=require("./_global"),inheritIfRequired=require("./_inherit-if-required"),dP=require("./_object-dp").f,gOPN=require("./_object-gopn").f,isRegExp=require("./_is-regexp"),$flags=require("./_flags"),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){return re2[require("./_wks")("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||"/a/i"!=$RegExp(re1,"i")}))){$RegExp=function(e,t){var a=this instanceof $RegExp,n=isRegExp(e),r=t===void 0;return!a&&n&&e.constructor===$RegExp&&r?e:inheritIfRequired(CORRECT_NEW?new Base(n&&!r?e.source:e,t):Base((n=e instanceof $RegExp)?e.source:e,n&&r?$flags.call(e):t),a?this:proto,$RegExp)};for(var proxy=function(e){(e in $RegExp)||dP($RegExp,e,{configurable:!0,get:function(){return Base[e]},set:function(t){Base[e]=t}})},keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp"),require("./_fix-re-wks")("split",2,function(e,t,a){var n=require("./_is-regexp"),r=a,o=[].push,i="split",s="length",d="lastIndex";if("c"=="abbc"[i](/(b)*/)[1]||4!="test"[i](/(?:)/,-1)[s]||2!="ab"[i](/(?:ab)*/)[s]||4!="."[i](/(.?)(.?)/)[s]||1<"."[i](/()()/)[s]||""[i](/.?/)[s]){var c=/()??/.exec("")[1]===void 0;a=function(e,t){var a=this+"";if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);var l,p,u,y,m,h=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,_=void 0===t?4294967295:t>>>0,x=new RegExp(e.source,g+"g");for(c||(l=new RegExp("^"+x.source+"$(?!\\s)",g));(p=x.exec(a))&&(u=p.index+p[0][s],!(u>f&&(h.push(a.slice(f,p.index)),!c&&1<p[s]&&p[0].replace(l,function(){for(m=1;m<arguments[s]-2;m++)void 0===arguments[m]&&(p[m]=void 0)}),1<p[s]&&p.index<a[s]&&o.apply(h,p.slice(1)),y=p[0][s],f=u,h[s]>=_)));)x[d]===p.index&&x[d]++;return f===a[s]?(y||!x.test(""))&&h.push(""):h.push(a.slice(f)),h[s]>_?h.slice(0,_):h}}else"0"[i](void 0,0)[s]&&(a=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(n,r){var o=e(this),i=n==null?void 0:n[t];return i===void 0?a.call(o+"",n,r):i.call(n,o,r)},a]});function _typeof2(e){return _typeof2="function"==typeof Symbol&&"symbol"===_typeof$$1(Symbol.iterator)?function(e){return _typeof$$1(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof$$1(e)},_typeof2(e)}function _typeof$$1(e){return _typeof$$1="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof$$1(e)}var global$1=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),isObject=require("./_is-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP$1=$DP.f,gOPN$1=gOPNExt.f,$Symbol=global$1.Symbol,$JSON=global$1.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE="function"==typeof $Symbol,QObject=global$1.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP$1({},"a",{get:function(){return dP$1(this,"a",{value:7}).a}})).a})?function(e,t,a){var n=gOPD(ObjectProto,t);n&&delete ObjectProto[t],dP$1(e,t,a),n&&e!==ObjectProto&&dP$1(ObjectProto,t,n)}:dP$1,wrap=function(e){var t=AllSymbols[e]=_create($Symbol[PROTOTYPE]);return t._k=e,t},isSymbol=USE_NATIVE&&"symbol"==_typeof$$1($Symbol.iterator)?function(e){return"symbol"==_typeof$$1(e)}:function(e){return e instanceof $Symbol},$defineProperty=function(e,t,a){return e===ObjectProto&&$defineProperty(OPSymbols,t,a),anObject(e),t=toPrimitive(t,!0),anObject(a),has(AllSymbols,t)?(a.enumerable?(has(e,HIDDEN)&&e[HIDDEN][t]&&(e[HIDDEN][t]=!1),a=_create(a,{enumerable:createDesc(0,!1)})):(!has(e,HIDDEN)&&dP$1(e,HIDDEN,createDesc(1,{})),e[HIDDEN][t]=!0),setSymbolDesc(e,t,a)):dP$1(e,t,a)},$defineProperties=function(e,t){anObject(e);for(var a,n=enumKeys(t=toIObject(t)),r=0,o=n.length;o>r;)$defineProperty(e,a=n[r++],t[a]);return e},$create=function(e,t){return t===void 0?_create(e):$defineProperties(_create(e),t)},$propertyIsEnumerable=function(e){var t=isEnum.call(this,e=toPrimitive(e,!0));return(this!==ObjectProto||!has(AllSymbols,e)||has(OPSymbols,e))&&(!(t||!has(this,e)||!has(AllSymbols,e)||has(this,HIDDEN)&&this[HIDDEN][e])||t)},$getOwnPropertyDescriptor=function(e,t){if(e=toIObject(e),t=toPrimitive(t,!0),e!==ObjectProto||!has(AllSymbols,t)||has(OPSymbols,t)){var a=gOPD(e,t);return a&&has(AllSymbols,t)&&!(has(e,HIDDEN)&&e[HIDDEN][t])&&(a.enumerable=!0),a}},$getOwnPropertyNames=function(e){for(var t,a=gOPN$1(toIObject(e)),n=[],r=0;a.length>r;)has(AllSymbols,t=a[r++])||t==HIDDEN||t==META||n.push(t);return n},$getOwnPropertySymbols=function(e){for(var t,a=e===ObjectProto,n=gOPN$1(a?OPSymbols:toIObject(e)),r=[],o=0;n.length>o;)has(AllSymbols,t=n[o++])&&(!a||has(ObjectProto,t))&&r.push(AllSymbols[t]);return r};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var e=uid(0<arguments.length?arguments[0]:void 0);return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,e,{configurable:!0,set:function t(a){this===ObjectProto&&t.call(OPSymbols,a),has(this,HIDDEN)&&has(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDesc(this,e,createDesc(1,a))}}),wrap(e)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,require("./_object-gops").f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(e){return wrap(wks(e))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(e){return has(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function(e){if(!isSymbol(e))throw TypeError(e+" is not a symbol!");for(var t in SymbolRegistry)if(SymbolRegistry[t]===e)return t},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var e=$Symbol();return"[null]"!=_stringify([e])||"{}"!=_stringify({a:e})||"{}"!=_stringify(Object(e))})),"JSON",{stringify:function(e){for(var t,a,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(a=t=n[1],(isObject(t)||void 0!==e)&&!isSymbol(e))return isArray(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!isSymbol(t))return t}),n[1]=t,_stringify.apply($JSON,n)}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||require("./_hide")($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global$1.JSON,"JSON",!0);for(var $iterators=require("./es6.array.iterator"),getKeys=require("./_object-keys"),redefine$1=require("./_redefine"),global$2=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks$1=require("./_wks"),ITERATOR=wks$1("iterator"),TO_STRING_TAG=wks$1("toStringTag"),ArrayValues=Iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=getKeys(DOMIterables),i$1=0;i$1<collections.length;i$1++){var key,NAME=collections[i$1],explicit=DOMIterables[NAME],Collection=global$2[NAME],proto$1=Collection&&Collection.prototype;if(proto$1&&(proto$1[ITERATOR]||hide(proto$1,ITERATOR,ArrayValues),proto$1[TO_STRING_TAG]||hide(proto$1,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues,explicit))for(key in $iterators)proto$1[key]||redefine$1(proto$1,key,$iterators[key],!0)}var $export$1=require("./_export"),$includes=require("./_array-includes")(!0);$export$1($export$1.P,"Array",{includes:function(e){return $includes(this,e,1<arguments.length?arguments[1]:void 0)}}),require("./_add-to-unscopables")("includes");var $export$2=require("./_export"),context=require("./_string-context"),INCLUDES="includes";$export$2($export$2.P+$export$2.F*require("./_fails-is-regexp")(INCLUDES),"String",{includes:function(e){return!!~context(this,e,INCLUDES).indexOf(e,1<arguments.length?arguments[1]:void 0)}});var global$3=require("./_global"),has$1=require("./_has"),cof=require("./_cof"),inheritIfRequired$1=require("./_inherit-if-required"),toPrimitive$1=require("./_to-primitive"),fails=require("./_fails"),gOPN$2=require("./_object-gopn").f,gOPD$1=require("./_object-gopd").f,dP$2=require("./_object-dp").f,$trim=require("./_string-trim").trim,NUMBER="Number",$Number=global$3[NUMBER],Base$1=$Number,proto$2=$Number.prototype,BROKEN_COF=cof(require("./_object-create")(proto$2))==NUMBER,TRIM="trim"in String.prototype,toNumber=function(e){var t=toPrimitive$1(e,!1);if("string"==typeof t&&2<t.length){t=TRIM?t.trim():$trim(t,3);var a,n,r,o=t.charCodeAt(0);if(43===o||45===o){if(a=t.charCodeAt(2),88===a||120===a)return NaN;}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t;}for(var s,d=t.slice(2),c=0,p=d.length;c<p;c++)if(s=d.charCodeAt(c),48>s||s>r)return NaN;return parseInt(d,n)}}return+t};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function(e){var t=1>arguments.length?0:e,a=this;return a instanceof $Number&&(BROKEN_COF?fails(function(){proto$2.valueOf.call(a)}):cof(a)!=NUMBER)?inheritIfRequired$1(new Base$1(toNumber(t)),a,$Number):toNumber(t)};for(var key$1,keys$1=require("./_descriptors")?gOPN$2(Base$1):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j$1=0;keys$1.length>j$1;j$1++)has$1(Base$1,key$1=keys$1[j$1])&&!has$1($Number,key$1)&&dP$2($Number,key$1,gOPD$1(Base$1,key$1));$Number.prototype=proto$2,proto$2.constructor=$Number,require("./_redefine")(global$3,NUMBER,$Number)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!(t&&a.length===t));n=!0);}catch(e){r=!0,o=e}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw o}}return a}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}var CoordinateTreeUser={inject:["$$coordinateTree","$$coordinateTreeParent"],computed:{parentBranch:function(){return this.$$coordinateTree.getBranch(this.$$coordinateTreeParent)},parentRangeTypes:function(){return this.parentBranch.domainTypes}}},DataReceiver={inject:["$$dataContainerContext"],computed:{$$dataContainer:function(){return this.$$dataContainerContext.dataContainer}}};function is(e){return e!==void 0}function isnt(e){return e===void 0}function parseAesthetic(e,t){if(e&&is(t.isFunction))for(var a in this.parentRangeTypes)if(["categorical","temporal"].includes(this.parentRangeTypes[a]))throw new Error("\n          Cannot use :func prop on 'vgg-line' in combination with\n          '".concat(this.parentRangeTypes[a],"' parent domain\n        "));if(!this.$$map){if(is(e)&&e.constructor===Object)throw new Error("Trying to map without vgg-map component.");if(is(e)&&e.constructor===Function&&isnt(t.isFunction))throw new Error("Trying to map without vgg-map component.");if(is(e))return e;if(isnt(e))return t.default}if(this.$$map){var n=is(e)&&e.constructor===Object,r=is(e)&&e.constructor===Function;if(is(e)&&n)return e;if(is(e)&&r)return{func:e};if(is(e)&&!n&&!r)return{assign:e};if(isnt(e))return{assign:t.default}}}function convertToNumeric(e,t,a){return"x"===t?a.scaleX(e):"y"===t?a.scaleY(e):void 0}function parseCoordinate(e,t){var a=t.dimension,n=t.wh,r=this.parentRangeTypes[a];if(!this.$$map){if(is(e)&&e.constructor===Object)throw new Error("Trying to map without vgg-map component.");if(is(e)&&e.constructor===Function)throw new Error("Trying to map without vgg-map component.");if(is(e))if(invalidValueForRangeType(e,r))throw new Error("Invalid input ".concat(e," for parent Section domain type ").concat(r));else{if(["categorical","temporal"].includes(r)){if(n)throw new Error("Cannot set 'w' or 'h' value in parent domain '".concat(r,"'"));return convertToNumeric(e,a,this.parentBranch)}return e}if(isnt(e))return}if(this.$$map){var o=is(e)&&e.constructor===Object,i=is(e)&&e.constructor===Function;if(is(e)&&o){if(["categorical","temporal"].includes(r)&&e.hasOwnProperty("scale"))throw new Error("Cannot scale ".concat(e," to parent Section domain type ").concat(r));return e}if(is(e)&&i)return{func:e};if(is(e)&&!o&&!i)if(invalidValueForRangeType(e,r))throw new Error("Invalid input ".concat(e," for parent Section domain type ").concat(r));else{if(["categorical","temporal"].includes(r)){if(n)throw new Error("Cannot set 'w' or 'h' value in parent domain '".concat(r,"'"));return{assign:convertToNumeric(e,a,this.parentBranch)}}return{assign:e}}if(isnt(e))return{assign:void 0}}}function invalidValueForRangeType(e,t){if("quantitative"===t)return e.constructor!==Number;return"categorical"===t?e.constructor!==String:"temporal"===t?e.constructor!==Date:void 0}function parseCoordinateSet(e,t){var a=t.dimension,n=this.parentRangeTypes[a];if(!this.$$map){if(is(e)&&e.constructor===Object)throw new Error("Trying to map without vgg-map component.");if(is(e)&&e.constructor===Function)throw new Error("Trying to map without vgg-map component.");if(is(e)&&e.constructor===Array)return parseArray(e,n,a,this.parentBranch);if(is(e)&&e.constructor===String){if(!this.$$dataContainer.hasVariable(e))throw new Error("Variable ".concat(e," not found"));var r=this.$$dataContainer.getVariableData(e);return parseArray(r,n,a,this.parentBranch)}if(isnt(e))return}if(this.$$map){var o=is(e)&&e.constructor===Object,i=is(e)&&e.constructor===Function;if(is(e)&&o){if(["categorical","temporal"].includes(n)&&e.hasOwnProperty("scale"))throw new Error("Cannot scale ".concat(e," to parent Section domain type ").concat(n));return e}if(is(e)&&i)return{func:e};if(is(e)&&e.constructor===Array)return{assign:parseArray(e,n,a,this.parentBranch)};if(is(e)&&e.constructor===String)throw new Error("Cannot set Mark coordinates from variable when mapping");if(isnt(e))return{assign:void 0}}}function invalidValueForRangeType$1(e,t){if("quantitative"===t)return e.constructor!==Number;return"categorical"===t?e.constructor!==String:"temporal"===t?e.constructor!==Date:void 0}function parseArray(e,t,a,n){var r=[],o=!0,i=!1,s=void 0;try{for(var d,c,l=e[Symbol.iterator]();!(o=(d=l.next()).done);o=!0)if(c=d.value,invalidValueForRangeType$1(c,t))throw new Error("Invalid input ".concat(c," for parent Section domain type ").concat(t));else["categorical","temporal"].includes(t)?r.push(convertToNumeric(c,a,n)):r.push(c)}catch(e){i=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}return r}function parseGeometry(e){if(!this.$$map){if(is(e)&&e.constructor===Array)return parseArray$1(e,this.parentRangeTypes,this.parentBranch);if(isnt(e))return}if(this.$$map){if(is(e)&&e.constructor===Array)return{assign:parseArray$1(e,this.parentRangeTypes,this.parentBranch)};if(isnt(e))return{assign:void 0}}}function parseArray$1(e,t,a){var n=["x","y"],r=[],o=!0,s=!1,d=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){for(var p=c.value,u=[],y=0;y<n.length;++y){var m=n[y],h=t[m];if(invalidValueForRangeType$1(p[y],h))throw new Error("Invalid input ".concat(p[y]," for parent Section domain type ").concat(h));else["categorical","temporal"].includes(h)?u.push(convertToNumeric(p[y],m,a)):u.push(p[y])}r.push(u)}}catch(e){s=!0,d=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw d}}return r}function parsePixelValue(){}function parseProperty(e,t){if(!this.$$map){if(is(e)&&(e.constructor===Object||e.constructor===Function))throw new Error("Trying to map without vgg-map component.");if(is(e))return e;if(isnt(e))return t.default}if(this.$$map){if(is(e)&&e.constructor===Object)throw new Error("Property '".concat(e,"' is unmappable."));var a=is(e)&&e.constructor===Function;if(is(e)&&a)return{func:e};if(is(e)&&!a)return{assign:e};if(isnt(e))return{assign:t.default}}}var Mark={mixins:[CoordinateTreeUser,DataReceiver],inject:["$$transform","$$map"],props:{interpolate:{type:Boolean,default:!0}},computed:{__update:function(){return this.$$coordinateTree._update},_interpolate:function(){return this.interpolate},context:function(){return{domains:this.$$dataContainer.getDomains(),ranges:this.parentBranch.domains,parentBranch:this.parentBranch}}},methods:{parseAesthetic:parseAesthetic,parseCoordinate:parseCoordinate,parseCoordinateSet:parseCoordinateSet,parseGeometry:parseGeometry,parsePixelValue:parsePixelValue,parseProperty:parseProperty},mounted:function(){this.parseAesthetic.bind(this),this.parseCoordinate.bind(this),this.parseCoordinateSet.bind(this),this.parseGeometry.bind(this),this.parsePixelValue.bind(this),this.parseProperty.bind(this)}};function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(e){this._t=e+"",this._i=0},function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=$at(t,a),this._i+=e.length,{value:e,done:!1})});var ctx=require("./_ctx"),$export$3=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export$3($export$3.S+$export$3.F*!require("./_iter-detect")(function(){}),"Array",{from:function(e){var t,a,n,r,o=toObject(e),i="function"==typeof this?this:Array,s=arguments.length,d=1<s?arguments[1]:void 0,c=void 0!==d,l=0,p=getIterFn(o);if(c&&(d=ctx(d,2<s?arguments[2]:void 0,2)),null!=p&&!(i==Array&&isArrayIter(p)))for(r=p.call(o),a=new i;!(n=r.next()).done;l++)createProperty(a,l,c?call(r,d,[n.value,l],!0):n.value);else for(t=toLength(o.length),a=new i(t);t>l;l++)createProperty(a,l,c?d(o[l],l):o[l]);return a.length=l,a}}),require("./_fix-re-wks")("match",1,function(e,t,a){return[function(a){var n=e(this),r=a==null?void 0:a[t];return r===void 0?new RegExp(a)[t](n+""):r.call(a,n)},a]});var dP$3=require("./_object-dp").f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME$1="name";NAME$1 in FProto||require("./_descriptors")&&dP$3(FProto,NAME$1,{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(t){return""}}}),require("./_descriptors")&&"g"!=/./g.flags&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")}),require("./es6.regexp.flags");var anObject$1=require("./_an-object"),$flags$1=require("./_flags"),DESCRIPTORS$1=require("./_descriptors"),TO_STRING="toString",$toString=/./[TO_STRING],define=function(e){require("./_redefine")(RegExp.prototype,TO_STRING,e,!0)};require("./_fails")(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var e=anObject$1(this);return"/".concat(e.source,"/","flags"in e?e.flags:!DESCRIPTORS$1&&e instanceof RegExp?$flags$1.call(e):void 0)}):$toString.name!=TO_STRING&&define(function(){return $toString.call(this)});function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a,n=0;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var CoordinateTree=function(){function e(){_classCallCheck(this,e),this._coordinateTree=null,this._branchPaths={},this._update=1}return _createClass(e,[{key:"setRoot",value:function(e){this._coordinateTree=new Branch("root",null,e),this._branchPaths.root=[]}},{key:"addBranch",value:function(e,t,a){var n=this.getBranch(t);n.children[e]=new Branch(e,t,a);var r=this._branchPaths[t];this._branchPaths[e]=_toConsumableArray(r).concat([e]),this._update++}},{key:"getBranch",value:function(e){var t=this._branchPaths[e],a=this._coordinateTree,n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a=a.children[s]}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return a}},{key:"updateBranch",value:function(e,t){var a=this.getBranch(e);a.update(t),this._update++}},{key:"removeBranch",value:function(e){var t=this._branchPaths[e];if(t){var a=this._coordinateTree,n=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var d=i.value,c=a.children[d];if(c.id===e){delete a.children[d];break}else a=c}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}for(var l in this._branchPaths){var p=this._branchPaths[l];p.includes(e)&&delete this._branchPaths[l]}}this._update++}},{key:"getTotalTransformation",value:function(e){return function(t){for(var a=_slicedToArray(t,2),n=a[0],r=a[1],o=this.getBranch(e),i=o.transform([n,r]);o.parentID;)o=this.getBranch(o.parentID),i=o.transform(i);return i}.bind(this)}}]),e}(),Branch=function(){function e(t,a,n){_classCallCheck(this,e),this.id=t,this.parentID=a,this.update(n),this.children={}}return _createClass(e,[{key:"update",value:function(e){for(var t in e)"dataContainer"!=t&&(this[t]=e[t])}}]),e}();function checkValidScale(e,t,a,n){if(!n.hasOwnProperty(a))throw new Error("\n      Prop '".concat(e,"', variable type '").concat(t,"':\n      No scale '").concat(a,"' found\n    "))}function updateDomain(e,t){var a=JSON.parse(JSON.stringify(e)),n=t.domain;if(n){if(n.constructor!==Array&&2!==n.length)throw new Error("Invalid domain modification");is$1(n[0])&&(a[0]=n[0]),is$1(n[1])&&(a[1]=n[1])}return a}function is$1(e){return e!==void 0&&null!==e}function offsetZeroes(e){return function(t){return 0===t&&(t=1e6),e(t)}}var numeric={linear:linear,log:log,square:square,squareRoot:squareRoot};function linear(e,t){return scaleLinear().domain(e).range(t)}function log(e,t){var a=JSON.parse(JSON.stringify(e));0===a[0]&&(a[0]+=1e-6);var n=scaleLog().domain(a).range(t);return offsetZeroes(n)}function square(e,t){var a=scalePow().exponent(2).domain(e).range(t);return a}function squareRoot(e,t){var a=scalePow().exponent(1/2).domain(e).range(t);return a}var temporal={temporal:temporal$1};function temporal$1(e,t){return scaleTime().domain(e).nice().range(t)}var categorical={equidistant:equidistant};function equidistant(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=t[1]-t[0],o=e.length,s=(r-a-n)/o,d={},c=0;return e.forEach(function(e){d[e]=t[0]+a+c*s+s/2,c++}),function(e){return d[e]}}function createCoordsScale(e,t,a,n,r){if("quantitative"===t){var o=r.scale||"linear";return checkValidScale(e,t,o,numeric),numeric[o](updateDomain(a,r),n)}if("temporal"===t){var i=r.scale||"temporal";return checkValidScale(e,t,i,temporal),temporal[i](a,n)}if("categorical"===t){var s=r.scale||"equidistant";return checkValidScale(e,t,s,categorical),categorical[s](a,n)}}function getDataType(e){switch(e.constructor){case Number:return"quantitative";case String:return"categorical";case Date:return"temporal";case Array:return"nested";default:throw new Error("Invalid data");}}function parseDomain(e,t){var a,n;if(![Array,String].includes(e.constructor))throw new Error("Invalid domain specification: only Array or String allowed");if(e.constructor===Array)checkValidDomainArray(e),n=getDataType(e[0]),a=e;else if(!t)a=[0,1],n="quantitative";else if(e.constructor===String){if(!t[e])throw new Error("Invalid domain specification: variable does not exist");a=t[e],n=getDataType(a[0])}return[a,n]}function checkValidDomainArray(e){if(2>e.length)throw new Error("Invalid domain specification array: length shorter than 2");var t=!1;if(e[0].constructor===Number)(e[1].constructor!==Number||2!==e.length)&&(t=!0);else if(e[0].constructor===String){for(var a=1;a<e.length;a++)if(e[a].constructor!==String){t=!0;break}}else if(e[0].constructor===Date)for(var n=1;n<e.length;n++)if(e[n].constructor!==Date){t=!0;break}if(t)throw new Error("Invalid domain specification array")}function parseScale(e){var t,a;if(e===void 0)return[{},{}];if(e.constructor===String)t={scale:e},a={scale:e};else if(e.constructor===Object){if(!e.hasOwnProperty("x"))t={};else if(e.x.constructor===String)t={scale:e.x};else if(e.x.constructor===Object)t=e.x;else throw new Error("Scale specification x must be String or Object");if(!e.hasOwnProperty("y"))a={};else if(e.y.constructor===String)a={scale:e.y};else if(e.y.constructor===Object)a=e.y;else throw new Error("Scale specification y must be String or Object")}else throw new Error("Scale specification must be String or Object");return[t,a]}var CoordinateTransformation=function e(t){var a=Math.PI,n=this;_classCallCheck(this,e);var r,o=t.domains,i=t.ranges;t.dataContainer&&(r=t.dataContainer.getDomains());var s=parseDomain(o.x,r),d=_slicedToArray(s,2),c=d[0],l=d[1],p=parseDomain(o.y,r),u=_slicedToArray(p,2),y=u[0],m=u[1],h=parseScale(t.scale),g=_slicedToArray(h,2),f=g[0],_=g[1];if(this.domainTypes={x:l,y:m},this.domains={},this.domains.x=["categorical","temporal"].includes(this.domainTypes.x)?i.x:c,this.domains.y=["categorical","temporal"].includes(this.domainTypes.y)?i.y:y,this.ranges=i,this.scaleX=createCoordsScale("x",l,c,i.x,f),this.scaleY=createCoordsScale("y",m,y,i.y,_),this.getX=function(e){return["categorical","temporal"].includes(n.domainTypes.x)?e:n.scaleX(e)},this.getY=function(e){return["categorical","temporal"].includes(n.domainTypes.y)?e:n.scaleY(e)},"scale"===t.type&&(this.transform=function(e){var t=_slicedToArray(e,2),a=t[0],r=t[1];return[n.getX(a),n.getY(r)]}),"polar"===t.type){var b=createCoordsScale("x","quantitative",i.x,[0,2*a],{}),v=createCoordsScale("y","quantitative",i.y,[0,1],{}),$=createCoordsScale("x","quantitative",[-1,1],i.x,{}),T=createCoordsScale("y","quantitative",[-1,1],i.y,{});this.transform=function(e){var t=_slicedToArray(e,2),a=t[0],r=t[1],o=n.getX(a),i=n.getY(r),s=b(o),d=v(i),c=polarToCartesian(s,d);return[$(c[0]),T(c[1])]}}};function polarToCartesian(e,t){var a=t*Math.sin(e),n=t*Math.cos(e);return[a,n]}var CoordinateSystem={props:{width:{type:Number,required:!0},height:{type:Number,required:!0},flip:{type:Boolean,default:!0}},data:function(){return{ready:!1,coordinateTree:new CoordinateTree}},mounted:function(){this.setCoordinateTreeRoot(),this.ready=!0},methods:{setCoordinateTreeRoot:function(){var e={x:[0,this.width],y:[0,this.height]},t={x:[0,this.width],y:[0,this.height]};this.flip&&(t.y=[this.height,0]);var a=new CoordinateTransformation({type:"scale",scale:"linear",domains:e,ranges:t});this.coordinateTree.setRoot(a)}},provide:function(){var e=this.coordinateTree,t=this.coordinateTree.getTotalTransformation("root");return{$$coordinateTree:e,$$transform:t,$$coordinateTreeParent:"root",$$map:!1}}},$export$4=require("./_export"),toLength$1=require("./_to-length"),context$1=require("./_string-context"),ENDS_WITH="endsWith",$endsWith=""[ENDS_WITH];$export$4($export$4.P+$export$4.F*require("./_fails-is-regexp")(ENDS_WITH),"String",{endsWith:function(e){var t=context$1(this,e,ENDS_WITH),a=1<arguments.length?arguments[1]:void 0,n=toLength$1(t.length),r=a===void 0?n:Math.min(toLength$1(a),n),o=e+"";return $endsWith?$endsWith.call(t,o,r):t.slice(r-o.length,r)===o}});var $export$5=require("./_export"),toLength$2=require("./_to-length"),context$2=require("./_string-context"),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export$5($export$5.P+$export$5.F*require("./_fails-is-regexp")(STARTS_WITH),"String",{startsWith:function(e){var t=context$2(this,e,STARTS_WITH),a=toLength$2(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),n=e+"";return $startsWith?$startsWith.call(t,n,a):t.slice(a,a+n.length)===n}});function adjustToAnchorPoint(e,t,a,n,r){var o=_slicedToArray(e,2),i=o[0],s=o[1];if(n===r)return[i,s];var d=[];if("center"===n?d=[i,s]:(d[0]=n.startsWith("l")?i-t/2:i+t/2,d[1]=n.endsWith("b")?s+a/2:s-a/2),"center"===r)return d;var c=d,l=_slicedToArray(c,2),p=l[0],u=l[1],y=[];return y[0]=r.startsWith("l")?p+t/2:p-t/2,y[1]=r.endsWith("b")?u-a/2:u+a/2,y}function textAnchorPoint(e){return"center"===e?{textAnchor:"middle",dominantBaseline:"middle"}:"lb"===e?{textAnchor:"start",dominantBaseline:"alphabetic"}:"lt"===e?{textAnchor:"start",dominantBaseline:"hanging"}:"rt"===e?{textAnchor:"end",dominantBaseline:"hanging"}:"rb"===e?{textAnchor:"end",dominantBaseline:"alphabetic"}:"l"===e?{textAnchor:"start",dominantBaseline:"middle"}:"r"===e?{textAnchor:"end",dominantBaseline:"middle"}:"b"===e?{textAnchor:"middle",dominantBaseline:"alphabetic"}:"t"===e?{textAnchor:"middle",dominantBaseline:"hanging"}:void 0}var script={mixins:[Mark,CoordinateSystem],props:{x:{type:Number,required:!0},y:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},anchorPoint:{type:String,default:"center",validator:function(e){return["center","lb","lt","rt","rb"].includes(e)}}},computed:{transformedXY:function(){if(this.__update)return this.$$transform([this.x,this.y])},anchorPointAdjustedXY:function(){var e=this.transformedXY;return adjustToAnchorPoint(e,this.width,this.height,"lt",this.anchorPoint)},translate:function(){var e=_slicedToArray(this.anchorPointAdjustedXY,2),t=e[0],a=e[1];return"translate(".concat(t,", ").concat(a,")")}}},__vue_script__=script,__vue_render__=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready?a("g",{attrs:{transform:e.translate}},[e._t("default")],2):e._e()},__vue_staticRenderFns__=[],__vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;function __vue_normalize__(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Glyph.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Glyph=__vue_normalize__({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,void 0,void 0),toObject$1=require("./_to-object"),$keys$1=require("./_object-keys");require("./_object-sap")("keys",function(){return function(e){return $keys$1(toObject$1(e))}});var numeric$1={brownBlue:brownBlue,purpleGreen:purpleGreen,pinkGreen:pinkGreen,purpleOrange:purpleOrange,redBlue:redBlue,redGray:redGray,redYellowBlue:redYellowBlue,redYellowGreen:redYellowGreen,spectral:spectral,blues:blues,greens:greens,greys:greys,oranges:oranges,purples:purples,reds:reds,viridis:viridis,inferno:inferno,magma:magma,plasma:plasma,warm:warm,cool:cool,cubehelixDefault:cubehelixDefault,rainbow:rainbow,sinebow:sinebow};function brownBlue(e){return scaleDiverging(interpolateBrBG).domain(e)}function purpleGreen(e){return scaleDiverging(interpolatePRGn).domain(e)}function pinkGreen(e){return scaleDiverging(interpolatePiYG).domain(e)}function purpleOrange(e){return scaleDiverging(interpolatePuOr).domain(e)}function redBlue(e){return scaleDiverging(interpolateRdBu).domain(e)}function redGray(e){return scaleDiverging(interpolateRdGy).domain(e)}function redYellowBlue(e){return scaleDiverging(interpolateRdYlBu).domain(e)}function redYellowGreen(e){return scaleDiverging(interpolateRdYlGn).domain(e)}function spectral(e){return scaleDiverging(interpolateSpectral).domain(e)}function blues(e){return scaleSequential(interpolateBlues).domain(e)}function greens(e){return scaleSequential(interpolateGreens).domain(e)}function greys(e){return scaleSequential(interpolateGreys).domain(e)}function oranges(e){return scaleSequential(interpolateOranges).domain(e)}function purples(e){return scaleSequential(interpolatePurples).domain(e)}function reds(e){return scaleSequential(interpolateReds).domain(e)}function viridis(e){return scaleSequential(interpolateViridis).domain(e)}function inferno(e){return scaleSequential(interpolateInferno).domain(e)}function magma(e){return scaleSequential(interpolateMagma).domain(e)}function plasma(e){return scaleSequential(interpolatePlasma).domain(e)}function warm(e){return scaleSequential(interpolateWarm).domain(e)}function cool(e){return scaleSequential(interpolateCool).domain(e)}function cubehelixDefault(e){return scaleSequential(interpolateCubehelixDefault).domain(e)}function rainbow(e){return scaleSequential(interpolateRainbow).domain(e)}function sinebow(e){return scaleSequential(interpolateSinebow).domain(e)}var categorical$1={colors:colors};function colors(e,t){return scaleOrdinal().domain(e).range(t)}function createColorScale(e,t,a,n){if("quantitative"===t){var r=n.scale||"blues";return checkValidScale(e,t,r,numeric$1),numeric$1[r](updateDomain(a,n))}if("categorical"===t){var o=n.scale||"colors";return checkValidScale(e,t,o,categorical$1),categorical$1[o](a)}}var numeric$2={linear:function(e){return scaleLinear().domain(e).range([0,1])}};function createOpacityScale(e,t,a,n){if("quantitative"===t){var r=n.scale||"linear";return checkValidScale(e,t,r,numeric$2),numeric$2[r](updateDomain(a,n))}}function getDimension(e){return["x","x1","x2","w"].includes(e)?"x":["y","y1","y2","h"].includes(e)?"y":void 0}function createScale(e,t,a){var n=t.domains[a.variable],r=getDataType(n[0]);if(["x1","x2","y1","y2","x","y","w","h"].includes(e)){var o=getDimension(e),i=t.ranges[o];return createCoordsScale(e,r,n,i,a)}return"color"===e?createColorScale(e,r,n,a):"opacity"===e?createOpacityScale(e,r,n,a):void 0}var $export$6=require("./_export"),aFunction=require("./_a-function"),toObject$2=require("./_to-object"),fails$1=require("./_fails"),$sort=[].sort,test=[1,2,3];$export$6($export$6.P+$export$6.F*(fails$1(function(){test.sort(void 0)})||!fails$1(function(){test.sort(null)})||!require("./_strict-method")($sort)),"Array",{sort:function(e){return e===void 0?$sort.call(toObject$2(this)):$sort.call(toObject$2(this),aFunction(e))}});var wh={bulge:bulge};function bulge(e,t,a){return function(n){for(var r=Math.abs,o=a.basedOn||guessBasedOn(e,n[0]),s=a.padding||0,d=n.map(function(e,t){return[e[o],t]}).sort(function(e,t){return e[0]>t[0]}),c=d.length,l=0;l<c;++l){var p=d[l][0],u=void 0,y=void 0;u=0==l?r(p-t[0]):r(p-d[l-1][0])/2,y=l==c-1?r(p-t[1]):r(p-d[l+1][0])/2,u-=s,y-=s;var m=2*Math.min(u,y),h=d[l][1];n[h][e]=m}}}function guessBasedOn(e,t){if("w"===e){if(t.hasOwnProperty("x1"))return"x1";if(t.hasOwnProperty("x2"))return"x2";if(t.hasOwnProperty("x"))return"x"}if("h"===e){if(t.hasOwnProperty("y1"))return"y1";if(t.hasOwnProperty("y2"))return"y2";if(t.hasOwnProperty("y"))return"y"}}function createPositioner(e,t,a){if(["w","h"].includes(e)){var n=a.positioner,r=a.dimension||"w"===e?"x":"y",o=t.ranges[r];return wh[n](e,o,a)}}function mapAesthetics(e,t,a){var n={},r={},o={},i={};for(var s in e){var d=e[s];d.hasOwnProperty("assign")&&is(d.assign)&&(n[s]=d.assign),d.hasOwnProperty("scale")&&(r[s]=d.scale),d.hasOwnProperty("func")&&(o[s]=d.func),d.hasOwnProperty("position")&&(i[s]=d.position)}var c={};for(var l in r){var p=r[l];p.constructor===String&&(c[l]=createScale(l,t,{variable:p})),p.constructor===Object&&(!p.construct&&(c[l]=createScale(l,t,p)),p.construct&&(c[l]=p.construct(t)))}var u=[];if(a.forEachRow(function(a,s){var i={};for(var d in e)if(is(r[d])){if(r[d].constructor===String){var l=r[d];i[d]=c[d](a[l])}if(r[d].constructor===Object)if(r[d].hasOwnProperty("variable")){var p=r[d].variable;i[d]=c[d](a[p])}else i[d]=c[d](a)}else if(is(o[d])){var y=o[d](a,s,t),m=getDimension(d);i[d]=m&&[String,Date].includes(y.constructor)?convertToNumeric(y,m,t.parentBranch):y}else is(n[d])&&(i[d]=n[d]);u.push(i)}),0<Object.keys(i).length)for(var y in i){var m=i[y];if(m.constructor!==Array){var h=void 0;m.constructor===String&&(h=createPositioner(y,t,{positioner:m})),m.constructor===Object&&(h=createPositioner(y,t,m)),h(u)}if(m.constructor===Array){var g=!0,f=!1,_=void 0;try{for(var x,b=m[Symbol.iterator]();!(g=(x=b.next()).done);g=!0){var v=x.value,$=void 0;v.constructor===String&&($=createPositioner(y,t,{positioner:v})),v.constructor===Object&&($=createPositioner(y,t,v)),$(u)}}catch(e){f=!0,_=e}finally{try{g||null==b.return||b.return()}finally{if(f)throw _}}}}return u}var script$1={mixins:[Mark],props:{x:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y:{type:[Number,String,Date,Object,Function,void 0],default:void 0},width:{type:Number,default:10},height:{type:Number,default:10},anchorPoint:{type:String,default:"center",validator:function(e){return["center","lb","lt","rt","rb"].includes(e)}}},computed:{aesthetics:function(){return{x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),width:this.parseProperty(this.width,{default:10}),height:this.parseProperty(this.height,{default:10}),anchorPoint:this.parseProperty(this.anchorPoint,{default:"center"})}}},methods:{renderGlyph:function(e,t){return e(Glyph,{props:t},this.$slots.default)}},render:function(e){if(!this.$$map)return this.renderGlyph(e,this.aesthetics);if(this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderGlyph(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}},__vue_script__$1=script$1,__vue_inject_styles__$1=void 0,__vue_scope_id__$1=void 0,__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=void 0;function __vue_normalize__$1(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="GlyphWrapper.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Glyph$1=__vue_normalize__$1({},__vue_inject_styles__$1,__vue_script__$1,__vue_scope_id__$1,__vue_is_functional_template__$1,__vue_module_identifier__$1,void 0,void 0),strong=require("./_collection-strong"),validate=require("./_validate-collection"),SET="Set";module.exports=require("./_collection")(SET,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return strong.def(validate(this,SET),e=0===e?0:e,e)}},strong);function initDomains(e){var t={};for(var a in e){var n=getDataType(e[a]);"quantitative"===n&&(t[a]=[1/0,-Infinity]),"categorical"===n&&(t[a]=[]),"temporal"===n&&(t[a]=[new Date("19 January 2038"),new Date(0)])}return t}function updateDomains(e,t){for(var a in e){var n=e[a],r=getDataType(n),o=t[a];if("quantitative"===r&&(o[0]>=n&&(o[0]=n),o[1]<=n&&(o[1]=n)),"categorical"!==r||o.includes(n)||o.push(n),"temporal"===r){var i=n.getTime();o[0].getTime()>=i&&(o[0]=n),o[1].getTime()<=i&&(o[1]=n)}}return t}var _default=function(){function e(t,a){if(_classCallCheck(this,e),this._dataset=[],this._domains={},a||this.setDataFrame(t),a)switch(a){case"dataFrame":{this.setDataFrame(t);break}case"geojson":{this.setGeoJSON(t);break}default:throw new Error("Unknown type!");}}return _createClass(e,[{key:"setDataFrame",value:function(e){if(e.constructor!==Array)throw new Error("Data of type dataFrame must be passed as an array");var t=e[0],a=initDomains(t),n=!0,r=!1,o=void 0;try{for(var i,s,d=e[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,checkRowFormat(s,t),a=updateDomains(s,a)}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}this._dataset=e,this._domains=a}},{key:"setGeoJSON",value:function(e){if(e.constructor!==Object)throw new Error("Data of type geojson must be passed as an object")}},{key:"getDataset",value:function(){return this._dataset}},{key:"getVariableData",value:function(e){var t=[],a=this._dataset;for(var n in a)t.push(a[n][e]);return t}},{key:"hasVariable",value:function(e){return this._domains.hasOwnProperty(e)}},{key:"getDomain",value:function(e){return this._domains[e]}},{key:"getDomains",value:function(){return this._domains}},{key:"forEachRow",value:function(e){this._dataset.forEach(function(t,a){e(t,a)})}}]),e}();function checkRowFormat(e,t){if(e.constructor!==Object)throw new Error("Data array must contain only objects");if(!objectsHaveSameKeys(e,t))throw new Error("All objects in data array must have same keys")}function objectsHaveSameKeys(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.reduce(function(e,t){return e.concat(Object.keys(t))},[]),r=new Set(n);return t.every(function(e){return r.size===Object.keys(e).length})}var DataProvider={props:{data:{type:[Array,Object,void 0],default:void 0},dataType:{type:[String,void 0],default:void 0}},computed:{dataContainer:function(){if(this.data)return new _default(this.data,this.dataType)}},provide:function(){var e=this;return{$$dataContainerContext:e}}},script$2={mixins:[CoordinateSystem,DataProvider]},__vue_script__$2=script$2,__vue_render__$1=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready?a("svg",{attrs:{width:e.width,height:e.height}},[e._t("default")],2):e._e()},__vue_staticRenderFns__$1=[],__vue_inject_styles__$2=void 0,__vue_scope_id__$2=void 0,__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1;function __vue_normalize__$2(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Graphic.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Graphic=__vue_normalize__$2({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},__vue_inject_styles__$2,__vue_script__$2,__vue_scope_id__$2,__vue_is_functional_template__$2,__vue_module_identifier__$2,void 0,void 0),DataValve={inject:["$$dataContainerContext"],props:{data:{type:[Array,Object,void 0],default:void 0},dataType:{type:[Object,void 0],default:void 0}},computed:{$$dataContainer:function(){return this.$$dataContainerContext.dataContainer},dataContainer:function(){if(this.data)return new _default(this.data,this.dataType)}},provide:function(){if(this.dataContainer){var e=this;return{$$dataContainerContext:e}}}},script$3={mixins:[DataValve],provide:function(){return{$$map:!0}}},__vue_script__$3=script$3,__vue_render__$2=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$$dataContainer||e.dataContainer?a("g",[e._t("default")],2):e._e()},__vue_staticRenderFns__$2=[],__vue_inject_styles__$3=void 0,__vue_scope_id__$3=void 0,__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=!1;function __vue_normalize__$3(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Map.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Map=__vue_normalize__$3({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},__vue_inject_styles__$3,__vue_script__$3,__vue_scope_id__$3,__vue_is_functional_template__$3,__vue_module_identifier__$3,void 0,void 0);function id(){return"_"+Math.random().toString()}var script$4={mixins:[CoordinateTreeUser,DataReceiver],props:{type:{type:String,default:"scale"},domains:{type:[Object,void 0],default:void 0},ranges:{type:Object,required:!0},scale:{type:[String,Object,void 0],default:void 0}},data:function(){return{ready:!1,id:id()}},computed:{_domains:function(){if(this.domains){var e={};return e.x=this.domains.hasOwnProperty("x")?this.domains.x:this.ranges.x,e.y=this.domains.hasOwnProperty("y")?this.domains.y:this.ranges.y,e}return this.domains?void 0:this.ranges},allowDomains:function(){var e=this._domains.x.constructor!==Array,t=this._domains.y.constructor!==Array;return!(!this.$$dataContainer&&(e||t))}},watch:{type:"updateCoordinateTreeBranch",domains:"updateCoordinateTreeBranch",ranges:"updateCoordinateTreeBranch",scale:"updateCoordinateTreeBranch"},beforeDestroy:function(){this.$$coordinateTree.removeBranch(this.id)},mounted:function(){this.setCoordinateTreeBranch(),this.ready=!0},methods:{setCoordinateTreeBranch:function(){var e=new CoordinateTransformation({type:this.type,domains:this._domains,ranges:this.ranges,scale:this.scale,dataContainer:this.$$dataContainer});this.$$coordinateTree.addBranch(this.id,this.$$coordinateTreeParent,e)},updateCoordinateTreeBranch:function(){var e=new CoordinateTransformation({type:this.type,domains:this._domains,ranges:this.ranges,scale:this.scale,dataContainer:this.$$dataContainer});this.$$coordinateTree.updateBranch(this.id,e)}},provide:function(){var e=this.$$coordinateTree.getTotalTransformation(this.id),t=this.id;return{$$transform:e,$$coordinateTreeParent:t,$$map:!1}}},__vue_script__$4=script$4,__vue_render__$3=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready&&e.allowDomains?a("g",[e._t("default")],2):e._e()},__vue_staticRenderFns__$3=[],__vue_inject_styles__$4=void 0,__vue_scope_id__$4=void 0,__vue_module_identifier__$4=void 0,__vue_is_functional_template__$4=!1;function __vue_normalize__$4(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Section.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Section=__vue_normalize__$4({render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3},__vue_inject_styles__$4,__vue_script__$4,__vue_scope_id__$4,__vue_is_functional_template__$4,__vue_module_identifier__$4,void 0,void 0),Rectangular={mixins:[Mark],props:{x1:{type:[Number,String,Date,Object,Function,void 0],default:void 0},x2:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y1:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y2:{type:[Number,String,Date,Object,Function,void 0],default:void 0},x:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y:{type:[Number,String,Date,Object,Function,void 0],default:void 0},w:{type:[Number,String,Date,Object,Function,void 0],default:void 0},h:{type:[Number,String,Date,Object,Function,void 0],default:void 0},color:{type:[String,Object,Function,void 0],default:void 0}},computed:{invalidX:function(){return invalidCombination(this.x1,this.x2,this.x,this.w)},invalidY:function(){return invalidCombination(this.y1,this.y2,this.y,this.h)},aesthetics:function(){if(this.invalidX)throw new Error("Invalid combination of props x1, x2, x and w");if(this.invalidY)throw new Error("Invalid combination of props y1, y2, y and h");return{x1:this.parseCoordinate(this.x1,{dimension:"x"}),x2:this.parseCoordinate(this.x2,{dimension:"x"}),y1:this.parseCoordinate(this.y1,{dimension:"y"}),y2:this.parseCoordinate(this.y2,{dimension:"y"}),x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),w:this.parseCoordinate(this.w,{dimension:"x",wh:!0}),h:this.parseCoordinate(this.h,{dimension:"y",wh:!0}),color:this.parseAesthetic(this.color,{default:"#000000"})}}},methods:{convertCoordinateSpecification:function(e){var t=convertSpecification(e.x1,e.x2,e.x,e.w),a=_slicedToArray(t,2),n=a[0],r=a[1],o=convertSpecification(e.y1,e.y2,e.y,e.h),i=_slicedToArray(o,2),s=i[0],d=i[1];for(var c in["x","y","w","h"])e[c]&&delete e[c];return e.x1=n,e.x2=r,e.y1=s,e.y2=d,e}}};function invalidCombination(e,t,a,n){var r=[isnt(a)&&isnt(n),is(e)&&isnt(t)&&isnt(a)&&is(n),isnt(e)&&is(t)&&isnt(a)&&is(n),isnt(e)&&isnt(t)&&is(a)&&is(n)];return!r.some(function(e){return!0===e})}function convertSpecification(e,t,a,n){return isnt(a)&&isnt(n)?[e,t]:is(e)&&isnt(t)&&isnt(a)&&is(n)?[e,e+n]:isnt(e)&&is(t)&&isnt(a)&&is(n)?[t-n,t]:isnt(e)&&isnt(t)&&is(a)&&is(n)?[a-n/2,a+n/2]:void 0}var script$5={mixins:[Rectangular],props:{type:{type:String,default:"scale"},domains:{type:[Object,void 0],default:void 0},scale:{type:[String,Object,void 0],default:void 0}},methods:{calculateRanges:function(e){var t=this.convertCoordinateSpecification(e);return{x:[t.x1,t.x2],y:[t.y1,t.y2]}},renderSection:function(e,t){var a=this.calculateRanges(t);return e(Section,{props:{type:this.type,scale:this.scale,domains:this.domains,ranges:a}},this.$slots.default)}},render:function(e){if(!this.$$map)return this.renderSection(e,this.aesthetics);if(this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderSection(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}},__vue_script__$5=script$5,__vue_inject_styles__$5=void 0,__vue_scope_id__$5=void 0,__vue_module_identifier__$5=void 0,__vue_is_functional_template__$5=void 0;function __vue_normalize__$5(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="SectionWrapper.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Section$1=__vue_normalize__$5({},__vue_inject_styles__$5,__vue_script__$5,__vue_scope_id__$5,__vue_is_functional_template__$5,__vue_module_identifier__$5,void 0,void 0),script$6={props:{x:{type:[Number,Object,Function],required:!0},y:{type:[Number,Object,Function],required:!0},radius:{type:Number,required:!0},transformation:{type:String,default:"polar"},anchorPoint:{type:String,default:"center"}},computed:{wh:function(){return 2*this.radius},rectangles:function e(){var e=[{x1:0,x2:15,y1:0,y2:100,color:"green"},{x1:15,x2:50,y1:0,y2:100,color:"red"},{x1:50,x2:75,y1:0,y2:100,color:"yellow"},{x1:75,x2:100,y1:0,y2:100,color:"blue"}];return e}}},__vue_script__$6=script$6,__vue_render__$4=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vgg-glyph",{attrs:{x:e.x,y:e.y,width:e.wh,height:e.wh,"anchor-point":e.anchorPoint}},[a("vgg-section",{attrs:{type:e.transformation,x1:0,x2:e.wh,y1:0,y2:e.wh,domains:{x:[0,100],y:[0,100]}}},e._l(e.rectangles,function(e,t){return a("vgg-rectangle",{key:t,attrs:{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,color:e.color}})}),1)],1)},__vue_staticRenderFns__$4=[],__vue_inject_styles__$6=void 0,__vue_scope_id__$6=void 0,__vue_module_identifier__$6=void 0,__vue_is_functional_template__$6=!1;function __vue_normalize__$6(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Piechart.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Piechart=__vue_normalize__$6({render:__vue_render__$4,staticRenderFns:__vue_staticRenderFns__$4},__vue_inject_styles__$6,__vue_script__$6,__vue_scope_id__$6,__vue_is_functional_template__$6,__vue_module_identifier__$6,void 0,void 0),BaseAxis={mixins:[Rectangular],props:{domain:{type:[Array,String,void 0],default:void 0},scale:{type:[String,Object],default:function(){return{}}},tickValues:{type:[Array,void 0],default:void 0},tickCount:{type:Number,default:10},rotateLabel:{type:Boolean,default:!1},format:{type:[String,Function,void 0],default:void 0},flip:{type:Boolean,default:!1}},computed:{_domain:function(){return this.domain.constructor===Array?this.domain:this.domain.constructor===String?this.$$dataContainer.getDomain(this.domain):void 0},_domainType:function(){if(this.domain)return getDataType(this._domain[0])},ranges:function(){return this.convertCoordinateSpecification(this.aesthetics)},tickData:function(){if(this.tickValues)return this.tickValues.map(function(e){return{value:e}});var e,t=this.format&&this.format.constructor===Function?this.format:function(e){return e};if("quantitative"===this._domainType&&(e=ticks.apply(void 0,_toConsumableArray(this._domain).concat([this.tickCount])).map(function(e){return{value:e,label:t(e)}})),"categorical"===this._domainType&&(e=this._domain.map(function(e){return{value:e,label:t(e)}})),"temporal"===this._domainType){this.format?this.format.constructor===String&&(t=timeFormat(this.format)):t=timeFormat("%d/%m/%Y");var a=scaleTime().domain(this._domain);e=a.ticks(this.tickCount).map(function(e){var a=new Date(e);return{value:a,label:t(a)}})}return e}}},script$7={mixins:[BaseAxis]},__vue_script__$7=script$7,__vue_render__$5=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vgg-section",{attrs:{x1:e.ranges.x1,x2:e.ranges.x2,y1:e.ranges.y1,y2:e.ranges.y2,domains:{x:[0,1],y:[0,1]}}},[a("vgg-line",{attrs:{x1:0,y1:.5,x2:1,y2:.5,width:1}}),a("vgg-section",{attrs:{x1:0,x2:1,y1:0,y2:1,domains:{x:e.domain},scale:{x:e.scale}}},[a("vgg-map",{attrs:{data:e.tickData}},[a("vgg-line",{attrs:{x1:function(e){return e.value},y1:.5,x2:function(e){return e.value},y2:e.flip?.35:.65,width:.5}}),e.rotateLabel?e._e():a("vgg-label",{attrs:{x:function(e){return e.value},y:e.flip?.59:.45,text:function(e){return e.label},"font-size":10,"anchor-point":e.flip?"b":"t"}}),e.rotateLabel?a("vgg-label",{attrs:{x:function(e){return e.value},y:e.flip?.59:.45,text:function(e){return e.label},"font-size":10,rotation:e.flip?30:-30,"anchor-point":e.flip?"rb":"rt"}}):e._e()],1)],1)],1)},__vue_staticRenderFns__$5=[],__vue_inject_styles__$7=void 0,__vue_scope_id__$7=void 0,__vue_module_identifier__$7=void 0,__vue_is_functional_template__$7=!1;function __vue_normalize__$7(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="XAxis.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var XAxis=__vue_normalize__$7({render:__vue_render__$5,staticRenderFns:__vue_staticRenderFns__$5},__vue_inject_styles__$7,__vue_script__$7,__vue_scope_id__$7,__vue_is_functional_template__$7,__vue_module_identifier__$7,void 0,void 0),script$8={mixins:[BaseAxis]},__vue_script__$8=script$8,__vue_render__$6=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vgg-section",{attrs:{x1:e.ranges.x1,x2:e.ranges.x2,y1:e.ranges.y1,y2:e.ranges.y2,domains:{x:[0,1],y:[0,1]}}},[a("vgg-line",{attrs:{x1:.5,y1:0,x2:.5,y2:1,width:1}}),e.domain===void 0?e._e():a("vgg-section",{attrs:{x1:0,x2:1,y1:0,y2:1,domains:{y:e.domain},scale:{y:e.scale}}},[a("vgg-map",{attrs:{data:e.tickData}},[a("vgg-line",{attrs:{x1:.5,y1:function(e){return e.value},x2:e.flip?.65:.35,y2:function(e){return e.value},width:.5}}),e.rotateLabel?e._e():a("vgg-label",{attrs:{x:e.flip?.45:.59,y:function(e){return e.value},text:function(e){return e.label},"font-size":10,"anchor-point":e.flip?"r":"l"}}),e.rotateLabel?a("vgg-label",{attrs:{x:e.flip?.41:.59,y:function(e){return e.value},text:function(e){return e.label},"font-size":10,rotation:e.flip?-30:30,"anchor-point":e.flip?"r":"l"}}):e._e()],1)],1)],1)},__vue_staticRenderFns__$6=[],__vue_inject_styles__$8=void 0,__vue_scope_id__$8=void 0,__vue_module_identifier__$8=void 0,__vue_is_functional_template__$8=!1;function __vue_normalize__$8(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="YAxis.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var YAxis=__vue_normalize__$8({render:__vue_render__$6,staticRenderFns:__vue_staticRenderFns__$6},__vue_inject_styles__$8,__vue_script__$8,__vue_scope_id__$8,__vue_is_functional_template__$8,__vue_module_identifier__$8,void 0,void 0),BaseGrid={mixins:[Rectangular],props:{domain:{type:[Array,String,void 0],default:void 0},scale:{type:[String,Object],default:function(){return{}}},gridLines:{type:[Array,Number],default:10}},computed:{_domain:function(){return this.domain.constructor===Array?this.domain:this.domain.constructor===String?this.$$dataContainer.getDomain(this.domain):void 0},_domainType:function(){if(this.domain)return getDataType(this._domain[0])},ranges:function(){return this.convertCoordinateSpecification(this.aesthetics)},cells:function e(){if(this.gridLines.constructor===Array)return this.gridLines.map(function(e){return{value:e}});var e;if("quantitative"===this._domainType&&(e=ticks.apply(void 0,_toConsumableArray(this._domain).concat([this.gridLines])).map(function(e){return{value:e}})),"categorical"===this._domainType&&(e=this._domain.map(function(e){return{value:e}})),"temporal"===this._domainType){var t=scaleTime().domain(this._domain);e=t.ticks(this.tickCount).map(function(e){var t=new Date(e);return{value:t}})}return e}}},script$9={mixins:[BaseGrid]},__vue_script__$9=script$9,__vue_render__$7=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vgg-section",{attrs:{x1:e.ranges.x1,x2:e.ranges.x2,y1:e.ranges.y1,y2:e.ranges.y2,domains:{x:e.domain,y:[0,1]},scale:{x:e.scale}}},e._l(e.cells,function(e,t){return a("vgg-line",{key:t,attrs:{x1:e.value,y1:0,x2:e.value,y2:1,width:.5,color:"#808080"}})}),1)},__vue_staticRenderFns__$7=[],__vue_inject_styles__$9=void 0,__vue_scope_id__$9=void 0,__vue_module_identifier__$9=void 0,__vue_is_functional_template__$9=!1;function __vue_normalize__$9(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="XGrid.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var XGrid=__vue_normalize__$9({render:__vue_render__$7,staticRenderFns:__vue_staticRenderFns__$7},__vue_inject_styles__$9,__vue_script__$9,__vue_scope_id__$9,__vue_is_functional_template__$9,__vue_module_identifier__$9,void 0,void 0),script$a={mixins:[BaseGrid]},__vue_script__$a=script$a,__vue_render__$8=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vgg-section",{attrs:{x1:e.ranges.x1,x2:e.ranges.x2,y1:e.ranges.y1,y2:e.ranges.y2,domains:{x:[0,1],y:e.domain},scale:{y:e.scale}}},e._l(e.cells,function(e,t){return a("vgg-line",{key:t,attrs:{x1:0,y1:e.value,x2:1,y2:e.value,width:.5,color:"#808080"}})}),1)},__vue_staticRenderFns__$8=[],__vue_inject_styles__$a=void 0,__vue_scope_id__$a=void 0,__vue_module_identifier__$a=void 0,__vue_is_functional_template__$a=!1;function __vue_normalize__$a(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="YGrid.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var YGrid=__vue_normalize__$a({render:__vue_render__$8,staticRenderFns:__vue_staticRenderFns__$8},__vue_inject_styles__$a,__vue_script__$a,__vue_scope_id__$a,__vue_is_functional_template__$a,__vue_module_identifier__$a,void 0,void 0);function interpolatePath(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2,n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:100,r=[];r.push(e[0]);for(var o=0;o<e.length-1;++o)for(var s,d=e[o],c=e[o+1],l=interpolate(d,c),p=1;p<=n;++p)s=l(p/n),r.push([s[0],s[1]]);var u=createPath(r,t,a);return u}function interpolatePathFromFunc(e,t,a){for(var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:2,r=4<arguments.length&&arguments[4]!==void 0?arguments[4]:300,o=[],s=interpolate.apply(void 0,_toConsumableArray(a.x)),d=0;d<=r;++d){var c=s(d/r),l=e(c);inDomain([c,l],a)&&o.push([c,l])}var p=createPath(o,t,n);return p}function createPath(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2,n=e.map(function(e){return t(e).map(function(e){return round(e,a)})}),r=line(),o=r(n);return o}function round(e,t){var a=Math.pow;return Math.round(e*a(10,t))/a(10,t)}function inDomain(e,t){var a=Math.min.apply(Math,_toConsumableArray(t.y)),n=Math.max.apply(Math,_toConsumableArray(t.y));return e[1]>a&&e[1]<n}var script$b={mixins:[Mark],props:{x1:{type:[Number,String,Date,Object,Function,void 0],default:void 0},x2:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y1:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y2:{type:[Number,String,Date,Object,Function,void 0],default:void 0},func:{type:[Function,Object,void 0],default:void 0},color:{type:[String,Object,Function,void 0],default:void 0},width:{type:Number,default:2}},computed:{aesthetics:function(){return{x1:this.parseCoordinate(this.x1,{dimension:"x"}),y1:this.parseCoordinate(this.y1,{dimension:"y"}),x2:this.parseCoordinate(this.x2,{dimension:"x"}),y2:this.parseCoordinate(this.y2,{dimension:"y"}),func:this.parseAesthetic(this.func,{isFunction:!0}),color:this.parseAesthetic(this.color,{default:"#000000"}),width:this.parseProperty(this.width,{default:2})}}},methods:{createPath:function(e,t){var a;if(e){var n=this.$$coordinateTreeParent,r=this.$$coordinateTree.getBranch(n).domains;a=interpolatePathFromFunc(this.func,this.$$transform,r)}return e||(this._interpolate&&(a=interpolatePath(t,this.$$transform)),!this._interpolate&&(a=createPath(t,this.$$transform))),a},renderSVG:function(e,t){var a=[[t.x1,t.y1],[t.x2,t.y2]],n=this.createPath(t.func,a);return e("path",{attrs:{d:n,stroke:t.color,"stroke-width":t.width,fill:"none"}})}},render:function(e){if(this.__update){if(!this.$$map)return this.renderSVG(e,this.aesthetics);if(this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderSVG(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}}},__vue_script__$b=script$b,__vue_inject_styles__$b=void 0,__vue_scope_id__$b=void 0,__vue_module_identifier__$b=void 0,__vue_is_functional_template__$b=void 0;function __vue_normalize__$b(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Line.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Line=__vue_normalize__$b({},__vue_inject_styles__$b,__vue_script__$b,__vue_scope_id__$b,__vue_is_functional_template__$b,__vue_module_identifier__$b,void 0,void 0);function checkPoints(e,t,a){if(is(e)&&is(t)&&is(a))throw new Error("Cannot have both 'points', and 'x' and 'y' props");if(isnt(e)&&isnt(t)&&isnt(a))throw new Error("Missing required props (either 'points', or 'x' and 'y')");if(isnt(e)&&!(is(t)&&is(a)))throw new Error("Both 'x' and 'y' props must be specified")}var MultiLine={mixins:[Mark],props:{points:{type:[Array,Object,Function,void 0],default:void 0},x:{type:[Array,Object,String,Function,void 0],default:void 0},y:{type:[Array,Object,String,Function,void 0],default:void 0},color:{type:[String,Object,Function,void 0],default:void 0},width:{type:Number,default:2},sortX:{type:Boolean,default:!0},close:{type:Boolean,default:!1}},computed:{aesthetics:function(){return checkPoints(this.points,this.x,this.y),{points:this.parseGeometry(this.points,{}),x:this.parseCoordinateSet(this.x,{dimension:"x"}),y:this.parseCoordinateSet(this.y,{dimension:"y"}),color:this.parseAesthetic(this.color,{default:"#000000"}),width:this.parseProperty(this.width,{default:2})}}},methods:{generatePoints:function(e){if(e.points)return e.points;if(e.x.length!==e.y.length)throw new Error("'x' and 'y' coordinate sets have different lengths");else{for(var t=[],a=0;a<e.x.length;++a)t.push([e.x[a],e.y[a]]);return t}},sort:function(e){return e.sort(function(e,t){return e[0]-t[0]})},close:function(e){var t=e.length-1;return(e[0][0]!==e[t][0]||e[0][1]!==e[t][1])&&e.push(e[0]),e},createPath:function(e){return this._interpolate?interpolatePath(e,this.$$transform):this._interpolate?void 0:createPath(e,this.$$transform)},renderSVG:function(e,t){var a=this.generatePoints(t);this.sortX&&(a=this.sort(a)),this.close&&(a=this.close(a));var n=this.createPath(a);return e("path",{attrs:{d:n,stroke:t.color,"stroke-width":t.width,fill:"none"}})}},render:function(e){if(this.__update){if(!this.$$map)return this.renderSVG(e,this.aesthetics);if(this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderSVG(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}}},script$c={mixins:[MultiLine],props:{sortX:{type:Boolean,default:!0},close:{type:Boolean,default:!1}}},__vue_script__$c=script$c,__vue_inject_styles__$c=void 0,__vue_scope_id__$c=void 0,__vue_module_identifier__$c=void 0,__vue_is_functional_template__$c=void 0;function __vue_normalize__$c(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="MultiLine.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var MultiLine$1=__vue_normalize__$c({},__vue_inject_styles__$c,__vue_script__$c,__vue_scope_id__$c,__vue_is_functional_template__$c,__vue_module_identifier__$c,void 0,void 0),script$d={mixins:[MultiLine],props:{sortX:{type:Boolean,default:!1},close:{type:Boolean,default:!0}}},__vue_script__$d=script$d,__vue_inject_styles__$d=void 0,__vue_scope_id__$d=void 0,__vue_module_identifier__$d=void 0,__vue_is_functional_template__$d=void 0;function __vue_normalize__$d(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Path.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Path=__vue_normalize__$d({},__vue_inject_styles__$d,__vue_script__$d,__vue_scope_id__$d,__vue_is_functional_template__$d,__vue_module_identifier__$d,void 0,void 0),script$e={mixins:[Mark],props:{x:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y:{type:[Number,String,Date,Object,Function,String,void 0],default:void 0},color:{type:[String,Object,Function,void 0],default:void 0},radius:{type:Number,default:3},strokeWidth:{type:Number,default:0}},computed:{aesthetics:function(){return{x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),color:this.parseAesthetic(this.color,{default:"#000000"}),radius:this.parseProperty(this.radius,{default:3}),strokeWidth:this.parseProperty(this.strokeWidth,{default:0})}}},methods:{renderSVG:function(e,t){var a=this.$$transform([t.x,t.y]),n=_slicedToArray(a,2),r=n[0],o=n[1];return e("circle",{attrs:{cx:r,cy:o,fill:t.color,r:t.radius,"stroke-width":t.strokeWidth}})}},render:function(e){if(this.__update){if(!this.$$map)return this.renderSVG(e,this.aesthetics);if(this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderSVG(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}}},__vue_script__$e=script$e,__vue_inject_styles__$e=void 0,__vue_scope_id__$e=void 0,__vue_module_identifier__$e=void 0,__vue_is_functional_template__$e=void 0;function __vue_normalize__$e(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Point.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Point=__vue_normalize__$e({},__vue_inject_styles__$e,__vue_script__$e,__vue_scope_id__$e,__vue_is_functional_template__$e,__vue_module_identifier__$e,void 0,void 0),$export$7=require("./_export");$export$7($export$7.P,"Array",{fill:require("./_array-fill")}),require("./_add-to-unscopables")("fill");var script$f={mixins:[MultiLine],props:{fill:{type:[String,Object,Function,void 0],default:void 0},sortX:{type:Boolean,default:!1},close:{type:Boolean,default:!0}},methods:{renderSVG:function(e,t){var a=this.generatePoints(t),n=this.createPath(a);return this.sortX&&(a=this.sort(a)),this.close&&(a=this.close(a)),e("path",{attrs:{d:n,stroke:t.color,"stroke-width":t.width,fill:t.fill}})}},render:function(e){if(this.__update){if(!this.$$map)return this.renderSVG(e,this.aesthetics);if(!this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderSVG(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}}},__vue_script__$f=script$f,__vue_inject_styles__$f=void 0,__vue_scope_id__$f=void 0,__vue_module_identifier__$f=void 0,__vue_is_functional_template__$f=void 0;function __vue_normalize__$f(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Polygon.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Polygon=__vue_normalize__$f({},__vue_inject_styles__$f,__vue_script__$f,__vue_scope_id__$f,__vue_is_functional_template__$f,__vue_module_identifier__$f,void 0,void 0),script$g={mixins:[Rectangular],methods:{renderSVG:function(e,t){var a,n=this.convertCoordinateSpecification(t),r=[[n.x1,n.y1],[n.x1,n.y2],[n.x2,n.y2],[n.x2,n.y1],[n.x1,n.y1]];return this._interpolate&&(a=interpolatePath(r,this.$$transform)),this._interpolate||(a=createPath(r,this.$$transform)),e("path",{attrs:{d:a,style:"fill: ".concat(t.color)}})}},render:function(e){if(this.__update){if(!this.$$map)return this.renderSVG(e,this.aesthetics);if(this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderSVG(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}}},__vue_script__$g=script$g,__vue_inject_styles__$g=void 0,__vue_scope_id__$g=void 0,__vue_module_identifier__$g=void 0,__vue_is_functional_template__$g=void 0;function __vue_normalize__$g(e,t,a,n,r){var o=("function"==typeof a?a.options:a)||{};return o.__file="Rectangle.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,r&&(o.functional=!0)),o._scopeId=n,o}var Rectangle=__vue_normalize__$g({},__vue_inject_styles__$g,__vue_script__$g,__vue_scope_id__$g,__vue_is_functional_template__$g,__vue_module_identifier__$g,void 0,void 0),script$h={mixins:[Mark],props:{text:{type:[String,Object,Function,void 0],default:void 0},x:{type:[Number,String,Date,Object,Function,void 0],default:void 0},y:{type:[Number,String,Date,Object,Function,String,void 0],default:void 0},color:{type:[String,Object,Function,void 0],default:void 0},fontSize:{type:[Number,Object,Function,void 0],default:void 0},rotation:{type:[Number,Object,Function,void 0],default:void 0},anchorPoint:{type:String,default:"center",validator:function(e){return["center","lb","lt","rt","rb","l","r","t","b"].includes(e)}}},computed:{aesthetics:function(){return{text:this.parseAesthetic(this.text,{}),x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),color:this.parseAesthetic(this.color,{default:"#000000"}),fontSize:this.parseAesthetic(this.fontSize,{default:16}),rotation:this.parseAesthetic(this.rotation,{default:0})}}},methods:{calcTransform:function(e,t,a){return"rotate(".concat(e,", ").concat(t,", ").concat(a,")")},renderSVG:function(e,t){var a=this.$$transform([t.x,t.y]),n=_slicedToArray(a,2),r=n[0],o=n[1],i=textAnchorPoint(this.anchorPoint),s=this.calcTransform(t.rotation,r,o),d=e("text",{attrs:{x:r,y:o,fill:t.color,"text-anchor":i.textAnchor,"dominant-baseline":i.dominantBaseline,transform:s,class:"vgg-label"},style:{"font-size":t.fontSize+"px"}},t.text);return d}},render:function(e){if(this.__update){if(!this.$$map)return this.renderSVG(e,this.aesthetics);if(this.$$map){var t=mapAesthetics(this.aesthetics,this.context,this.$$dataContainer),a=[],n=!0,r=!1,o=void 0;try{for(var i,s,d=t[Symbol.iterator]();!(n=(i=d.next()).done);n=!0)s=i.value,a.push(this.renderSVG(e,s))}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return e("g",a)}}}},__vue_script__$h=script$h,__vue_inject_styles__$h=function(e){e&&e("data-v-a472028e_0",{source:".vgg-label[data-v-a472028e]{font-family:sans-serif}",map:void 0,media:void 0})},__vue_scope_id__$h="data-v-a472028e",__vue_module_identifier__$h=void 0,__vue_is_functional_template__$h=void 0;function __vue_normalize__$h(e,t,a,n,r,o,i){var s=("function"==typeof a?a.options:a)||{};s.__file="Label.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,r&&(s.functional=!0)),s._scopeId=n;{var d;if(t&&(d=function(e){t.call(this,i(e))}),void 0!=d)if(s.functional){var c=s.render;s.render=function(e,t){return d.call(t),c(e,t)}}else{var l=s.beforeCreate;s.beforeCreate=l?[].concat(l,d):[d]}}return s}function __vue_create_injector__(){var e=document.head||document.getElementsByTagName("head")[0],t=__vue_create_injector__.styles||(__vue_create_injector__.styles={}),a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(n,r){if(!document.querySelector("style[data-vue-ssr-id~=\""+n+"\"]")){var o=a?r.media||"default":n,i=t[o]||(t[o]={ids:[],parts:[],element:void 0});if(!i.ids.includes(n)){var s=r.source,d=i.ids.length;if(i.ids.push(n),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),a&&(i.element=i.element||document.querySelector("style[data-group="+o+"]")),!i.element){var c=i.element=document.createElement("style");c.type="text/css",r.media&&c.setAttribute("media",r.media),a&&(c.setAttribute("data-group",o),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(a&&(d=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",d+1)),i.element.styleSheet)i.parts.push(s),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),p=i.element.childNodes;p[d]&&i.element.removeChild(p[d]),p.length?i.element.insertBefore(l,p[d]):i.element.appendChild(l)}}}}}var Label=__vue_normalize__$h({},__vue_inject_styles__$h,__vue_script__$h,__vue_scope_id__$h,__vue_is_functional_template__$h,__vue_module_identifier__$h,__vue_create_injector__,void 0),components={Glyph:Glyph$1,Graphic:Graphic,Map:Map,Section:Section$1,Piechart:Piechart,XAxis:XAxis,YAxis:YAxis,XGrid:XGrid,YGrid:YGrid,Line:Line,MultiLine:MultiLine$1,Path:Path,Point:Point,Polygon:Polygon,Rectangle:Rectangle,Label:Label},index={install:function(e,t){var a="Vgg";for(var n in t&&t.prefix&&(a=t.prefix),components){var r=a+n;e.component(r,components[n])}}};export default index;
