var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var a=r(function(t){var e=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)}),s=(a.version,r(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),o=r(function(t){var e=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:a.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),h=0,c=Math.random(),u=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++h+c).toString(36))},f=r(function(t){var e=o("wks"),n=s.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:u)("Symbol."+t))}).store=e}),l=function(t){return"object"==typeof t?null!==t:"function"==typeof t},d=function(t){if(!l(t))throw TypeError(t+" is not an object!");return t},p=function(t){try{return!!t()}catch(t){return!0}},v=!p(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),y=s.document,g=l(y)&&l(y.createElement),b=function(t){return g?y.createElement(t):{}},m=!v&&!p(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),M=function(t,e){if(!l(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!l(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!l(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!l(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},_=Object.defineProperty,x={f:v?Object.defineProperty:function(t,e,n){if(d(t),e=M(e,!0),d(n),m)try{return _(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},w=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S=v?function(t,e,n){return x.f(t,e,w(1,n))}:function(t,e,n){return t[e]=n,t},E=f("unscopables"),P=Array.prototype;null==P[E]&&S(P,E,{});var C=function(t){P[E][t]=!0},A=function(t,e){return{value:e,done:!!t}},O={},k={}.toString,N=function(t){return k.call(t).slice(8,-1)},T=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==N(t)?t.split(""):Object(t)},I=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},D=function(t){return T(I(t))},L={}.hasOwnProperty,R=function(t,e){return L.call(t,e)},q=r(function(t){var e=u("src"),n=Function.toString,r=(""+n).split("toString");a.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,a){var o="function"==typeof i;o&&(R(i,"name")||S(i,"name",n)),t[n]!==i&&(o&&(R(i,e)||S(i,e,t[n]?""+t[n]:r.join(String(n)))),t===s?t[n]=i:a?t[n]?t[n]=i:S(t,n,i):(delete t[n],S(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),F=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},$=function(t,e,n){if(F(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},G=function(t,e,n){var r,i,o,h,c=t&G.F,u=t&G.G,f=t&G.S,l=t&G.P,d=t&G.B,p=u?s:f?s[e]||(s[e]={}):(s[e]||{}).prototype,v=u?a:a[e]||(a[e]={}),y=v.prototype||(v.prototype={});for(r in u&&(n=e),n)o=((i=!c&&p&&void 0!==p[r])?p:n)[r],h=d&&i?$(o,s):l&&"function"==typeof o?$(Function.call,o):o,p&&q(p,r,o,t&G.U),v[r]!=o&&S(v,r,h),l&&y[r]!=o&&(y[r]=o)};s.core=a,G.F=1,G.G=2,G.S=4,G.P=8,G.B=16,G.W=32,G.U=64,G.R=128;var B=G,U=Math.ceil,z=Math.floor,V=function(t){return isNaN(t=+t)?0:(t>0?z:U)(t)},W=Math.min,Y=function(t){return t>0?W(V(t),9007199254740991):0},H=Math.max,X=Math.min,Q=function(t,e){return(t=V(t))<0?H(t+e,0):X(t,e)},J=function(t){return function(e,n,r){var i,a=D(e),s=Y(a.length),o=Q(r,s);if(t&&n!=n){for(;s>o;)if((i=a[o++])!=i)return!0}else for(;s>o;o++)if((t||o in a)&&a[o]===n)return t||o||0;return!t&&-1}},Z=o("keys"),K=function(t){return Z[t]||(Z[t]=u(t))},tt=J(!1),et=K("IE_PROTO"),nt=function(t,e){var n,r=D(t),i=0,a=[];for(n in r)n!=et&&R(r,n)&&a.push(n);for(;e.length>i;)R(r,n=e[i++])&&(~tt(a,n)||a.push(n));return a},rt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),it=Object.keys||function(t){return nt(t,rt)},at=v?Object.defineProperties:function(t,e){d(t);for(var n,r=it(e),i=r.length,a=0;i>a;)x.f(t,n=r[a++],e[n]);return t},st=s.document,ot=st&&st.documentElement,ht=K("IE_PROTO"),ct=function(){},ut=function(){var t,e=b("iframe"),n=rt.length;for(e.style.display="none",ot.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ut=t.F;n--;)delete ut.prototype[rt[n]];return ut()},ft=Object.create||function(t,e){var n;return null!==t?(ct.prototype=d(t),n=new ct,ct.prototype=null,n[ht]=t):n=ut(),void 0===e?n:at(n,e)},lt=x.f,dt=f("toStringTag"),pt=function(t,e,n){t&&!R(t=n?t:t.prototype,dt)&&lt(t,dt,{configurable:!0,value:e})},vt={};S(vt,f("iterator"),function(){return this});var yt=function(t,e,n){t.prototype=ft(vt,{next:w(1,n)}),pt(t,e+" Iterator")},gt=function(t){return Object(I(t))},bt=K("IE_PROTO"),mt=Object.prototype,Mt=Object.getPrototypeOf||function(t){return t=gt(t),R(t,bt)?t[bt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?mt:null},_t=f("iterator"),xt=!([].keys&&"next"in[].keys()),wt=function(){return this},St=function(t,e,n,r,i,a,s){yt(n,e,r);var o,h,c,u=function(t){if(!xt&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",l="values"==i,d=!1,p=t.prototype,v=p[_t]||p["@@iterator"]||i&&p[i],y=v||u(i),g=i?l?u("entries"):y:void 0,b="Array"==e&&p.entries||v;if(b&&(c=Mt(b.call(new t)))!==Object.prototype&&c.next&&(pt(c,f,!0),"function"!=typeof c[_t]&&S(c,_t,wt)),l&&v&&"values"!==v.name&&(d=!0,y=function(){return v.call(this)}),(xt||d||!p[_t])&&S(p,_t,y),O[e]=y,O[f]=wt,i)if(o={values:l?y:u("values"),keys:a?y:u("keys"),entries:g},s)for(h in o)h in p||q(p,h,o[h]);else B(B.P+B.F*(xt||d),e,o);return o}(Array,"Array",function(t,e){this._t=D(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,A(1)):A(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");O.Arguments=O.Array,C("keys"),C("values"),C("entries");var Et,Pt,Ct,At=f("toStringTag"),Ot="Arguments"==N(function(){return arguments}()),kt=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),At))?n:Ot?N(e):"Object"==(r=N(e))&&"function"==typeof e.callee?"Arguments":r},Nt=function(t,e,n,r){try{return r?e(d(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&d(i.call(t)),e}},Tt=f("iterator"),jt=Array.prototype,It=f("iterator"),Dt=a.getIteratorMethod=function(t){if(null!=t)return t[It]||t["@@iterator"]||O[kt(t)]},Lt=r(function(t){var e={},n={},r=t.exports=function(t,r,i,a,s){var o,h,c,u,f,l=s?function(){return t}:Dt(t),p=$(i,a,r?2:1),v=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(void 0===(f=l)||O.Array!==f&&jt[Tt]!==f){for(c=l.call(t);!(h=c.next()).done;)if((u=Nt(c,p,h.value,r))===e||u===n)return u}else for(o=Y(t.length);o>v;v++)if((u=r?p(d(h=t[v])[0],h[1]):p(t[v]))===e||u===n)return u};r.BREAK=e,r.RETURN=n}),Rt=f("species"),qt=function(t,e){var n,r=d(t).constructor;return void 0===r||null==(n=d(r)[Rt])?e:F(n)},Ft=s.process,$t=s.setImmediate,Gt=s.clearImmediate,Bt=s.MessageChannel,Ut=s.Dispatch,zt=0,Vt={},Wt=function(){var t=+this;if(Vt.hasOwnProperty(t)){var e=Vt[t];delete Vt[t],e()}},Yt=function(t){Wt.call(t.data)};$t&&Gt||($t=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Vt[++zt]=function(){!function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},Et(zt),zt},Gt=function(t){delete Vt[t]},"process"==N(Ft)?Et=function(t){Ft.nextTick($(Wt,t,1))}:Ut&&Ut.now?Et=function(t){Ut.now($(Wt,t,1))}:Bt?(Ct=(Pt=new Bt).port2,Pt.port1.onmessage=Yt,Et=$(Ct.postMessage,Ct,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(Et=function(t){s.postMessage(t+"","*")},s.addEventListener("message",Yt,!1)):Et="onreadystatechange"in b("script")?function(t){ot.appendChild(b("script")).onreadystatechange=function(){ot.removeChild(this),Wt.call(t)}}:function(t){setTimeout($(Wt,t,1),0)});var Ht={set:$t,clear:Gt},Xt=Ht.set,Qt=s.MutationObserver||s.WebKitMutationObserver,Jt=s.process,Zt=s.Promise,Kt="process"==N(Jt);function te(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=F(e),this.reject=F(n)}var ee={f:function(t){return new te(t)}},ne=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},re=s.navigator,ie=re&&re.userAgent||"",ae=function(t,e){if(d(t),l(e)&&e.constructor===t)return e;var n=ee.f(t);return(0,n.resolve)(e),n.promise},se=f("species"),oe=f("iterator"),he=!1;try{[7][oe]().return=function(){he=!0}}catch(t){}var ce,ue,fe,le,de=Ht.set,pe=function(){var t,e,n,r=function(){var r,i;for(Kt&&(r=Jt.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(Kt)n=function(){Jt.nextTick(r)};else if(!Qt||s.navigator&&s.navigator.standalone)if(Zt&&Zt.resolve){var i=Zt.resolve(void 0);n=function(){i.then(r)}}else n=function(){Xt.call(s,r)};else{var a=!0,o=document.createTextNode("");new Qt(r).observe(o,{characterData:!0}),n=function(){o.data=a=!a}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),ve=s.TypeError,ye=s.process,ge=ye&&ye.versions,be=ge&&ge.v8||"",me=s.Promise,Me="process"==kt(ye),_e=function(){},xe=ue=ee.f,we=!!function(){try{var t=me.resolve(1),e=(t.constructor={})[f("species")]=function(t){t(_e,_e)};return(Me||"function"==typeof PromiseRejectionEvent)&&t.then(_e)instanceof e&&0!==be.indexOf("6.6")&&-1===ie.indexOf("Chrome/66")}catch(t){}}(),Se=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},Ee=function(t,e){if(!t._n){t._n=!0;var n=t._c;pe(function(){for(var r=t._v,i=1==t._s,a=0,s=function(e){var n,a,s,o=i?e.ok:e.fail,h=e.resolve,c=e.reject,u=e.domain;try{o?(i||(2==t._h&&Ae(t),t._h=1),!0===o?n=r:(u&&u.enter(),n=o(r),u&&(u.exit(),s=!0)),n===e.promise?c(ve("Promise-chain cycle")):(a=Se(n))?a.call(n,h,c):h(n)):c(r)}catch(t){u&&!s&&u.exit(),c(t)}};n.length>a;)s(n[a++]);t._c=[],t._n=!1,e&&!t._h&&Pe(t)})}},Pe=function(t){de.call(s,function(){var e,n,r,i=t._v,a=Ce(t);if(a&&(e=ne(function(){Me?ye.emit("unhandledRejection",i,t):(n=s.onunhandledrejection)?n({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=Me||Ce(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},Ce=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ae=function(t){de.call(s,function(){var e;Me?ye.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},Oe=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Ee(e,!0))},ke=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw ve("Promise can't be resolved itself");(e=Se(t))?pe(function(){var r={_w:n,_d:!1};try{e.call(t,$(ke,r,1),$(Oe,r,1))}catch(t){Oe.call(r,t)}}):(n._v=t,n._s=1,Ee(n,!1))}catch(t){Oe.call({_w:n,_d:!1},t)}}};we||(me=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,me,"Promise","_h"),F(t),ce.call(this);try{t($(ke,this,1),$(Oe,this,1))}catch(t){Oe.call(this,t)}},(ce=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)q(t,r,e[r],n);return t}(me.prototype,{then:function(t,e){var n=xe(qt(this,me));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Me?ye.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Ee(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),fe=function(){var t=new ce;this.promise=t,this.resolve=$(ke,t,1),this.reject=$(Oe,t,1)},ee.f=xe=function(t){return t===me||t===le?new fe(t):ue(t)}),B(B.G+B.W+B.F*!we,{Promise:me}),pt(me,"Promise"),function(t){var e=s[t];v&&e&&!e[se]&&x.f(e,se,{configurable:!0,get:function(){return this}})}("Promise"),le=a.Promise,B(B.S+B.F*!we,"Promise",{reject:function(t){var e=xe(this);return(0,e.reject)(t),e.promise}}),B(B.S+B.F*!we,"Promise",{resolve:function(t){return ae(this,t)}}),B(B.S+B.F*!(we&&function(t,e){if(!e&&!he)return!1;var n=!1;try{var r=[7],i=r[oe]();i.next=function(){return{done:n=!0}},r[oe]=function(){return i},t(r)}catch(t){}return n}(function(t){me.all(t).catch(_e)})),"Promise",{all:function(t){var e=this,n=xe(e),r=n.resolve,i=n.reject,a=ne(function(){var n=[],a=0,s=1;Lt(t,!1,function(t){var o=a++,h=!1;n.push(void 0),s++,e.resolve(t).then(function(t){h||(h=!0,n[o]=t,--s||r(n))},i)}),--s||r(n)});return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=xe(e),r=n.reject,i=ne(function(){Lt(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}}),B(B.P+B.R,"Promise",{finally:function(t){var e=qt(this,a.Promise||s.Promise),n="function"==typeof t;return this.then(n?function(n){return ae(e,t()).then(function(){return n})}:t,n?function(n){return ae(e,t()).then(function(){throw n})}:t)}});var Ne=J(!0);B(B.P,"Array",{includes:function(t){return Ne(this,t,arguments.length>1?arguments[1]:void 0)}}),C("includes");var Te=f("match"),je=function(t){var e;return l(t)&&(void 0!==(e=t[Te])?!!e:"RegExp"==N(t))},Ie=function(t,e,n){if(je(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(I(t))},De=f("match"),Le=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[De]=!1,!"/./"[t](e)}catch(t){}}return!0};B(B.P+B.F*Le("includes"),"String",{includes:function(t){return!!~Ie(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});var Re={f:{}.propertyIsEnumerable},qe=Object.getOwnPropertyDescriptor,Fe={f:v?qe:function(t,e){if(t=D(t),e=M(e,!0),m)try{return qe(t,e)}catch(t){}if(R(t,e))return w(!Re.f.call(t,e),t[e])}},$e=function(t,e){if(d(t),!l(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Ge={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=$(Function.call,Fe.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return $e(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:$e}.set,Be=rt.concat("length","prototype"),Ue={f:Object.getOwnPropertyNames||function(t){return nt(t,Be)}},ze="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Ve="["+ze+"]",We=RegExp("^"+Ve+Ve+"*"),Ye=RegExp(Ve+Ve+"*$"),He=function(t,e,n){var r={},i=p(function(){return!!ze[t]()||"​"!="​"[t]()}),a=r[t]=i?e(Xe):ze[t];n&&(r[n]=a),B(B.P+B.F*i,"String",r)},Xe=He.trim=function(t,e){return t=String(I(t)),1&e&&(t=t.replace(We,"")),2&e&&(t=t.replace(Ye,"")),t},Qe=He,Je=Ue.f,Ze=Fe.f,Ke=x.f,tn=Qe.trim,en=s.Number,nn=en,rn=en.prototype,an="Number"==N(ft(rn)),sn="trim"in String.prototype,on=function(t){var e=M(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,a=(e=sn?e.trim():tn(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,o=e.slice(2),h=0,c=o.length;h<c;h++)if((s=o.charCodeAt(h))<48||s>i)return NaN;return parseInt(o,r)}}return+e};if(!en(" 0o1")||!en("0b1")||en("+0x1")){en=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof en&&(an?p(function(){rn.valueOf.call(n)}):"Number"!=N(n))?function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&l(r)&&Ge&&Ge(t,r),t}(new nn(on(e)),n,en):on(e)};for(var hn,cn=v?Je(nn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),un=0;cn.length>un;un++)R(nn,hn=cn[un])&&!R(en,hn)&&Ke(en,hn,Ze(nn,hn));en.prototype=rn,rn.constructor=en,q(s,"Number",en)}var ln=r(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),dn=r(function(t){var e=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)}),pn=(dn.version,function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}),vn=function(t){return"object"==typeof t?null!==t:"function"==typeof t},yn=function(t){if(!vn(t))throw TypeError(t+" is not an object!");return t},gn=function(t){try{return!!t()}catch(t){return!0}},bn=!gn(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),mn=ln.document,Mn=vn(mn)&&vn(mn.createElement),_n=function(t){return Mn?mn.createElement(t):{}},xn=!bn&&!gn(function(){return 7!=Object.defineProperty(_n("div"),"a",{get:function(){return 7}}).a}),wn=function(t,e){if(!vn(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!vn(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!vn(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!vn(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},Sn=Object.defineProperty,En={f:bn?Object.defineProperty:function(t,e,n){if(yn(t),e=wn(e,!0),yn(n),xn)try{return Sn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},Pn=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Cn=bn?function(t,e,n){return En.f(t,e,Pn(1,n))}:function(t,e,n){return t[e]=n,t},An={}.hasOwnProperty,On=function(t,e){return An.call(t,e)},kn=function(t,e,n){var r,i,a,s=t&kn.F,o=t&kn.G,h=t&kn.S,c=t&kn.P,u=t&kn.B,f=t&kn.W,l=o?dn:dn[e]||(dn[e]={}),d=l.prototype,p=o?ln:h?ln[e]:(ln[e]||{}).prototype;for(r in o&&(n=e),n)(i=!s&&p&&void 0!==p[r])&&On(l,r)||(a=i?p[r]:n[r],l[r]=o&&"function"!=typeof p[r]?n[r]:u&&i?pn(a,ln):f&&p[r]==a?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(a):c&&"function"==typeof a?pn(Function.call,a):a,c&&((l.virtual||(l.virtual={}))[r]=a,t&kn.R&&d&&!d[r]&&Cn(d,r,a)))};kn.F=1,kn.G=2,kn.S=4,kn.P=8,kn.B=16,kn.W=32,kn.U=64,kn.R=128;var Nn=kn,Tn={}.toString,jn=function(t){return Tn.call(t).slice(8,-1)},In=Array.isArray||function(t){return"Array"==jn(t)};Nn(Nn.S,"Array",{isArray:In});var Dn=dn.Array.isArray;var Ln,Rn=function(t,e){return{value:e,done:!!t}},qn={},Fn=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==jn(t)?t.split(""):Object(t)},$n=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Gn=function(t){return Fn($n(t))},Bn=Cn,Un=Math.ceil,zn=Math.floor,Vn=function(t){return isNaN(t=+t)?0:(t>0?zn:Un)(t)},Wn=Math.min,Yn=function(t){return t>0?Wn(Vn(t),9007199254740991):0},Hn=Math.max,Xn=Math.min,Qn=r(function(t){var e=ln["__core-js_shared__"]||(ln["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:dn.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),Jn=0,Zn=Math.random(),Kn=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Jn+Zn).toString(36))},tr=Qn("keys"),er=function(t){return tr[t]||(tr[t]=Kn(t))},nr=(Ln=!1,function(t,e,n){var r,i=Gn(t),a=Yn(i.length),s=function(t,e){return(t=Vn(t))<0?Hn(t+e,0):Xn(t,e)}(n,a);if(Ln&&e!=e){for(;a>s;)if((r=i[s++])!=r)return!0}else for(;a>s;s++)if((Ln||s in i)&&i[s]===e)return Ln||s||0;return!Ln&&-1}),rr=er("IE_PROTO"),ir=function(t,e){var n,r=Gn(t),i=0,a=[];for(n in r)n!=rr&&On(r,n)&&a.push(n);for(;e.length>i;)On(r,n=e[i++])&&(~nr(a,n)||a.push(n));return a},ar="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),sr=Object.keys||function(t){return ir(t,ar)},or=bn?Object.defineProperties:function(t,e){yn(t);for(var n,r=sr(e),i=r.length,a=0;i>a;)En.f(t,n=r[a++],e[n]);return t},hr=ln.document,cr=hr&&hr.documentElement,ur=er("IE_PROTO"),fr=function(){},lr=function(){var t,e=_n("iframe"),n=ar.length;for(e.style.display="none",cr.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),lr=t.F;n--;)delete lr.prototype[ar[n]];return lr()},dr=Object.create||function(t,e){var n;return null!==t?(fr.prototype=yn(t),n=new fr,fr.prototype=null,n[ur]=t):n=lr(),void 0===e?n:or(n,e)},pr=r(function(t){var e=Qn("wks"),n=ln.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:Kn)("Symbol."+t))}).store=e}),vr=En.f,yr=pr("toStringTag"),gr=function(t,e,n){t&&!On(t=n?t:t.prototype,yr)&&vr(t,yr,{configurable:!0,value:e})},br={};Cn(br,pr("iterator"),function(){return this});var mr=function(t){return Object($n(t))},Mr=er("IE_PROTO"),_r=Object.prototype,xr=Object.getPrototypeOf||function(t){return t=mr(t),On(t,Mr)?t[Mr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?_r:null},wr=pr("iterator"),Sr=!([].keys&&"next"in[].keys()),Er=function(){return this},Pr=function(t,e,n,r,i,a,s){!function(t,e,n){t.prototype=dr(br,{next:Pn(1,n)}),gr(t,e+" Iterator")}(n,e,r);var o,h,c,u=function(t){if(!Sr&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",l="values"==i,d=!1,p=t.prototype,v=p[wr]||p["@@iterator"]||i&&p[i],y=v||u(i),g=i?l?u("entries"):y:void 0,b="Array"==e&&p.entries||v;if(b&&(c=xr(b.call(new t)))!==Object.prototype&&c.next&&gr(c,f,!0),l&&v&&"values"!==v.name&&(d=!0,y=function(){return v.call(this)}),s&&(Sr||d||!p[wr])&&Cn(p,wr,y),qn[e]=y,qn[f]=Er,i)if(o={values:l?y:u("values"),keys:a?y:u("keys"),entries:g},s)for(h in o)h in p||Bn(p,h,o[h]);else Nn(Nn.P+Nn.F*(Sr||d),e,o);return o};Pr(Array,"Array",function(t,e){this._t=Gn(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Rn(1)):Rn(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");qn.Arguments=qn.Array;for(var Cr=pr("toStringTag"),Ar="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Or=0;Or<Ar.length;Or++){var kr=Ar[Or],Nr=ln[kr],Tr=Nr&&Nr.prototype;Tr&&!Tr[Cr]&&Cn(Tr,Cr,kr),qn[kr]=qn.Array}var jr=function(t){return function(e,n){var r,i,a=String($n(e)),s=Vn(n),o=a.length;return s<0||s>=o?t?"":void 0:(r=a.charCodeAt(s))<55296||r>56319||s+1===o||(i=a.charCodeAt(s+1))<56320||i>57343?t?a.charAt(s):r:t?a.slice(s,s+2):i-56320+(r-55296<<10)+65536}}(!0);Pr(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=jr(e,n),this._i+=t.length,{value:t,done:!1})});var Ir=pr("toStringTag"),Dr="Arguments"==jn(function(){return arguments}()),Lr=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ir))?n:Dr?jn(e):"Object"==(r=jn(e))&&"function"==typeof e.callee?"Arguments":r},Rr=pr("iterator"),qr=dn.getIteratorMethod=function(t){if(null!=t)return t[Rr]||t["@@iterator"]||qn[Lr(t)]},Fr=dn.getIterator=function(t){var e=qr(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return yn(e.call(t))};function $r(t,e){return function(t){if(Dn(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=Fr(t);!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Gr={inject:["$$coordinateTree","$$coordinateTreeParent"],computed:{parentBranch:function(){return this.$$coordinateTree.getBranch(this.$$coordinateTreeParent)},parentRangeTypes:function(){return this.parentBranch.domainTypes}}},Br=function(){var t=d(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};v&&"g"!=/./g.flags&&x.f(RegExp.prototype,"flags",{configurable:!0,get:Br});var Ur=/./.toString,zr=function(t){q(RegExp.prototype,"toString",t,!0)};p(function(){return"/a/b"!=Ur.call({source:"a",flags:"b"})})?zr(function(){var t=d(this);return"/".concat(t.source,"/","flags"in t?t.flags:!v&&t instanceof RegExp?Br.call(t):void 0)}):"toString"!=Ur.name&&zr(function(){return Ur.call(this)});var Vr={mixins:[Gr],inject:["$$transform"],props:{interpolate:{type:Boolean,default:!0}},computed:{__update:function(){return this.$$coordinateTree._update},_interpolate:function(){return this.interpolate}},methods:{createSVGStyle:function(t){for(var e=["fill","stroke","strokeWidth","opacity","fillOpacity","strokeOpacity","transition"],n={},r=0;r<e.length;r++)t[e[r]]&&(n[e[r]]=t[e[r]],"transition"===e[r]&&(n[e[r]]=n[e[r]].toString()+"s"));return n}},render:function(t){if(this.__update)return this.renderSVG(t)}};var Wr=function(t,e,n,r){try{return r?e(yn(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&yn(i.call(t)),e}},Yr=pr("iterator"),Hr=Array.prototype,Xr=function(t,e,n){e in t?En.f(t,e,Pn(0,n)):t[e]=n},Qr=pr("iterator"),Jr=!1;try{[7][Qr]().return=function(){Jr=!0}}catch(t){}Nn(Nn.S+Nn.F*!function(t,e){if(!e&&!Jr)return!1;var n=!1;try{var r=[7],i=r[Qr]();i.next=function(){return{done:n=!0}},r[Qr]=function(){return i},t(r)}catch(t){}return n}(function(t){}),"Array",{from:function(t){var e,n,r,i,a,s=mr(t),o="function"==typeof this?this:Array,h=arguments.length,c=h>1?arguments[1]:void 0,u=void 0!==c,f=0,l=qr(s);if(u&&(c=pn(c,h>2?arguments[2]:void 0,2)),null!=l&&(o!=Array||(void 0===(a=l)||qn.Array!==a&&Hr[Yr]!==a)))for(i=l.call(s),n=new o;!(r=i.next()).done;f++)Xr(n,f,u?Wr(i,c,[r.value,f],!0):r.value);else for(n=new o(e=Yn(s.length));e>f;f++)Xr(n,f,u?c(s[f],f):s[f]);return n.length=f,n}});var Zr=dn.Array.from,Kr=pr("iterator"),ti=dn.isIterable=function(t){var e=Object(t);return void 0!==e[Kr]||"@@iterator"in e||qn.hasOwnProperty(Lr(e))};function ei(t){return function(t){if(Dn(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(ti(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return Zr(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Nn(Nn.S+Nn.F*!bn,"Object",{defineProperty:En.f});var ri=dn.Object,ii=function(t,e,n){return ri.defineProperty(t,e,n)};function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),ii(t,r.key,r)}}function si(t,e,n){return e&&ai(t.prototype,e),n&&ai(t,n),t}var oi=function(){function t(){ni(this,t),this._coordinateTree=null,this._branchPaths={},this._update=1}return si(t,[{key:"setRoot",value:function(t){this._coordinateTree=new hi("root",null,t),this._branchPaths.root=[]}},{key:"addBranch",value:function(t,e,n){this.getBranch(e).children[t]=new hi(t,e,n);var r=this._branchPaths[e];this._branchPaths[t]=[].concat(ei(r),[t]),this._update++}},{key:"getBranch",value:function(t){var e=this._branchPaths[t],n=this._coordinateTree,r=!0,i=!1,a=void 0;try{for(var s,o=Fr(e);!(r=(s=o.next()).done);r=!0){var h=s.value;n=n.children[h]}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}},{key:"updateBranch",value:function(t,e){this.getBranch(t).update(e),this._update++}},{key:"removeBranch",value:function(t){var e=this._branchPaths[t];if(e){var n=this._coordinateTree,r=!0,i=!1,a=void 0;try{for(var s,o=Fr(e);!(r=(s=o.next()).done);r=!0){var h=s.value,c=n.children[h];if(c.id===t){delete n.children[h];break}n=c}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}for(var u in this._branchPaths){this._branchPaths[u].includes(t)&&delete this._branchPaths[u]}}this._update++}},{key:"getTotalTransformation",value:function(t){return function(e){for(var n=$r(e,2),r=n[0],i=n[1],a=this.getBranch(t),s=a.transform([r,i]);a.parentID;)s=(a=this.getBranch(a.parentID)).transform(s);return s}.bind(this)}}]),t}(),hi=function(){function t(e,n,r){ni(this,t),this.id=e,this.parentID=n,this.update(r),this.children={}}return si(t,[{key:"update",value:function(t){for(var e in t)this[e]=t[e]}}]),t}();function ci(t,e,n,r){if(!r.hasOwnProperty(n))throw new Error("\n      Prop '".concat(t,"', variable type '").concat(e,"':\n      No scale '").concat(n,"' found\n    "))}var ui=dn.JSON||(dn.JSON={stringify:JSON.stringify}),fi=function(t){return ui.stringify.apply(ui,arguments)};function li(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function di(t){var e;return 1===t.length&&(e=t,t=function(t,n){return li(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var pi=di(li).right,vi=Math.sqrt(50),yi=Math.sqrt(10),gi=Math.sqrt(2);function bi(t,e,n){var r,i,a,s,o=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=mi(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(i=Math.ceil(e-t+1));++o<i;)a[o]=(t+o)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(i=Math.ceil(t-e+1));++o<i;)a[o]=(t-o)/s;return r&&a.reverse(),a}function mi(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=vi?10:a>=yi?5:a>=gi?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=vi?10:a>=yi?5:a>=gi?2:1)}function Mi(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=vi?i*=10:a>=yi?i*=5:a>=gi&&(i*=2),e<t?-i:i}function _i(){}function xi(t,e){var n=new _i;if(t instanceof _i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}function wi(){}_i.prototype=xi.prototype={constructor:_i,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Si=xi.prototype;wi.prototype=function(t,e){var n=new wi;if(t instanceof wi)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:wi,has:Si.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Si.remove,clear:Si.clear,values:Si.keys,size:Si.size,empty:Si.empty,each:Si.each};var Ei=Array.prototype,Pi=Ei.map,Ci=Ei.slice,Ai={name:"implicit"};function Oi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ki(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ni(){}var Ti="\\s*([+-]?\\d+)\\s*",ji="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Di=/^#([0-9a-f]{3})$/,Li=/^#([0-9a-f]{6})$/,Ri=new RegExp("^rgb\\("+[Ti,Ti,Ti]+"\\)$"),qi=new RegExp("^rgb\\("+[Ii,Ii,Ii]+"\\)$"),Fi=new RegExp("^rgba\\("+[Ti,Ti,Ti,ji]+"\\)$"),$i=new RegExp("^rgba\\("+[Ii,Ii,Ii,ji]+"\\)$"),Gi=new RegExp("^hsl\\("+[ji,Ii,Ii]+"\\)$"),Bi=new RegExp("^hsla\\("+[ji,Ii,Ii,ji]+"\\)$"),Ui={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zi(t){var e;return t=(t+"").trim().toLowerCase(),(e=Di.exec(t))?new Xi((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Li.exec(t))?Vi(parseInt(e[1],16)):(e=Ri.exec(t))?new Xi(e[1],e[2],e[3],1):(e=qi.exec(t))?new Xi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Fi.exec(t))?Wi(e[1],e[2],e[3],e[4]):(e=$i.exec(t))?Wi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Gi.exec(t))?Ji(e[1],e[2]/100,e[3]/100,1):(e=Bi.exec(t))?Ji(e[1],e[2]/100,e[3]/100,e[4]):Ui.hasOwnProperty(t)?Vi(Ui[t]):"transparent"===t?new Xi(NaN,NaN,NaN,0):null}function Vi(t){return new Xi(t>>16&255,t>>8&255,255&t,1)}function Wi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xi(t,e,n,r)}function Yi(t){return t instanceof Ni||(t=zi(t)),t?new Xi((t=t.rgb()).r,t.g,t.b,t.opacity):new Xi}function Hi(t,e,n,r){return 1===arguments.length?Yi(t):new Xi(t,e,n,null==r?1:r)}function Xi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qi(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ji(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ki(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Oi(Ni,zi,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Oi(Xi,Hi,ki(Ni,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Xi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Qi(this.r)+Qi(this.g)+Qi(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Oi(Zi,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof Ni||(t=zi(t)),!t)return new Zi;if(t instanceof Zi)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,h=(a+i)/2;return o?(s=e===a?(n-r)/o+6*(n<r):n===a?(r-e)/o+2:(e-n)/o+4,o/=h<.5?a+i:2-a-i,s*=60):o=h>0&&h<1?0:s,new Zi(s,o,h,t.opacity)}(t):new Zi(t,e,n,null==r?1:r)},ki(Ni,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xi(Ki(t>=240?t-240:t+120,i,r),Ki(t,i,r),Ki(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var ta=Math.PI/180,ea=180/Math.PI,na=.96422,ra=1,ia=.82521,aa=4/29,sa=6/29,oa=3*sa*sa,ha=sa*sa*sa;function ca(t){if(t instanceof ua)return new ua(t.l,t.a,t.b,t.opacity);if(t instanceof va){if(isNaN(t.h))return new ua(t.l,0,0,t.opacity);var e=t.h*ta;return new ua(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Xi||(t=Yi(t));var n,r,i=pa(t.r),a=pa(t.g),s=pa(t.b),o=fa((.2225045*i+.7168786*a+.0606169*s)/ra);return i===a&&a===s?n=r=o:(n=fa((.4360747*i+.3850649*a+.1430804*s)/na),r=fa((.0139322*i+.0971045*a+.7141733*s)/ia)),new ua(116*o-16,500*(n-o),200*(o-r),t.opacity)}function ua(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function fa(t){return t>ha?Math.pow(t,1/3):t/oa+aa}function la(t){return t>sa?t*t*t:oa*(t-aa)}function da(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function pa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function va(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Oi(ua,function(t,e,n,r){return 1===arguments.length?ca(t):new ua(t,e,n,null==r?1:r)},ki(Ni,{brighter:function(t){return new ua(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ua(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Xi(da(3.1338561*(e=na*la(e))-1.6168667*(t=ra*la(t))-.4906146*(n=ia*la(n))),da(-.9787684*e+1.9161415*t+.033454*n),da(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Oi(va,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof va)return new va(t.h,t.c,t.l,t.opacity);if(t instanceof ua||(t=ca(t)),0===t.a&&0===t.b)return new va(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ea;return new va(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new va(t,e,n,null==r?1:r)},ki(Ni,{brighter:function(t){return new va(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new va(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ca(this).rgb()}}));var ya=-.14861,ga=1.78277,ba=-.29227,ma=-.90649,Ma=1.97294,_a=Ma*ma,xa=Ma*ga,wa=ga*ba-ma*ya;function Sa(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ea)return new Ea(t.h,t.s,t.l,t.opacity);t instanceof Xi||(t=Yi(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(wa*r+_a*e-xa*n)/(wa+_a-xa),a=r-i,s=(Ma*(n-i)-ba*a)/ma,o=Math.sqrt(s*s+a*a)/(Ma*i*(1-i)),h=o?Math.atan2(s,a)*ea-120:NaN;return new Ea(h<0?h+360:h,o,i,t.opacity)}(t):new Ea(t,e,n,null==r?1:r)}function Ea(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Pa(t){return function(){return t}}function Ca(t,e){return function(n){return t+n*e}}function Aa(t){return 1==(t=+t)?Oa:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Pa(isNaN(e)?n:e)}}function Oa(t,e){var n=e-t;return n?Ca(t,n):Pa(isNaN(t)?e:t)}Oi(Ea,Sa,ki(Ni,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ea(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ea(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ta,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Xi(255*(e+n*(ya*r+ga*i)),255*(e+n*(ba*r+ma*i)),255*(e+n*(Ma*r)),this.opacity)}}));var ka=function t(e){var n=Aa(e);function r(t,e){var r=n((t=Hi(t)).r,(e=Hi(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),s=Oa(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);var Na,Ta=(Na=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],s=r>0?t[r-1]:2*i-a,o=r<e-1?t[r+2]:2*a-i;return function(t,e,n,r,i){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*r+s*i)/6}((n-r/e)*e,s,i,a,o)}},function(t){var e,n,r=t.length,i=new Array(r),a=new Array(r),s=new Array(r);for(e=0;e<r;++e)n=Hi(t[e]),i[e]=n.r||0,a[e]=n.g||0,s[e]=n.b||0;return i=Na(i),a=Na(a),s=Na(s),n.opacity=1,function(t){return n.r=i(t),n.g=a(t),n.b=s(t),n+""}});function ja(t,e){return e-=t=+t,function(n){return t+e*n}}var Ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Da=new RegExp(Ia.source,"g");function La(t,e){var n,r=typeof e;return null==e||"boolean"===r?Pa(e):("number"===r?ja:"string"===r?(n=zi(e))?(e=n,ka):function(t,e){var n,r,i,a=Ia.lastIndex=Da.lastIndex=0,s=-1,o=[],h=[];for(t+="",e+="";(n=Ia.exec(t))&&(r=Da.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,h.push({i:s,x:ja(n,r)})),a=Da.lastIndex;return a<e.length&&(i=e.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,r=0;r<e;++r)o[(n=h[r]).i]=n.x(t);return o.join("")})}:e instanceof zi?ka:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=La(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=a[n](t);return s}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=La(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:ja)(t,e)}function Ra(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}Math.PI,Math.SQRT2;function qa(t){return function e(n){function r(e,r){var i=t((e=Sa(e)).h,(r=Sa(r)).h),a=Oa(e.s,r.s),s=Oa(e.l,r.l),o=Oa(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=s(Math.pow(t,n)),e.opacity=o(t),e+""}}return n=+n,r.gamma=e,r}(1)}qa(function(t,e){var n=e-t;return n?Ca(t,n>180||n<-180?n-360*Math.round(n/360):n):Pa(isNaN(t)?e:t)});var Fa=qa(Oa);function $a(t){return function(){return t}}function Ga(t){return+t}var Ba=[0,1];function Ua(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$a(e)}function za(t,e,n,r){var i=t[0],a=t[1],s=e[0],o=e[1];return a<i?(i=n(a,i),s=r(o,s)):(i=n(i,a),s=r(s,o)),function(t){return s(i(t))}}function Va(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),s=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)a[o]=n(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(e){var n=pi(t,e,1,i)-1;return s[n](a[n](e))}}function Wa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ya(t,e){var n,r,i,a=Ba,s=Ba,o=La,h=!1;function c(){return n=Math.min(a.length,s.length)>2?Va:za,r=i=null,u}function u(e){return(r||(r=n(a,s,h?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,o)))(+e)}return u.invert=function(t){return(i||(i=n(s,a,Ua,h?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},u.domain=function(t){return arguments.length?(a=Pi.call(t,Ga),c()):a.slice()},u.range=function(t){return arguments.length?(s=Ci.call(t),c()):s.slice()},u.rangeRound=function(t){return s=Ci.call(t),o=Ra,c()},u.clamp=function(t){return arguments.length?(h=!!t,c()):h},u.interpolate=function(t){return arguments.length?(o=t,c()):o},c()}function Ha(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xa(t){return(t=Ha(Math.abs(t)))?t[1]:NaN}var Qa,Ja=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Za(t){return new Ka(t)}function Ka(t){if(!(e=Ja.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function ts(t,e){var n=Ha(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Za.prototype=Ka.prototype,Ka.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var es={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ts(100*t,e)},r:ts,s:function(t,e){var n=Ha(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Qa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ha(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ns(t){return t}var rs,is,as,ss=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function os(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,a=[],s=0,o=e[0],h=0;i>0&&o>0&&(h+o+1>r&&(o=Math.max(1,r-h)),a.push(t.substring(i-=o,i+o)),!((h+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(n)}):ns,i=t.currency,a=t.decimal,s=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):ns,o=t.percent||"%";function h(t){var e=(t=Za(t)).fill,n=t.align,h=t.sign,c=t.symbol,u=t.zero,f=t.width,l=t.comma,d=t.precision,p=t.trim,v=t.type;"n"===v?(l=!0,v="g"):es[v]||(null==d&&(d=12),p=!0,v="g"),(u||"0"===e&&"="===n)&&(u=!0,e="0",n="=");var y="$"===c?i[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",g="$"===c?i[1]:/[%p]/.test(v)?o:"",b=es[v],m=/[defgprs%]/.test(v);function M(t){var i,o,c,M=y,_=g;if("c"===v)_=b(t)+_,t="";else{var x=(t=+t)<0;if(t=b(Math.abs(t),d),p&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),x&&0==+t&&(x=!1),M=(x?"("===h?h:"-":"-"===h||"("===h?"":h)+M,_=("s"===v?ss[8+Qa/3]:"")+_+(x&&"("===h?")":""),m)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){_=(46===c?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}l&&!u&&(t=r(t,1/0));var w=M.length+t.length+_.length,S=w<f?new Array(f-w+1).join(e):"";switch(l&&u&&(t=r(S+t,S.length?f-_.length:1/0),S=""),n){case"<":t=M+t+_+S;break;case"=":t=M+S+t+_;break;case"^":t=S.slice(0,w=S.length>>1)+M+t+_+S.slice(w);break;default:t=S+M+t+_}return s(t)}return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=Za(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Xa(e)/3))),i=Math.pow(10,-r),a=ss[8+r/3];return function(t){return n(i*t)+a}}}}function hs(t,e,n){var r,i=t[0],a=t[t.length-1],s=Mi(i,a,null==e?10:e);switch((n=Za(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xa(e)/3)))-Xa(Math.abs(t)))}(s,o))||(n.precision=r),as(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xa(e)-Xa(t))+1}(s,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-Xa(Math.abs(t)))}(s))||(n.precision=r-2*("%"===n.type))}return is(n)}function cs(t){var e=t.domain;return t.ticks=function(t){var n=e();return bi(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return hs(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,s=i.length-1,o=i[a],h=i[s];return h<o&&(r=o,o=h,h=r,r=a,a=s,s=r),(r=mi(o,h,n))>0?r=mi(o=Math.floor(o/r)*r,h=Math.ceil(h/r)*r,n):r<0&&(r=mi(o=Math.ceil(o*r)/r,h=Math.floor(h*r)/r,n)),r>0?(i[a]=Math.floor(o/r)*r,i[s]=Math.ceil(h/r)*r,e(i)):r<0&&(i[a]=Math.ceil(o*r)/r,i[s]=Math.floor(h*r)/r,e(i)),t},t}function us(){var t=Ya(Ua,ja);return t.copy=function(){return Wa(t,us())},cs(t)}function fs(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],s=t[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),t[r]=e.floor(a),t[i]=e.ceil(s),t}function ls(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:$a(e)}function ds(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function ps(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vs(t){return 10===t?ps:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function ys(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function gs(t){return function(e){return-t(-e)}}function bs(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function ms(){var t=1,e=Ya(function(e,n){return(n=bs(n,t)-(e=bs(e,t)))?function(r){return(bs(r,t)-e)/n}:$a(n)},function(e,n){return n=bs(n,t)-(e=bs(e,t)),function(r){return bs(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return Wa(e,ms().exponent(t))},cs(e)}rs=os({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),is=rs.format,as=rs.formatPrefix;var Ms=new Date,_s=new Date;function xs(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var s,o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return o;do{o.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<r);return o},i.filter=function(n){return xs(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Ms.setTime(+e),_s.setTime(+r),t(Ms),t(_s),Math.floor(n(Ms,_s))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var ws=xs(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ws.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?xs(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):ws:null};ws.range;var Ss=6e4,Es=6048e5,Ps=xs(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Cs=(Ps.range,xs(function(t){t.setTime(Math.floor(t/Ss)*Ss)},function(t,e){t.setTime(+t+e*Ss)},function(t,e){return(e-t)/Ss},function(t){return t.getMinutes()})),As=(Cs.range,xs(function(t){var e=t.getTimezoneOffset()*Ss%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),Os=(As.range,xs(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ss)/864e5},function(t){return t.getDate()-1}));Os.range;function ks(t){return xs(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ss)/Es})}var Ns=ks(0),Ts=ks(1),js=(ks(2),ks(3),ks(4)),Is=(ks(5),ks(6),Ns.range,Ts.range,js.range,xs(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Ds=(Is.range,xs(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Ds.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xs(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};Ds.range,xs(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Ss)},function(t,e){return(e-t)/Ss},function(t){return t.getUTCMinutes()}).range,xs(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}).range;var Ls=xs(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});Ls.range;function Rs(t){return xs(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Es})}var qs=Rs(0),Fs=Rs(1),$s=(Rs(2),Rs(3),Rs(4)),Gs=(Rs(5),Rs(6),qs.range,Fs.range,$s.range,xs(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}).range,xs(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Gs.every=function(t){return isFinite(t=Math.floor(t))&&t>0?xs(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};Gs.range;function Bs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Us(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zs(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Vs,Ws,Ys,Hs,Xs={"-":"",_:" ",0:"0"},Qs=/^\s*\d+/,Js=/^%/,Zs=/[\\^$*+?|[\]().{}]/g;function Ks(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function to(t){return t.replace(Zs,"\\$&")}function eo(t){return new RegExp("^(?:"+t.map(to).join("|")+")","i")}function no(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ro(t,e,n){var r=Qs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function io(t,e,n){var r=Qs.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ao(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function so(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function oo(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=Qs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function co(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uo(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fo(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lo(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function po(t,e,n){var r=Qs.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vo(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yo(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function go(t,e,n){var r=Qs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bo(t,e,n){var r=Qs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mo(t,e,n){var r=Qs.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mo(t,e,n){var r=Js.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _o(t,e,n){var r=Qs.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xo(t,e,n){var r=Qs.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function wo(t,e){return Ks(t.getDate(),e,2)}function So(t,e){return Ks(t.getHours(),e,2)}function Eo(t,e){return Ks(t.getHours()%12||12,e,2)}function Po(t,e){return Ks(1+Os.count(Ds(t),t),e,3)}function Co(t,e){return Ks(t.getMilliseconds(),e,3)}function Ao(t,e){return Co(t,e)+"000"}function Oo(t,e){return Ks(t.getMonth()+1,e,2)}function ko(t,e){return Ks(t.getMinutes(),e,2)}function No(t,e){return Ks(t.getSeconds(),e,2)}function To(t){var e=t.getDay();return 0===e?7:e}function jo(t,e){return Ks(Ns.count(Ds(t),t),e,2)}function Io(t,e){var n=t.getDay();return t=n>=4||0===n?js(t):js.ceil(t),Ks(js.count(Ds(t),t)+(4===Ds(t).getDay()),e,2)}function Do(t){return t.getDay()}function Lo(t,e){return Ks(Ts.count(Ds(t),t),e,2)}function Ro(t,e){return Ks(t.getFullYear()%100,e,2)}function qo(t,e){return Ks(t.getFullYear()%1e4,e,4)}function Fo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ks(e/60|0,"0",2)+Ks(e%60,"0",2)}function $o(t,e){return Ks(t.getUTCDate(),e,2)}function Go(t,e){return Ks(t.getUTCHours(),e,2)}function Bo(t,e){return Ks(t.getUTCHours()%12||12,e,2)}function Uo(t,e){return Ks(1+Ls.count(Gs(t),t),e,3)}function zo(t,e){return Ks(t.getUTCMilliseconds(),e,3)}function Vo(t,e){return zo(t,e)+"000"}function Wo(t,e){return Ks(t.getUTCMonth()+1,e,2)}function Yo(t,e){return Ks(t.getUTCMinutes(),e,2)}function Ho(t,e){return Ks(t.getUTCSeconds(),e,2)}function Xo(t){var e=t.getUTCDay();return 0===e?7:e}function Qo(t,e){return Ks(qs.count(Gs(t),t),e,2)}function Jo(t,e){var n=t.getUTCDay();return t=n>=4||0===n?$s(t):$s.ceil(t),Ks($s.count(Gs(t),t)+(4===Gs(t).getUTCDay()),e,2)}function Zo(t){return t.getUTCDay()}function Ko(t,e){return Ks(Fs.count(Gs(t),t),e,2)}function th(t,e){return Ks(t.getUTCFullYear()%100,e,2)}function eh(t,e){return Ks(t.getUTCFullYear()%1e4,e,4)}function nh(){return"+0000"}function rh(){return"%"}function ih(t){return+t}function ah(t){return Math.floor(+t/1e3)}!function(t){Vs=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,h=t.shortMonths,c=eo(i),u=no(i),f=eo(a),l=no(a),d=eo(s),p=no(s),v=eo(o),y=no(o),g=eo(h),b=no(h),m={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:wo,e:wo,f:Ao,H:So,I:Eo,j:Po,L:Co,m:Oo,M:ko,p:function(t){return i[+(t.getHours()>=12)]},Q:ih,s:ah,S:No,u:To,U:jo,V:Io,w:Do,W:Lo,x:null,X:null,y:Ro,Y:qo,Z:Fo,"%":rh},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:$o,e:$o,f:Vo,H:Go,I:Bo,j:Uo,L:zo,m:Wo,M:Yo,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:ih,s:ah,S:Ho,u:Xo,U:Qo,V:Jo,w:Zo,W:Ko,x:null,X:null,y:th,Y:eh,Z:nh,"%":rh},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=l[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:lo,e:lo,f:mo,H:vo,I:vo,j:po,L:bo,m:fo,M:yo,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},Q:_o,s:xo,S:go,u:io,U:ao,V:so,w:ro,W:oo,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:co,Y:ho,Z:uo,"%":Mo};function x(t,e){return function(n){var r,i,a,s=[],o=-1,h=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===t.charCodeAt(o)&&(s.push(t.slice(h,o)),null!=(i=Xs[r=t.charAt(++o)])?r=t.charAt(++o):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),s.push(r),h=o+1);return s.push(t.slice(h,o)),s.join("")}}function w(t,e){return function(n){var r,i,a=zs(1900);if(S(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Us(zs(a.y))).getUTCDay(),r=i>4||0===i?Fs.ceil(r):Fs(r),r=Ls.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=e(zs(a.y))).getDay(),r=i>4||0===i?Ts.ceil(r):Ts(r),r=Os.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Us(zs(a.y)).getUTCDay():e(zs(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Us(a)):e(a)}}function S(t,e,n,r){for(var i,a,s=0,o=e.length,h=n.length;s<o;){if(r>=h)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(a=_[i in Xs?e.charAt(s++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=x(n,m),m.X=x(r,m),m.c=x(e,m),M.x=x(n,M),M.X=x(r,M),M.c=x(e,M),{format:function(t){var e=x(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",Bs);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,Us);return e.toString=function(){return t},e}}}(t),Ws=Vs.format,Vs.parse,Ys=Vs.utcFormat,Hs=Vs.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Ys("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Hs("%Y-%m-%dT%H:%M:%S.%LZ");var sh=1e3,oh=60*sh,hh=60*oh,ch=24*hh,uh=7*ch,fh=30*ch,lh=365*ch;function dh(t){return new Date(t)}function ph(t){return t instanceof Date?+t:+new Date(+t)}function vh(){return function t(e,n,r,i,a,s,o,h,c){var u=Ya(Ua,ja),f=u.invert,l=u.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),b=c("%b %d"),m=c("%B"),M=c("%Y"),_=[[o,1,sh],[o,5,5*sh],[o,15,15*sh],[o,30,30*sh],[s,1,oh],[s,5,5*oh],[s,15,15*oh],[s,30,30*oh],[a,1,hh],[a,3,3*hh],[a,6,6*hh],[a,12,12*hh],[i,1,ch],[i,2,2*ch],[r,1,uh],[n,1,fh],[n,3,3*fh],[e,1,lh]];function x(t){return(o(t)<t?d:s(t)<t?p:a(t)<t?v:i(t)<t?y:n(t)<t?r(t)<t?g:b:e(t)<t?m:M)(t)}function w(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(r-n)/t,s=di(function(t){return t[2]}).right(_,a);s===_.length?(i=Mi(n/lh,r/lh,t),t=e):s?(i=(s=_[a/_[s-1][2]<_[s][2]/a?s-1:s])[1],t=s[0]):(i=Math.max(Mi(n,r,t),1),t=h)}return null==i?t:t.every(i)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?l(Pi.call(t,ph)):l().map(dh)},u.ticks=function(t,e){var n,r=l(),i=r[0],a=r[r.length-1],s=a<i;return s&&(n=i,i=a,a=n),n=(n=w(t,i,a,e))?n.range(i,a+1):[],s?n.reverse():n},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t,e){var n=l();return(t=w(t,n[0],n[n.length-1],e))?l(fs(n,t)):u},u.copy=function(){return Wa(u,t(e,n,r,i,a,s,o,h,c))},u}(Ds,Is,Ns,Os,As,Cs,Ps,ws,Ws).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}var yh={linear:function(t,e){return us().domain(t).range(e)},log:function(t,e){var n=JSON.parse(fi(t));0===n[0]&&(n[0]+=1e-6);return r=function t(){var e=Ya(ls,ds).domain([1,10]),n=e.domain,r=10,i=ys(10),a=vs(10);function s(){return i=ys(r),a=vs(r),n()[0]<0&&(i=gs(i),a=gs(a)),e}return e.base=function(t){return arguments.length?(r=+t,s()):r},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=function(t){var e,s=n(),o=s[0],h=s[s.length-1];(e=h<o)&&(l=o,o=h,h=l);var c,u,f,l=i(o),d=i(h),p=null==t?10:+t,v=[];if(!(r%1)&&d-l<p){if(l=Math.round(l)-1,d=Math.round(d)+1,o>0){for(;l<d;++l)for(u=1,c=a(l);u<r;++u)if(!((f=c*u)<o)){if(f>h)break;v.push(f)}}else for(;l<d;++l)for(u=r-1,c=a(l);u>=1;--u)if(!((f=c*u)<o)){if(f>h)break;v.push(f)}}else v=bi(l,d,Math.min(d-l,p)).map(a);return e?v.reverse():v},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=is(n)),t===1/0)return n;null==t&&(t=10);var s=Math.max(1,r*t/e.ticks().length);return function(t){var e=t/a(Math.round(i(t)));return e*r<r-.5&&(e*=r),e<=s?n(t):""}},e.nice=function(){return n(fs(n(),{floor:function(t){return a(Math.floor(i(t)))},ceil:function(t){return a(Math.ceil(i(t)))}}))},e.copy=function(){return Wa(e,t().base(r))},e}().domain(n).range(e),function(t){return 0===t&&(t=1e6),r(t)};var r},square:function(t,e){return ms().exponent(2).domain(t).range(e)},squareRoot:function(t,e){return ms().exponent(.5).domain(t).range(e)}};var gh={temporal:function(t,e){return vh().domain(t).nice().range(e)}};for(var bh=f("iterator"),mh=f("toStringTag"),Mh=O.Array,_h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},xh=it(_h),wh=0;wh<xh.length;wh++){var Sh,Eh=xh[wh],Ph=_h[Eh],Ch=s[Eh],Ah=Ch&&Ch.prototype;if(Ah&&(Ah[bh]||S(Ah,bh,Mh),Ah[mh]||S(Ah,mh,Eh),O[Eh]=Mh,Ph))for(Sh in St)Ah[Sh]||q(Ah,Sh,St[Sh],!0)}var Oh={equidistant:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=e[1]-e[0]-n-r,a=t.length,s=i/a,o={},h=0;return t.forEach(function(t){o[t]=e[0]+n+h*s+s/2,h++}),function(t){return o[t]}}};function kh(t,e,n,r,i){if("quantitative"===e){var a=i.type||"linear";ci(t,e,a,yh);var s=yh[a](n,r);if(i.absolute)return function(t){return s(Math.abs(t))};if(!i.absolute)return s}if("temporal"===e){var o=i.type||"temporal";return ci(t,e,o,gh),gh[o](n,r)}if("categorical"===e){var h=i.type||"equidistant";return ci(t,e,h,Oh),Oh[h](n,r)}}function Nh(t){var e,n,r=t.ranges,i=t.dataInterface,a=i.getDomain("geometry.x"),s=i.getDomain("geometry.y"),o=r.x[1]-r.x[0],h=r.y[1]-r.y[0],c=(r.x[0]+r.x[1])/2,u=(r.y[0]+r.y[1])/2,f=o/(a[1]-a[0]),l=h/(s[1]-s[0]),d=[c,u];if(f<l){var p=o/2,v=[u-p,u+p];e=kh("x","quantitative",a,r.x,{}),n=kh("y","quantitative",s,v,{})}if(f>l){var y=h/2;e=kh("x","quantitative",a,[c-y,c+y],{}),n=kh("y","quantitative",s,r.y,{})}return{scaleX:e,scaleY:n,center:d}}var Th="".startsWith;B(B.P+B.F*Le("startsWith"),"String",{startsWith:function(t){var e=Ie(this,t,"startsWith"),n=Y(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Th?Th.call(e,r,n):e.slice(n,n+r.length)===r}});var jh,Ih={f:{}.propertyIsEnumerable},Dh=Ih.f,Lh=(jh=!1,function(t){for(var e,n=Gn(t),r=sr(n),i=r.length,a=0,s=[];i>a;)Dh.call(n,e=r[a++])&&s.push(jh?[e,n[e]]:n[e]);return s});Nn(Nn.S,"Object",{values:function(t){return Lh(t)}});var Rh=dn.Object.values;function qh(t,e){switch(t.constructor){case Number:return"quantitative";case String:return"categorical";case Date:return"temporal";case Object:if(t.hasOwnProperty("type")&&t.hasOwnProperty("coordinates"))return"geometry";if(Rh(t).every(function(t){return t.constructor===Array}))return"nested";if(e)throw new Error("Invalid data");return;default:if(e)throw new Error("Invalid data");return}}function Fh(t){return void 0!==t}function $h(t){return void 0===t}function Gh(t){return null==t||t.constructor===Number&&!isFinite(t)}function Bh(t){return Gh(t)||Gh(t[0])||Gh(t[1])}function Uh(t,e,n){var r,i,a;if(![Array,String,Object].includes(t.constructor))throw new Error("Invalid scale options: only Array, String or Object allowed");if(t.constructor===String){if(t.startsWith("#"))return n.getScale(t);a={domain:t}}else if(t.constructor===Array)a={domain:t};else{if(!t.domain)throw new Error("Invalid scale options: missing required option 'domain'");a=t}var s=a.domain.constructor;if(s===String)if(e.ready()){if(!e.hasColumn(a.domain))throw new Error("Invalid scale options: domain '".concat(r,"' not found"));r=a.absolute?zh(e.getColumn(a.domain)):e.getDomain(a.domain),i=e.getType(a.domain)}else r=[0,1],i="quantitative";return s===Array&&(!function(t){if(t.length<2)throw new Error("Invalid domain specification array: length shorter than 2");var e=!1;if(t[0].constructor===Number)t[1].constructor===Number&&2===t.length||(e=!0);else if(t[0].constructor===String){for(var n=1;n<t.length;n++)if(t[n].constructor!==String){e=!0;break}}else t[0].constructor===Date&&(t[1].constructor===Date&&2===t.length||(e=!0));if(e)throw new Error("Invalid domain specification array")}(a.domain),r=a.domain,a.absolute&&(r=zh(r)),i=qh(r[0])),[r=function(t,e,n,r){if(function(t,e){if("categorical"===t){if(function(t){for(var e=["domainMin","domainMax","domainMid","absolute"],n=0;n<e.length;n++){var r=e[n];if(t.hasOwnProperty(r))return!0}return!1}(e))throw new Error("Invalid scaling options for categorical domain: ".concat(fi(e)));return!1}return function(t,e){for(var n=["domainMin","domainMax","domainMid"],r=0;r<n.length;r++){var i=n[r];if(e.hasOwnProperty(i)){var a=qh(e[i]);if(a!==t)throw new Error("Invalid type for ".concat(i,": '").concat(a,"'. Expected type '").concat(t,"'"))}}}(t,e),!0}(e,n)){var i=[t[0],t[1]];return Fh(n.domainMin)&&(i[0]=n.domainMin),Fh(n.domainMax)&&(i[1]=n.domainMax),i}return t}(r,i,a),i,a]}function zh(t){var e=1/0,n=-1/0,r=!0,i=!1,a=void 0;try{for(var s,o=Fr(t);!(r=(s=o.next()).done);r=!0){var h=s.value,c=Math.abs(h);e=c<e?c:e,n=c>n?c:n}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return[e,n]}function Vh(t,e){var n=[t[0],t[1]];return Fh(e.rangeMin)&&(n[0]=e.domainMin),Fh(e.rangeMax)&&(n[1]=e.domainMax),n}var Wh=function(){function t(e){ni(this,t),e.scales.hasOwnProperty("geo")?this.setGeoTransformation(e):this.setTransformation(e)}return si(t,[{key:"setTransformation",value:function(t){var e=this,n=t.scales,r=t.ranges,i=t.dataInterface,a=t.scaleManager,s=$r(Uh(n.x,i,a),3),o=s[0],h=s[1],c=s[2],u=$r(Uh(n.y,i,a),3),f=u[0],l=u[1],d=u[2];if(this.domainTypes={x:h,y:l},this.domains={},["categorical","temporal"].includes(this.domainTypes.x)?this.domains.x=r.x:this.domains.x=o,["categorical","temporal"].includes(this.domainTypes.y)?this.domains.y=r.y:this.domains.y=f,this.ranges={x:Vh(r.x,c),y:Vh(r.y,d)},this.scaleX=kh("x",h,o,this.ranges.x,c),this.scaleY=kh("y",l,f,this.ranges.y,d),["categorical","temporal"].includes(this.domainTypes.x)?this.getX=function(t){return t.constructor===Number?t:e.scaleX(t)}:this.getX=this.scaleX,["categorical","temporal"].includes(this.domainTypes.y)?this.getY=function(t){return t.constructor===Number?t:e.scaleY(t)}:this.getY=this.scaleY,"scale"===t.type&&(this.transform=function(t){var n=$r(t,2),r=n[0],i=n[1];return[e.getX(r),e.getY(i)]}),"polar"===t.type){var p=kh("x","quantitative",this.ranges.x,[0,2*Math.PI],{}),v=kh("y","quantitative",this.ranges.y,[0,1],{}),y=kh("x","quantitative",[-1,1],this.ranges.x,{}),g=kh("y","quantitative",[-1,1],this.ranges.y,{});this.transform=function(t){var n=$r(t,2),r=n[0],i=n[1],a=e.getX(r),s=e.getY(i),o=function(t,e){var n=e*Math.sin(t),r=e*Math.cos(t);return[n,r]}(p(a),v(s));return[y(o[0]),g(o[1])]}}}},{key:"setGeoTransformation",value:function(t){var e=this,n=t.ranges,r=t.dataInterface,i=r.getDomain("geometry.x"),a=r.getDomain("geometry.y");this.domains={x:i,y:a},this.domainTypes={x:"quantitative",y:"quantitative"},this.ranges=n;var s=Nh(t),o=s.scaleX,h=s.scaleY,c=s.center;this.scaleX=o,this.scaleY=h,this.center=c,this.getX=this.scaleX,this.getY=this.scaleY,this.transform=function(t){var n=$r(t,2),r=n[0],i=n[1];return[e.getX(r),e.getY(i)]}}}]),t}();var Yh={props:{width:{type:Number,required:!0},height:{type:Number,required:!0},flip:{type:Boolean,default:!0}},data:function(){return{ready:!1,coordinateTree:new oi}},mounted:function(){this.setCoordinateTreeRoot(),this.ready=!0},methods:{setCoordinateTreeRoot:function(){var t={x:[0,this.width],y:[0,this.height]},e={x:[0,this.width],y:[0,this.height]};this.flip&&(e.y=[this.height,0]);var n=new Wh({type:"scale",scales:t,ranges:e});this.coordinateTree.setRoot(n)}},provide:function(){return{$$coordinateTree:this.coordinateTree,$$transform:this.coordinateTree.getTotalTransformation("root"),$$coordinateTreeParent:"root",$$map:!1}}},Hh="".endsWith;function Xh(t){switch(t){case"center":return{textAnchor:"middle",dominantBaseline:"middle"};case"lb":return{textAnchor:"start",dominantBaseline:"alphabetic"};case"lt":return{textAnchor:"start",dominantBaseline:"hanging"};case"rt":return{textAnchor:"end",dominantBaseline:"hanging"};case"rb":return{textAnchor:"end",dominantBaseline:"alphabetic"};case"l":return{textAnchor:"start",dominantBaseline:"middle"};case"r":return{textAnchor:"end",dominantBaseline:"middle"};case"b":return{textAnchor:"middle",dominantBaseline:"alphabetic"};case"t":return{textAnchor:"middle",dominantBaseline:"hanging"}}}B(B.P+B.F*Le("endsWith"),"String",{endsWith:function(t){var e=Ie(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=Y(e.length),i=void 0===n?r:Math.min(Y(n),r),a=String(t);return Hh?Hh.call(e,a,i):e.slice(i-a.length,i)===a}});var Qh={mixins:[Vr,Yh],props:{x:{type:Number,required:!0},y:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb"].includes(t)}}},computed:{transformedXY:function(){if(this.__update)return this.$$transform([this.x,this.y])},anchorPointAdjustedXY:function(){return function(t,e,n,r,i){var a=$r(t,2),s=a[0],o=a[1];if(r===i)return[s,o];var h=[];if("center"===r?h=[s,o]:(h[0]=r.startsWith("l")?s-e/2:s+e/2,h[1]=r.endsWith("b")?o+n/2:o-n/2),"center"===i)return h;var c=$r(h,2),u=c[0],f=c[1],l=[];return l[0]=i.startsWith("l")?u+e/2:u-e/2,l[1]=i.endsWith("b")?f-n/2:f+n/2,l}(this.transformedXY,this.width,this.height,"lt",this.anchorPoint)},translate:function(){var t=$r(this.anchorPointAdjustedXY,2),e=t[0],n=t[1];return"translate(".concat(e,", ").concat(n,")")}}};function Jh(t,e,n,r,i,a,s,o,h,c){"function"==typeof s&&(h=o,o=s,s=!1);const u="function"==typeof n?n.options:n;let f;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),a?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,h(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=f):e&&(f=s?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),f)if(u.functional){const t=u.render;u.render=function(e,n){return f.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,f):[f]}return n}var Zh=Qh;Qh.__file="Glyph.vue";var Kh=Jh({render:function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("g",{staticClass:"glyph",attrs:{transform:this.translate}},[this._t("default")],2):this._e()},staticRenderFns:[]},void 0,Zh,void 0,!1,void 0,void 0,void 0),tc={mixins:[Vr],props:{x:{type:[Number,String,Date,Object,void 0],default:void 0},y:{type:[Number,String,Date,Object,void 0],default:void 0},width:{type:[Number,Object],default:10},height:{type:[Number,Object],default:10},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb"].includes(t)}}},computed:{aesthetics:function(){return{x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),width:this.parseAesthetic(this.width),height:this.parseAesthetic(this.height),anchorPoint:this.parseProperty(this.anchorPoint,{default:"center"})}}},methods:{renderSVG:function(t,e){return t(Kh,{props:e},this.$slots.default)}}},ec=tc;tc.__file="GlyphWrapper.vue";var nc,rc,ic=Jh({},void 0,ec,void 0,void 0,void 0,void 0,void 0),ac=function(t){return function(e,n){var r,i,a=String(I(e)),s=V(n),o=a.length;return s<0||s>=o?t?"":void 0:(r=a.charCodeAt(s))<55296||r>56319||s+1===o||(i=a.charCodeAt(s+1))<56320||i>57343?t?a.charAt(s):r:t?a.slice(s,s+2):i-56320+(r-55296<<10)+65536}}(!0),sc=function(t,e,n){return e+(n?ac(t,e).length:1)},oc=RegExp.prototype.exec,hc=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==kt(t))throw new TypeError("RegExp#exec called on incompatible receiver");return oc.call(t,e)},cc=RegExp.prototype.exec,uc=String.prototype.replace,fc=cc,lc=(nc=/a/,rc=/b*/g,cc.call(nc,"a"),cc.call(rc,"a"),0!==nc.lastIndex||0!==rc.lastIndex),dc=void 0!==/()??/.exec("")[1];(lc||dc)&&(fc=function(t){var e,n,r,i,a=this;return dc&&(n=new RegExp("^"+a.source+"$(?!\\s)",Br.call(a))),lc&&(e=a.lastIndex),r=cc.call(a,t),lc&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),dc&&r&&r.length>1&&uc.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var pc=fc;B({target:"RegExp",proto:!0,forced:pc!==/./.exec},{exec:pc});var vc=f("species"),yc=!p(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),gc=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),bc=function(t,e,n){var r=f(t),i=!p(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)}),a=i?!p(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[vc]=function(){return n}),n[r](""),!e}):void 0;if(!i||!a||"replace"===t&&!yc||"split"===t&&!gc){var s=/./[r],o=n(I,r,""[t],function(t,e,n,r,a){return e.exec===pc?i&&!a?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),h=o[0],c=o[1];q(String.prototype,t,h),S(RegExp.prototype,r,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}},mc=Math.max,Mc=Math.min,_c=Math.floor,xc=/\$([$&`']|\d\d?|<[^>]*>)/g,wc=/\$([$&`']|\d\d?)/g;bc("replace",2,function(t,e,n,r){return[function(r,i){var a=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,a,i):n.call(String(a),r,i)},function(t,e){var a=r(n,t,this,e);if(a.done)return a.value;var s=d(t),o=String(this),h="function"==typeof e;h||(e=String(e));var c=s.global;if(c){var u=s.unicode;s.lastIndex=0}for(var f=[];;){var l=hc(s,o);if(null===l)break;if(f.push(l),!c)break;""===String(l[0])&&(s.lastIndex=sc(o,Y(s.lastIndex),u))}for(var p,v="",y=0,g=0;g<f.length;g++){l=f[g];for(var b=String(l[0]),m=mc(Mc(V(l.index),o.length),0),M=[],_=1;_<l.length;_++)M.push(void 0===(p=l[_])?p:String(p));var x=l.groups;if(h){var w=[b].concat(M,m,o);void 0!==x&&w.push(x);var S=String(e.apply(void 0,w))}else S=i(b,o,m,M,x,e);m>=y&&(v+=o.slice(y,m)+S,y=m+b.length)}return v+o.slice(y)}];function i(t,e,r,i,a,s){var o=r+t.length,h=i.length,c=wc;return void 0!==a&&(a=gt(a),c=xc),n.call(s,c,function(n,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(o);case"<":c=a[s.slice(1,-1)];break;default:var u=+s;if(0===u)return n;if(u>h){var f=_c(u/10);return 0===f?n:f<=h?void 0===i[f-1]?s.charAt(1):i[f-1]+s.charAt(1):n}c=i[u-1]}return void 0===c?"":c})}});var Sc=r(function(t){var e=Kn("meta"),n=En.f,r=0,i=Object.isExtensible||function(){return!0},a=!gn(function(){return i(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},o=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!vn(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!On(t,e)){if(!i(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!On(t,e)){if(!i(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return a&&o.NEED&&i(t)&&!On(t,e)&&s(t),t}}}),Ec=(Sc.KEY,Sc.NEED,Sc.fastKey,Sc.getWeak,Sc.onFreeze,function(t,e){var n=(dn.Object||{})[t]||Object[t],r={};r[t]=e(n),Nn(Nn.S+Nn.F*gn(function(){n(1)}),"Object",r)}),Pc=Sc.onFreeze;Ec("freeze",function(t){return function(e){return t&&vn(e)?t(Pc(e)):e}});var Cc=dn.Object.freeze,Ac=Math.min,Oc=[].push,kc=!!function(){try{return new RegExp("x","y")}catch(t){}}();bc("split",2,function(t,e,n,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!je(t))return n.call(r,t,e);for(var i,a,s,o=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,u=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,h+"g");(i=pc.call(f,r))&&!((a=f.lastIndex)>c&&(o.push(r.slice(c,i.index)),i.length>1&&i.index<r.length&&Oc.apply(o,i.slice(1)),s=i[0].length,c=a,o.length>=u));)f.lastIndex===i.index&&f.lastIndex++;return c===r.length?!s&&f.test("")||o.push(""):o.push(r.slice(c)),o.length>u?o.slice(0,u):o}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var a=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,a,r):i.call(String(a),n,r)},function(t,e){var a=r(i,t,this,e,i!==n);if(a.done)return a.value;var s=d(t),o=String(this),h=qt(s,RegExp),c=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(kc?"y":"g"),f=new h(kc?s:"^(?:"+s.source+")",u),l=void 0===e?4294967295:e>>>0;if(0===l)return[];if(0===o.length)return null===hc(f,o)?[o]:[];for(var p=0,v=0,y=[];v<o.length;){f.lastIndex=kc?v:0;var g,b=hc(f,kc?o:o.slice(v));if(null===b||(g=Ac(Y(f.lastIndex+(kc?0:v)),o.length))===p)v=sc(o,v,c);else{if(y.push(o.slice(p,v)),y.length===l)return y;for(var m=1;m<=b.length-1;m++)if(y.push(b[m]),y.length===l)return y;v=p=g}}return y.push(o.slice(p)),y}]}),bc("match",1,function(t,e,n,r){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=r(n,t,this);if(e.done)return e.value;var i=d(t),a=String(this);if(!i.global)return hc(i,a);var s=i.unicode;i.lastIndex=0;for(var o,h=[],c=0;null!==(o=hc(i,a));){var u=String(o[0]);h[c]=u,""===u&&(i.lastIndex=sc(a,Y(i.lastIndex),s)),c++}return 0===c?null:h}]}),Ec("keys",function(){return function(t){return sr(mr(t))}});var Nc=dn.Object.keys,Tc=r(function(t,e){function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){return void 0===r&&(r={}),n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,a=t;i<a.length;i++){var s=a[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<s[s.length-1].length;o++)if(s[s.length-1][o]!==s[0][o])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function a(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function o(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function h(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function c(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function u(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function f(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function l(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return a(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return h(e).geometry;case"MultiLineString":return o(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map(function(t){return r(t,e)}),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map(function(t){return i(t,e)}),n)},e.lineString=a,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map(function(t){return a(t,e)}),n)},e.featureCollection=s,e.multiLineString=o,e.multiPoint=h,e.multiPolygon=c,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=u,e.lengthToRadians=f,e.lengthToDegrees=function(t,e){return l(f(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=l,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return u(f(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var a=e.areaFactors[r];if(!a)throw new Error("invalid final units");return t/i*a},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!d(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}});n(Tc);Tc.earthRadius,Tc.factors,Tc.unitsFactors,Tc.areaFactors,Tc.feature,Tc.geometry,Tc.point,Tc.points,Tc.polygon,Tc.polygons,Tc.lineString,Tc.lineStrings,Tc.featureCollection,Tc.multiLineString,Tc.multiPoint,Tc.multiPolygon,Tc.geometryCollection,Tc.round,Tc.radiansToLength,Tc.lengthToRadians,Tc.lengthToDegrees,Tc.bearingToAzimuth,Tc.radiansToDegrees,Tc.degreesToRadians,Tc.convertLength,Tc.convertArea,Tc.isNumber,Tc.isObject,Tc.validateBBox,Tc.validateId,Tc.radians2degrees,Tc.degrees2radians,Tc.distanceToDegrees,Tc.distanceToRadians,Tc.radiansToDistance,Tc.bearingToAngle,Tc.convertDistance;var jc=r(function(t,e){function n(t,e,r){if(null!==t)for(var i,a,s,o,h,c,u,f,l=0,d=0,p=t.type,v="FeatureCollection"===p,y="Feature"===p,g=v?t.features.length:1,b=0;b<g;b++){h=(f=!!(u=v?t.features[b].geometry:y?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var m=0;m<h;m++){var M=0,_=0;if(null!==(o=f?u.geometries[m]:u)){c=o.coordinates;var x=o.type;switch(l=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(c,d,b,M,_))return!1;d++,M++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(!1===e(c[i],d,b,M,_))return!1;d++,"MultiPoint"===x&&M++}"LineString"===x&&M++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(a=0;a<c[i].length-l;a++){if(!1===e(c[i][a],d,b,M,_))return!1;d++}"MultiLineString"===x&&M++,"Polygon"===x&&_++}"Polygon"===x&&M++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for(_=0,a=0;a<c[i].length;a++){for(s=0;s<c[i][a].length-l;s++){if(!1===e(c[i][a][s],d,b,M,_))return!1;d++}_++}M++}break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===n(o.geometries[i],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function i(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,r,i,a,s,o,h,c,u,f,l=0,d="FeatureCollection"===t.type,p="Feature"===t.type,v=d?t.features.length:1;for(n=0;n<v;n++){for(o=d?t.features[n].geometry:p?t.geometry:t,c=d?t.features[n].properties:p?t.properties:{},u=d?t.features[n].bbox:p?t.bbox:void 0,f=d?t.features[n].id:p?t.id:void 0,s=(h=!!o&&"GeometryCollection"===o.type)?o.geometries.length:1,i=0;i<s;i++)if(null!==(a=h?o.geometries[i]:o))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(a,l,c,u,f))return!1;break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===e(a.geometries[r],l,c,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,l,c,u,f))return!1;l++}}function s(t,e){a(t,function(t,n,r,i,a){var s,o=null===t?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return!1!==e(Tc.feature(t,r,{bbox:i,id:a}),n,0)&&void 0}switch(o){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var h=0;h<t.coordinates.length;h++){var c={type:s,coordinates:t.coordinates[h]};if(!1===e(Tc.feature(c,r),n,h))return!1}})}function o(t,e){s(t,function(t,r,i){var a=0;if(t.geometry){var s=t.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var o,h=0,c=0,u=0;return!1!==n(t,function(n,s,f,l,d){if(void 0===o||r>h||l>c||d>u)return o=n,h=r,c=l,u=d,void(a=0);var p=Tc.lineString([o,n],t.properties);if(!1===e(p,r,i,d,a))return!1;a++,o=n})&&void 0}}})}function h(t,e){if(!t)throw new Error("geojson is required");s(t,function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,a=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,n,r,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===e(Tc.lineString(a[s],t.properties),n,r,s))return!1}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.coordEach=n,e.coordReduce=function(t,e,r,i){var a=r;return n(t,function(t,n,i,s,o){a=0===n&&void 0===r?t:e(a,t,n,i,s,o)},i),a},e.propEach=r,e.propReduce=function(t,e,n){var i=n;return r(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i},e.featureEach=i,e.featureReduce=function(t,e,n){var r=n;return i(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r},e.coordAll=function(t){var e=[];return n(t,function(t){e.push(t)}),e},e.geomEach=a,e.geomReduce=function(t,e,n){var r=n;return a(t,function(t,i,a,s,o){r=0===i&&void 0===n?t:e(r,t,i,a,s,o)}),r},e.flattenEach=s,e.flattenReduce=function(t,e,n){var r=n;return s(t,function(t,i,a){r=0===i&&0===a&&void 0===n?t:e(r,t,i,a)}),r},e.segmentEach=o,e.segmentReduce=function(t,e,n){var r=n,i=!1;return o(t,function(t,a,s,o,h){r=!1===i&&void 0===n?t:e(r,t,a,s,o,h),i=!0}),r},e.lineEach=h,e.lineReduce=function(t,e,n){var r=n;return h(t,function(t,i,a,s){r=0===i&&void 0===n?t:e(r,t,i,a,s)}),r},e.findSegment=function(t,e){if(e=e||{},!Tc.isObject(e))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.segmentIndex||0,o=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),o=o||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":o=o||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var h=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=h.length+s-1),Tc.lineString([h[s],h[s+1]],o,e);case"Polygon":return a<0&&(a=h.length+a),s<0&&(s=h[a].length+s-1),Tc.lineString([h[a][s],h[a][s+1]],o,e);case"MultiLineString":return i<0&&(i=h.length+i),s<0&&(s=h[i].length+s-1),Tc.lineString([h[i][s],h[i][s+1]],o,e);case"MultiPolygon":return i<0&&(i=h.length+i),a<0&&(a=h[i].length+a),s<0&&(s=h[i][a].length-s-1),Tc.lineString([h[i][a][s],h[i][a][s+1]],o,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(e=e||{},!Tc.isObject(e))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.coordIndex||0,o=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),o=o||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":o=o||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var h=n.coordinates;switch(n.type){case"Point":return Tc.point(h,o,e);case"MultiPoint":return i<0&&(i=h.length+i),Tc.point(h[i],o,e);case"LineString":return s<0&&(s=h.length+s),Tc.point(h[s],o,e);case"Polygon":return a<0&&(a=h.length+a),s<0&&(s=h[a].length+s),Tc.point(h[a][s],o,e);case"MultiLineString":return i<0&&(i=h.length+i),s<0&&(s=h[i].length+s),Tc.point(h[i][s],o,e);case"MultiPolygon":return i<0&&(i=h.length+i),a<0&&(a=h[i].length+a),s<0&&(s=h[i][a].length-s),Tc.point(h[i][a][s],o,e)}throw new Error("geojson is invalid")}});n(jc);var Ic=jc.coordEach;jc.coordReduce,jc.propEach,jc.propReduce,jc.featureEach,jc.featureReduce,jc.coordAll,jc.geomEach,jc.geomReduce,jc.flattenEach,jc.flattenReduce,jc.segmentEach,jc.segmentReduce,jc.lineEach,jc.lineReduce,jc.findSegment,jc.findPoint;function Dc(){return new Lc}function Lc(){this.reset()}Lc.prototype={constructor:Lc,reset:function(){this.s=this.t=0},add:function(t){qc(Rc,t,this.t),qc(this,Rc.s,this.s),this.s?this.t+=Rc.t:this.s=Rc.t},valueOf:function(){return this.s}};var Rc=new Lc;function qc(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var Fc=2*Math.PI,$c=Math.abs,Gc=Math.sqrt;function Bc(){}function Uc(t,e){t&&Vc.hasOwnProperty(t.type)&&Vc[t.type](t,e)}var zc={Feature:function(t,e){Uc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Uc(n[r].geometry,e)}},Vc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Wc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Wc(n[r],e,0)},Polygon:function(t,e){Yc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Yc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Uc(n[r],e)}};function Wc(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Yc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Wc(t[n],e,1);e.polygonEnd()}function Hc(t,e){t&&zc.hasOwnProperty(t.type)?zc[t.type](t,e):Uc(t,e)}Dc(),Dc(),Dc(),Dc();function Xc(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(function(t){var e;1===t.length&&(e=t,t=function(t,n){return Xc(e(t),n)})})(Xc),Dc();function Qc(t){return t}var Jc,Zc,Kc,tu,eu=Dc(),nu=Dc(),ru={point:Bc,lineStart:Bc,lineEnd:Bc,polygonStart:function(){ru.lineStart=iu,ru.lineEnd=ou},polygonEnd:function(){ru.lineStart=ru.lineEnd=ru.point=Bc,eu.add($c(nu)),nu.reset()},result:function(){var t=eu/2;return eu.reset(),t}};function iu(){ru.point=au}function au(t,e){ru.point=su,Jc=Kc=t,Zc=tu=e}function su(t,e){nu.add(tu*t-Kc*e),Kc=t,tu=e}function ou(){su(Jc,Zc)}var hu=1/0,cu=hu,uu=-hu,fu=uu,lu={point:function(t,e){t<hu&&(hu=t);t>uu&&(uu=t);e<cu&&(cu=e);e>fu&&(fu=e)},lineStart:Bc,lineEnd:Bc,polygonStart:Bc,polygonEnd:Bc,result:function(){var t=[[hu,cu],[uu,fu]];return uu=fu=-(cu=hu=1/0),t}};var du,pu,vu,yu,gu=0,bu=0,mu=0,Mu=0,_u=0,xu=0,wu=0,Su=0,Eu=0,Pu={point:Cu,lineStart:Au,lineEnd:Nu,polygonStart:function(){Pu.lineStart=Tu,Pu.lineEnd=ju},polygonEnd:function(){Pu.point=Cu,Pu.lineStart=Au,Pu.lineEnd=Nu},result:function(){var t=Eu?[wu/Eu,Su/Eu]:xu?[Mu/xu,_u/xu]:mu?[gu/mu,bu/mu]:[NaN,NaN];return gu=bu=mu=Mu=_u=xu=wu=Su=Eu=0,t}};function Cu(t,e){gu+=t,bu+=e,++mu}function Au(){Pu.point=Ou}function Ou(t,e){Pu.point=ku,Cu(vu=t,yu=e)}function ku(t,e){var n=t-vu,r=e-yu,i=Gc(n*n+r*r);Mu+=i*(vu+t)/2,_u+=i*(yu+e)/2,xu+=i,Cu(vu=t,yu=e)}function Nu(){Pu.point=Cu}function Tu(){Pu.point=Iu}function ju(){Du(du,pu)}function Iu(t,e){Pu.point=Du,Cu(du=vu=t,pu=yu=e)}function Du(t,e){var n=t-vu,r=e-yu,i=Gc(n*n+r*r);Mu+=i*(vu+t)/2,_u+=i*(yu+e)/2,xu+=i,wu+=(i=yu*t-vu*e)*(vu+t),Su+=i*(yu+e),Eu+=3*i,Cu(vu=t,yu=e)}function Lu(t){this._context=t}Lu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fc)}},result:Bc};var Ru,qu,Fu,$u,Gu,Bu=Dc(),Uu={point:Bc,lineStart:function(){Uu.point=zu},lineEnd:function(){Ru&&Vu(qu,Fu),Uu.point=Bc},polygonStart:function(){Ru=!0},polygonEnd:function(){Ru=null},result:function(){var t=+Bu;return Bu.reset(),t}};function zu(t,e){Uu.point=Vu,qu=$u=t,Fu=Gu=e}function Vu(t,e){$u-=t,Gu-=e,Bu.add(Gc($u*$u+Gu*Gu)),$u=t,Gu=e}function Wu(){this._string=[]}function Yu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Hu(t,e){var n,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Hc(t,n(r))),r.result()}return a.area=function(t){return Hc(t,n(ru)),ru.result()},a.measure=function(t){return Hc(t,n(Uu)),Uu.result()},a.bounds=function(t){return Hc(t,n(lu)),lu.result()},a.centroid=function(t){return Hc(t,n(Pu)),Pu.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,Qc):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new Wu):new Lu(e=t),"function"!=typeof i&&r.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(e)}function Xu(t,e){var n=JSON.parse(fi(t));return Ic(n,function(t){var n=$r(e(t),2),r=n[0],i=n[1];t[0]=r,t[1]=i}),n}function Qu(t){var e=[[1/0,1/0],[-1/0,-1/0]];return t.forEach(function(t){Gh(t)||(e=function(t,e){var n=Ju.bounds(e);return t[0][0]=t[0][0]<n[0][0]?t[0][0]:n[0][0],t[0][1]=t[0][1]<n[0][1]?t[0][1]:n[0][1],t[1][0]=t[1][0]>n[1][0]?t[1][0]:n[1][0],t[1][1]=t[1][1]>n[1][1]?t[1][1]:n[1][1],t}(e,t))}),{x:[e[0][0],e[1][0]],y:[e[0][1],e[1][1]]}}Wu.prototype={_radius:4.5,_circle:Yu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Yu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Ju=Hu();function Zu(t,e){var n={},r={};for(var i in 0===e&&(console.warn("Empty dataframe: "),console.warn(fi(t))),t){var a=t[i],s=Ku(a,i,e),o=s.firstValidValue,h=s.nValidValues;if(h/e<.5&&console.warn("Column '".concat(i,"' contains more than 50% invalid values")),0===h)r[i]="quantitative",n[i]=[0,1],console.warn("Column '".concat(i,"' contains no valid values.")),console.warn("Using domain [0, 1] as placeholder.");else{var c=qh(o);if(r[i]=c,sf(i,c)){var u=Qu(a);n["geometry.x"]=u.x,n["geometry.y"]=u.y,r["geometry.x"]="quantitative",r["geometry.y"]="quantitative"}else{var f=af(a);if(1===h){var l=rf(c,o);n[i]=l,console.warn("Column '".concat(i,"' contains only 1 valid value: ").concat(o,".")),console.warn("Using domain ".concat(fi(l)))}else if(1===f&&"categorical"!==c){var d=rf(c,o);n[i]=d,console.warn("Column '".concat(i,"' contains only 1 unique value: ").concat(o,".")),console.warn("Using domain ".concat(fi(d)))}else{n[i]=tf(c);for(var p=0;p<a.length;p++){var v=a[p];if(!Gh(v)){if(qh(v)!==c)throw new Error("Invalid column ".concat(i,": column contains multiple data types"));n[i]=ef(n[i],v,c)}}}}}}return{domains:n,types:r}}function Ku(t,e,n){for(var r,i=0,a=0;a<n;a++)Gh(t[a])||(i++,r=r||t[a]);return{firstValidValue:r,nValidValues:i}}function tf(t){var e;switch(t){case"quantitative":e=[1/0,-1/0];break;case"categorical":e=[];break;case"temporal":e=[new Date("19 January 2038"),new Date(0)]}return e}function ef(t,e,n){if("quantitative"===n&&(t[0]>=e&&(t[0]=e),t[1]<=e&&(t[1]=e)),"categorical"===n&&(t.includes(e)||t.push(e)),"temporal"===n){var r=e.getTime();t[0].getTime()>=r&&(t[0]=e),t[1].getTime()<=r&&(t[1]=e)}return t}function nf(t,e){return new Date((new Date).setDate(t.getDate()+e))}function rf(t,e){var n;return"quantitative"===t&&(n=[e-1,e+1]),"categorical"===t&&(n=[e]),"temporal"===t&&(n=[nf(e,-1),nf(e,1)]),n}function af(t){var e={},n=!0,r=!1,i=void 0;try{for(var a,s=Fr(t);!(n=(a=s.next()).done);n=!0){var o=a.value;e[fi(o)]=0}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return Nc(e).length}function sf(t,e){if("geometry"===t&&"geometry"===e)return!0;if("geometry"===t){if("geometry"!==e)throw new Error("Data in column 'geometry' must be of type 'geometry'")}else if("geometry"===e)throw new Error("Data of type 'geometry' found in column '".concat(t,"' (not allowed)"))}var of=/\./g,hf=/[.#\/]/,cf=function(){function t(e,n){if(ni(this,t),this._dataset={},this._domains={},n||(e.constructor===Object&&(e.hasOwnProperty("type")&&"FeatureCollection"===e.type?this.setGeoJSON(e):this.setColDataFrame(e)),e.constructor===Array&&this.setRowDataFrame(e)),n)switch(n){case"column":this.setColDataFrame(e);break;case"row":this.setRowDataFrame(e);break;case"geojson":this.setGeoJSON(e);break;default:throw new Error("Unknown format!")}}return si(t,[{key:"setColDataFrame",value:function(t){var e=uf(t);this._length=e,this._dataset=t;var n=Zu(t,e),r=n.domains,i=n.types;this._domains=r,this._types=i}},{key:"setRowDataFrame",value:function(t){if(t.constructor!==Array)throw new Error("Data in row-format must be passed as an array of objects");var e=function(t){var e=t[0];if(e.constructor!==Object)throw new Error("Empty dataframe (0 rows)");var n=Nc(e),r={},i=!0,a=!1,s=void 0;try{for(var o,h=Fr(n);!(i=(o=h.next()).done);i=!0){var c=o.value;r[c]=[]}}catch(t){a=!0,s=t}finally{try{i||null==h.return||h.return()}finally{if(a)throw s}}return r}(t),n=!0,r=!1,i=void 0;try{for(var a,s=Fr(t);!(n=(a=s.next()).done);n=!0){var o=a.value;for(var h in o)e[h].push(o[h])}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}this.setColDataFrame(e)}},{key:"setGeoJSON",value:function(t){if(t.constructor!==Object)throw new Error("Data of type geojson must be passed as an object");var e={},n=t.features[0];n.properties.hasOwnProperty("geometry")&&delete n.properties.geometry;var r=["geometry"].concat(ei(Nc(n.properties))),i=!0,a=!1,s=void 0;try{for(var o,h=Fr(r);!(i=(o=h.next()).done);i=!0){var c=o.value;e[c]=[]}}catch(t){a=!0,s=t}finally{try{i||null==h.return||h.return()}finally{if(a)throw s}}t.features.forEach(function(t){var n=function(t){return t.geometry}(t),r=function(t){return t.properties}(t);for(var i in e.geometry.push(n),r)e[i].push(r[i])});var u=uf(e),f=Zu(e,u),l=f.domains,d=f.types;this._length=u,this._dataset=e,this._domains=l,this._types=d}},{key:"getDataset",value:function(){return this._dataset}},{key:"getDomain",value:function(t){return this._domains[t]}},{key:"getDomains",value:function(){return this._domains}},{key:"getType",value:function(t){return this._types[t]}},{key:"getTypes",value:function(){return this._types}},{key:"hasColumn",value:function(t){if(t.match(of)){var e=t.split(".")[0];return this._dataset.hasOwnProperty(e)}return this._dataset.hasOwnProperty(t)}},{key:"getColumn",value:function(t){if(t.match(of)){var e=t.split(".")[0];return this._dataset[e]}return this._dataset[t]}},{key:"forEachRow",value:function(t){for(var e=this._dataset,n=0;n<this._length;n++){var r={},i={},a={};for(var s in e)r[s]=e[s][n],i[s]=e[s][n-1],a[s]=e[s][n+1];0===n&&(i=void 0),n===this._length-1&&(a=void 0),t({row:r,i:n,prevRow:i,nextRow:a})}}}]),t}();function uf(t){if(t.constructor!==Object)throw new Error("Data in column-format must be passed as an object of arrays");var e=null;for(var n in t){ff(n);var r=t[n];if(r.constructor!==Array)throw new Error("Data in column-format must be passed as an object of arrays");if(null===e)e=r.length;else if(e!==r.length)throw new Error("Invalid data: columns must be of same length")}return e}function ff(t){if(t.match(hf))throw new Error("Invalid column name '".concat(t,"': '.', '#', and '/' not allowed'"))}var lf=/\//g,df=function(){function t(e){ni(this,t),this._manager=e}return si(t,[{key:"setScope",value:function(t){this._scope=t}},{key:"ready",value:function(t){var e=t||this._scope;return this._manager.hasContainer(e)&&void 0!==this._manager.getContainer(e)}},{key:"getDataset",value:function(t){var e=t||this._scope;return this._manager.getContainer(e).getDataset()}},{key:"getDomain",value:function(t){var e=this._parseGetterString(t),n=e.containerID,r=e.colName;return this._manager.getContainer(n).getDomain(r)}},{key:"getDomains",value:function(t){var e=t||this._scope;return this._manager.getContainer(e).getDomains()}},{key:"getType",value:function(t){var e=this._parseGetterString(t),n=e.containerID,r=e.colName;return this._manager.getContainer(n).getType(r)}},{key:"getTypes",value:function(t){var e=t||this._scope;return this._manager.getContainer(e).getTypes()}},{key:"hasColumn",value:function(t){var e=this._parseGetterString(t),n=e.containerID,r=e.colName;return this._manager.getContainer(n).hasColumn(r)}},{key:"getColumn",value:function(t){var e=this._parseGetterString(t),n=e.containerID,r=e.colName;return this._manager.getContainer(n).getColumn(r)}},{key:"forEachRow",value:function(t,e){var n=e||this._scope;this._manager.getContainer(n).forEachRow(t)}},{key:"_parseGetterString",value:function(t){var e,n,r=t.match(lf),i=r?r.length:0;if(1===i){var a=$r(t.split("/"),2);e=a[0],n=a[1]}else{if(0!==i)throw new Error("Invalid getter '".concat(n,"'"));e=this._scope,n=t}if(!this._manager.hasContainer(e))throw new Error("Invalid container id '".concat(t,"'"));if(!this._manager.getContainer(e).hasColumn(n))throw new Error("Invalid column name '".concat(t,"'"));return{containerID:e,colName:n}}}]),t}(),pf=r(function(t,n){var r=200,i="__lodash_hash_undefined__",a=9007199254740991,s="[object Arguments]",o="[object Boolean]",h="[object Date]",c="[object Function]",u="[object GeneratorFunction]",f="[object Map]",l="[object Number]",d="[object Object]",p="[object RegExp]",v="[object Set]",y="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",m="[object DataView]",M="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",O=/\w*$/,k=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,T={};T[s]=T["[object Array]"]=T[b]=T[m]=T[o]=T[h]=T[M]=T[_]=T[x]=T[w]=T[S]=T[f]=T[l]=T[d]=T[p]=T[v]=T[y]=T[g]=T[E]=T[P]=T[C]=T[A]=!0,T["[object Error]"]=T[c]=T["[object WeakMap]"]=!1;var j="object"==typeof e&&e&&e.Object===Object&&e,I="object"==typeof self&&self&&self.Object===Object&&self,D=j||I||Function("return this")(),L=n&&!n.nodeType&&n,R=L&&t&&!t.nodeType&&t,q=R&&R.exports===L;function F(t,e){return t.set(e[0],e[1]),t}function $(t,e){return t.add(e),t}function G(t,e,n,r){var i=-1,a=t?t.length:0;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function B(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function z(t,e){return function(n){return t(e(n))}}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var W,Y=Array.prototype,H=Function.prototype,X=Object.prototype,Q=D["__core-js_shared__"],J=(W=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Z=H.toString,K=X.hasOwnProperty,tt=X.toString,et=RegExp("^"+Z.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=q?D.Buffer:void 0,rt=D.Symbol,it=D.Uint8Array,at=z(Object.getPrototypeOf,Object),st=Object.create,ot=X.propertyIsEnumerable,ht=Y.splice,ct=Object.getOwnPropertySymbols,ut=nt?nt.isBuffer:void 0,ft=z(Object.keys,Object),lt=Rt(D,"DataView"),dt=Rt(D,"Map"),pt=Rt(D,"Promise"),vt=Rt(D,"Set"),yt=Rt(D,"WeakMap"),gt=Rt(Object,"create"),bt=Bt(lt),mt=Bt(dt),Mt=Bt(pt),_t=Bt(vt),xt=Bt(yt),wt=rt?rt.prototype:void 0,St=wt?wt.valueOf:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){this.__data__=new Pt(t)}function Ot(t,e){var n=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Vt(t)}(t)&&K.call(t,"callee")&&(!ot.call(t,"callee")||tt.call(t)==s)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var a in t)!e&&!K.call(t,a)||i&&("length"==a||$t(a,r))||n.push(a);return n}function kt(t,e,n){var r=t[e];K.call(t,e)&&Ut(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Nt(t,e){for(var n=t.length;n--;)if(Ut(t[n][0],e))return n;return-1}function Tt(t,e,n,r,i,a,k){var N;if(r&&(N=a?r(t,i,a,k):r(t)),void 0!==N)return N;if(!Ht(t))return t;var j=zt(t);if(j){if(N=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&K.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,N)}else{var I=Ft(t),D=I==c||I==u;if(Wt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(I==d||I==s||D&&!a){if(B(t))return a?t:{};if(N=function(t){return"function"!=typeof t.constructor||Gt(t)?{}:(e=at(t),Ht(e)?st(e):{});var e}(D?{}:t),!e)return function(t,e){return Dt(t,qt(t),e)}(t,function(t,e){return t&&Dt(e,Xt(e),t)}(N,t))}else{if(!T[I])return a?t:{};N=function(t,e,n,r){var i=t.constructor;switch(e){case b:return It(t);case o:case h:return new i(+t);case m:return function(t,e){var n=e?It(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case M:case _:case x:case w:case S:case E:case P:case C:case A:return function(t,e){var n=e?It(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return G(e?n(U(t),!0):U(t),F,new t.constructor)}(t,r,n);case l:case y:return new i(t);case p:return(c=new(s=t).constructor(s.source,O.exec(s))).lastIndex=s.lastIndex,c;case v:return function(t,e,n){return G(e?n(V(t),!0):V(t),$,new t.constructor)}(t,r,n);case g:return a=t,St?Object(St.call(a)):{}}var a;var s,c}(t,I,Tt,e)}}k||(k=new At);var L=k.get(t);if(L)return L;if(k.set(t,N),!j)var R=n?function(t){return function(t,e,n){var r=e(t);return zt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Xt,qt)}(t):Xt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(R||t,function(i,a){R&&(i=t[a=i]),kt(N,a,Tt(i,e,n,r,a,t,k))}),N}function jt(t){return!(!Ht(t)||(e=t,J&&J in e))&&(Yt(t)||B(t)?et:k).test(Bt(t));var e}function It(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Dt(t,e,n,r){n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],o=r?r(n[s],t[s],s,n,t):void 0;kt(n,s,void 0===o?t[s]:o)}return n}function Lt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Rt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return jt(n)?n:void 0}Et.prototype.clear=function(){this.__data__=gt?gt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===i?void 0:n}return K.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:K.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?i:e,this},Pt.prototype.clear=function(){this.__data__=[]},Pt.prototype.delete=function(t){var e=this.__data__,n=Nt(e,t);return!(n<0||(n==e.length-1?e.pop():ht.call(e,n,1),0))},Pt.prototype.get=function(t){var e=this.__data__,n=Nt(e,t);return n<0?void 0:e[n][1]},Pt.prototype.has=function(t){return Nt(this.__data__,t)>-1},Pt.prototype.set=function(t,e){var n=this.__data__,r=Nt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new Et,map:new(dt||Pt),string:new Et}},Ct.prototype.delete=function(t){return Lt(this,t).delete(t)},Ct.prototype.get=function(t){return Lt(this,t).get(t)},Ct.prototype.has=function(t){return Lt(this,t).has(t)},Ct.prototype.set=function(t,e){return Lt(this,t).set(t,e),this},At.prototype.clear=function(){this.__data__=new Pt},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Pt){var i=n.__data__;if(!dt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Ct(i)}return n.set(t,e),this};var qt=ct?z(ct,Object):function(){return[]},Ft=function(t){return tt.call(t)};function $t(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function Gt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||X)}function Bt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ut(t,e){return t===e||t!=t&&e!=e}(lt&&Ft(new lt(new ArrayBuffer(1)))!=m||dt&&Ft(new dt)!=f||pt&&"[object Promise]"!=Ft(pt.resolve())||vt&&Ft(new vt)!=v||yt&&"[object WeakMap]"!=Ft(new yt))&&(Ft=function(t){var e=tt.call(t),n=e==d?t.constructor:void 0,r=n?Bt(n):void 0;if(r)switch(r){case bt:return m;case mt:return f;case Mt:return"[object Promise]";case _t:return v;case xt:return"[object WeakMap]"}return e});var zt=Array.isArray;function Vt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}(t.length)&&!Yt(t)}var Wt=ut||function(){return!1};function Yt(t){var e=Ht(t)?tt.call(t):"";return e==c||e==u}function Ht(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Xt(t){return Vt(t)?Ot(t):function(t){if(!Gt(t))return ft(t);var e=[];for(var n in Object(t))K.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Tt(t,!0,!0)}});function vf(t){return t[Nc(t)[0]].length}function yf(t,e){if(e.constructor!==Function)throw new Error("Filter transformation can only be specified as Function");for(var n=0,r=vf(t);n<r;){var i={};for(var a in t)i[a]=t[a][n];if(e(i,n))n++;else{for(var s in t)t[s].splice(n,1);r--}}return t}var gf,bf,mf=[].sort,Mf=[1,2,3];B(B.P+B.F*(p(function(){Mf.sort(void 0)})||!p(function(){Mf.sort(null)})||!((gf=mf)&&p(function(){bf?gf.call(null,function(){},1):gf.call(null)}))),"Array",{sort:function(t){return void 0===t?mf.call(gt(this)):mf.call(gt(this),F(t))}});var _f={quantitative:{ascending:function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},descending:function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},categorical:{ascending:function(t,e){return[t,e].sort()[0]===t?-1:1},descending:function(t,e){return[t,e].sort()[0]===t?1:-1}},temporal:{ascending:function(t,e){var n=t.getTime(),r=t.getTime();return n<r?-1:n>r?1:n>=r?0:NaN},descending:function(t,e){var n=t.getTime(),r=t.getTime();return r<n?-1:r>n?1:r>=n?0:NaN}}};function xf(t,e){if(1!==Nc(e).length)throw new Error("Only one key-value pair allowed");var n,r=Nc(e)[0],i=e[r],a=qh(t[r][0]);i.constructor===String&&(n=_f[a][i]),i.constructor===Function&&(n=i);var s=t[r],o=s.map(function(t,e){return e}).sort(function(t,e){return n(s[t],s[e])});for(var h in t)t[h]=wf(t[h],o);return t}function wf(t,e){return e.map(function(e){return t[e]})}function Sf(t,e){var n=vf(t);for(var r in e)t[r]=new Array(n);for(var i=0;i<n;i++){var a={};for(var s in t)a[s]=t[s][i];for(var o in e){var h=e[o];t[o][i]=h(a,i)}}return t}var Ef={count:Pf,sum:Cf,mean:function(t){return Cf(t)/Pf(t)},median:function(t){var e=t.sort(function(t,e){return t>e}),n=Pf(t);if(n%2==1)return e[Math.floor(n/2)];var r=e[n/2-1],i=e[n/2];return(r+i)/2},mode:function(t){var e,n={},r=!0,i=!1,a=void 0;try{for(var s,o=Fr(t);!(r=(s=o.next()).done);r=!0){var h=s.value;n.hasOwnProperty(h)?n[h]++:n[h]=1}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}var c=0;for(var u in n)n[u]>c&&(c=n[u],e=u);return e},min:function(t){var e=1/0,n=!0,r=!1,i=void 0;try{for(var a,s=Fr(t);!(n=(a=s.next()).done);n=!0){var o=a.value;o<e&&(e=o)}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e},max:function(t){var e=-1/0,n=!0,r=!1,i=void 0;try{for(var a,s=Fr(t);!(n=(a=s.next()).done);n=!0){var o=a.value;o>e&&(e=o)}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}};function Pf(t){return t.length}function Cf(t){var e=0,n=!0,r=!1,i=void 0;try{for(var a,s=Fr(t);!(n=(a=s.next()).done);n=!0){e+=a.value}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}function Af(t,e){var n=Nc(t);if(1!==n.length)throw new Error("Invalid transformation syntax");var r=n[0];if(!e.includes(r))throw new Error("Unknown transformation ".concat(r));return r}function Of(t,e){if(e.constructor!==Object)throw new Error("summarise must be an object");var n=kf(e,t);if(t.hasOwnProperty("grouped")){Tf(e,t);var r=JSON.parse(fi(t));for(var i in delete r.grouped,r)n[i]=r[i];var a=!0,s=!1,o=void 0;try{for(var h,c=Fr(t.grouped);!(a=(h=c.next()).done);a=!0){n=Nf(h.value,e,n)}}catch(t){s=!0,o=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw o}}}else n=Nf(t,e,n);return n}function kf(t,e){var n={};for(var r in t)n[r]=[];if(e.hasOwnProperty("grouped"))for(var i in e)"grouped"!==i&&(n[i]=[]);return n}function Nf(t,e,n){for(var r in e){var i=e[r],a=Af(i,Nc(t)),s=i[a];n[r].push(Ef[s](t[a]))}return n}function Tf(t,e){for(var n in t){var r=t[n],i=Nc(r)[0];if("grouped"===i)throw new Error("Invalid column name 'grouped'");if(e.hasOwnProperty(i))throw new Error("Cannot summarise the column '".concat(i,"': used for grouping"))}}function jf(t,e){if(e.constructor!==Object)throw new Error("mutarise must be an object");var n=kf(e);if(t.hasOwnProperty("grouped")){Tf(e,t);var r=!0,i=!1,a=void 0;try{for(var s,o=Fr(t.grouped);!(r=(s=o.next()).done);r=!0){var h=s.value,c=kf(e);n=If(n,c=Nf(h,e,c),vf(h))}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}t=function(t){var e=kf(t.grouped[0]),n=!0,r=!1,i=void 0;try{for(var a,s=Fr(t.grouped);!(n=(a=s.next()).done);n=!0){var o=a.value;for(var h in e){var c;(c=e[h]).push.apply(c,ei(o[h]))}}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}(t)}else{var u=kf(e);n=If(n,u=Nf(t,e,u),vf(t))}return function(t,e){for(var n in e)t[n]=e[n];return t}(t,n)}function If(t,e,n){for(var r=0;r<n;r++)for(var i in e)t[i].push(e[i][0]);return t}function Df(t,e,n){var r=[],i=!0,a=!1,s=void 0;try{for(var o,h=Fr(n);!(i=(o=h.next()).done);i=!0){var c=o.value;r.push(t[c][e])}}catch(t){a=!0,s=t}finally{try{i||null==h.return||h.return()}finally{if(a)throw s}}return r}var Lf=function(){function t(e,n){for(var r in ni(this,t),this.data={},this.groupedValues=n,e)this.data[r]=[]}return si(t,[{key:"addRow",value:function(t,e){for(var n in t)this.data[n].push(t[n][e])}}]),t}(),Rf=Array.isArray||function(t){return"Array"==N(t)},qf=f("species"),Ff=function(t,e){return new(function(t){var e;return Rf(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Rf(e.prototype)||(e=void 0),l(e)&&null===(e=e[qf])&&(e=void 0)),void 0===e?Array:e}(t))(e)},$f=function(t,e){var n=1==t,r=2==t,i=3==t,a=4==t,s=6==t,o=5==t||s,h=e||Ff;return function(e,c,u){for(var f,l,d=gt(e),p=T(d),v=$(c,u,3),y=Y(p.length),g=0,b=n?h(e,y):r?h(e,0):void 0;y>g;g++)if((o||g in p)&&(l=v(f=p[g],g,d),t))if(n)b[g]=l;else if(l)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:b.push(f)}else if(a)return!1;return s?-1:i||a?a:b}}(6),Gf="findIndex",Bf=!0;Gf in[]&&Array(1)[Gf](function(){Bf=!1}),B(B.P+B.F*Bf,"Array",{findIndex:function(t){return $f(this,t,arguments.length>1?arguments[1]:void 0)}}),C(Gf);var Uf=r(function(e,n){var r;e.exports=(r=function(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)},Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(e=+e||0,1/0===Math.abs(e)&&(e=0),0>e&&0>(e+=n)&&(e=0);e<n;e++)if(this[e]===t)return e;return-1}),function(e){this.objectID="",this.legendSeparator=this.separator=" - ",this.method="",this.precision=0,this.precisionflag="auto",this.roundlength=2,this.silent=this.debug=this.is_uniqueValues=!1,this.bounds=[],this.ranges=[],this.inner_ranges=null,this.colors=[],this.counter=[],this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null,this.log=function(t,e){1!=this.debug&&null==e||console.log(this.objectID+"(object id) :: "+t)},this.setBounds=function(t){this.log("Setting bounds ("+t.length+") : "+t.join()),this.bounds=t},this.setSerie=function(t){this.log("Setting serie ("+t.length+") : "+t.join()),this.serie=t,this.resetStatistics(),this.setPrecision()},this.setColors=function(t){this.log("Setting color ramp ("+t.length+") : "+t.join()),this.colors=t},this.doCount=function(){if(!this._nodata()){var t=this.sorted();for(this.counter=[],i=0;i<this.bounds.length-1;i++)this.counter[i]=0;for(j=0;j<t.length;j++){var e=this.getClass(t[j]);this.counter[e]++}}},this.setPrecision=function(t){if(void 0!==t&&(this.precisionflag="manual",this.precision=t),"auto"==this.precisionflag)for(t=0;t<this.serie.length;t++){var e=isNaN(this.serie[t]+"")||-1==(this.serie[t]+"").toString().indexOf(".")?0:(this.serie[t]+"").split(".")[1].length;e>this.precision&&(this.precision=e)}20<this.precision&&(this.log("this.precision value ("+this.precision+') is greater than max value. Automatic set-up to 20 to prevent "Uncaught RangeError: toFixed()" when calling decimalFormat() method.'),this.precision=20),this.log("Calling setPrecision(). Mode : "+this.precisionflag+" - Decimals : "+this.precision),this.serie=this.decimalFormat(this.serie)},this.decimalFormat=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r=!isNaN(parseFloat(r))&&isFinite(r),e[n]=r?parseFloat(parseFloat(t[n]).toFixed(this.precision)):t[n]}return e},this.setRanges=function(){for(this.ranges=[],i=0;i<this.bounds.length-1;i++)this.ranges[i]=this.bounds[i]+this.separator+this.bounds[i+1]},this.min=function(){if(!this._nodata()){for(this.stat_min=this.serie[0],i=0;i<this.pop();i++)this.serie[i]<this.stat_min&&(this.stat_min=this.serie[i]);return this.stat_min}},this.max=function(){if(!this._nodata()){for(this.stat_max=this.serie[0],i=0;i<this.pop();i++)this.serie[i]>this.stat_max&&(this.stat_max=this.serie[i]);return this.stat_max}},this.sum=function(){if(!this._nodata()){if(null==this.stat_sum)for(i=this.stat_sum=0;i<this.pop();i++)this.stat_sum+=parseFloat(this.serie[i]);return this.stat_sum}},this.pop=function(){if(!this._nodata())return null==this.stat_pop&&(this.stat_pop=this.serie.length),this.stat_pop},this.mean=function(){if(!this._nodata())return null==this.stat_mean&&(this.stat_mean=parseFloat(this.sum()/this.pop())),this.stat_mean},this.median=function(){if(!this._nodata()){if(null==this.stat_median){this.stat_median=0;var t=this.sorted();this.stat_median=t.length%2?parseFloat(t[Math.ceil(t.length/2)-1]):(parseFloat(t[t.length/2-1])+parseFloat(t[t.length/2]))/2}return this.stat_median}},this.variance=function(){if(round="undefined"==typeof round,!this._nodata()){if(null==this.stat_variance){for(var t=0,e=this.mean(),n=0;n<this.pop();n++)t+=Math.pow(this.serie[n]-e,2);this.stat_variance=t/this.pop(),1==round&&(this.stat_variance=Math.round(this.stat_variance*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))}return this.stat_variance}},this.stddev=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_stddev&&(this.stat_stddev=Math.sqrt(this.variance()),1==t&&(this.stat_stddev=Math.round(this.stat_stddev*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_stddev},this.cov=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_cov&&(this.stat_cov=this.stddev()/this.mean(),1==t&&(this.stat_cov=Math.round(this.stat_cov*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_cov},this.resetStatistics=function(){this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null},this._nodata=function(){if(0==this.serie.length){if(!this.silent)throw new TypeError("Error. You should first enter a serie!");return this.log("[silent mode] Error. You should first enter a serie!",!0),1}return 0},this._hasNegativeValue=function(){for(i=0;i<this.serie.length;i++)if(0>this.serie[i])return!0;return!1},this._hasZeroValue=function(){for(i=0;i<this.serie.length;i++)if(0===parseFloat(this.serie[i]))return!0;return!1},this.sorted=function(){return null==this.stat_sorted&&(this.stat_sorted=0==this.is_uniqueValues?this.serie.sort(function(t,e){return t-e}):this.serie.sort(function(t,e){var n=t.toString().toLowerCase(),r=e.toString().toLowerCase();return n<r?-1:n>r?1:0})),this.stat_sorted},this.info=function(){if(!this._nodata()){var t="Population : "+this.pop()+" - [Min : "+this.min()+" | Max : "+this.max()+"]\n";return(t+="Mean : "+this.mean()+" - Median : "+this.median()+"\n")+"Variance : "+this.variance()+" - Standard deviation : "+this.stddev()+" - Coefficient of variation : "+this.cov()+"\n"}},this.setClassManually=function(e){if(!this._nodata()){if(e[0]===this.min()&&e[e.length-1]===this.max())return this.setBounds(e),this.setRanges(),this.method="manual classification ("+(e.length-1)+" classes)",this.bounds;if(!this.silent)throw new TypeError("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max());this.log("[silent mode] "+t("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max()),!0)}},this.getClassEqInterval=function(t,e,n){if(!this._nodata()){var r=[],a=e=void 0===e?this.min():e;for(e=((n=void 0===n?this.max():n)-e)/t,i=0;i<=t;i++)r[i]=a,a+=e;return r[t]=n,this.setBounds(r),this.setRanges(),this.method="eq. intervals ("+t+" classes)",this.bounds}},this.getQuantiles=function(t){for(var e=this.sorted(),n=[],r=this.pop()/t,i=1;i<t;i++)n.push(e[Math.round(i*r+.49)-1]);return n},this.getClassQuantile=function(t){if(!this._nodata()){var e=this.sorted(),n=this.getQuantiles(t);return n.unshift(e[0]),n[e.length-1]!==e[e.length-1]&&n.push(e[e.length-1]),this.setBounds(n),this.setRanges(),this.method="quantile ("+t+" classes)",this.bounds}},this.getClassStdDeviation=function(t,e){if(!this._nodata()){var n=this.max(),r=this.min(),a=this.stddev(),s=this.mean(),o=[];if(1==t%2){var h=Math.floor(t/2),c=h+1;for(o[h]=s-a/2,o[c]=s+a/2,i=h-1;0<i;i--)s=o[i+1]-a,o[i]=s;i=c+1}else{for(o[c=t/2]=s,i=c-1;0<i;i--)s=o[i+1]-a,o[i]=s;i=c+1}for(;i<t;i++)s=o[i-1]+a,o[i]=s;return o[0]=void 0===e?o[1]-a:r,o[t]=void 0===e?o[t-1]+a:n,this.setBounds(o),this.setRanges(),this.method="std deviation ("+t+" classes)",this.bounds}},this.getClassGeometricProgression=function(t){if(!this._nodata()){if(!this._hasNegativeValue()&&!this._hasZeroValue()){var e=[],n=this.min(),r=this.max();for(n=Math.log(n)/Math.LN10,r=(Math.log(r)/Math.LN10-n)/t,i=0;i<t;i++)e[i]=0==i?n:e[i-1]+r;return(e=e.map(function(t){return Math.pow(10,t)})).push(this.max()),this.setBounds(e),this.setRanges(),this.method="geometric progression ("+t+" classes)",this.bounds}if(!this.silent)throw new TypeError("geometric progression can't be applied with a serie containing negative or zero values.");this.log("[silent mode] geometric progression can't be applied with a serie containing negative or zero values.",!0)}},this.getClassArithmeticProgression=function(t){if(!this._nodata()){var e=0;for(i=1;i<=t;i++)e+=i;var n=[],r=this.min();for(e=(this.max()-r)/e,i=0;i<=t;i++)n[i]=0==i?r:n[i-1]+i*e;return this.setBounds(n),this.setRanges(),this.method="arithmetic progression ("+t+" classes)",this.bounds}},this.getClassJenks=function(t){if(!this._nodata()){dataList=this.sorted();for(var e=[],n=0,r=dataList.length+1;n<r;n++){for(var i=[],a=0,s=t+1;a<s;a++)i.push(0);e.push(i)}for(n=[],r=0,i=dataList.length+1;r<i;r++){a=[],s=0;for(var o=t+1;s<o;s++)a.push(0);n.push(a)}for(r=1,i=t+1;r<i;r++){e[0][r]=1,n[0][r]=0;var h=1;for(a=dataList.length+1;h<a;h++)n[h][r]=1/0;h=0}for(r=2,i=dataList.length+1;r<i;r++){o=s=a=0;for(var c=1,u=r+1;c<u;c++){var f=r-c+1;h=(s+=(h=parseFloat(dataList[f-1]))*h)-(a+=h)*a/(o+=1);var l=f-1;if(0!=l)for(var d=2,p=t+1;d<p;d++)n[r][d]>=h+n[l][d-1]&&(e[r][d]=f,n[r][d]=h+n[l][d-1])}e[r][1]=1,n[r][1]=h}for(h=dataList.length,n=[],r=0;r<=t;r++)n.push(0);for(n[t]=parseFloat(dataList[dataList.length-1]),n[0]=parseFloat(dataList[0]),r=t;2<=r;)i=parseInt(e[h][r]-2),n[r-1]=dataList[i],h=parseInt(e[h][r]-1),--r;return n[0]==n[1]&&(n[0]=0),this.setBounds(n),this.setRanges(),this.method="Jenks ("+t+" classes)",this.bounds}},this.getClassUniqueValues=function(){if(!this._nodata()){this.is_uniqueValues=!0;var t=this.sorted(),e=[];for(i=0;i<this.pop();i++)-1===e.indexOf(t[i])&&e.push(t[i]);return this.bounds=e,this.method="unique values",e}},this.getClass=function(t){for(i=0;i<this.bounds.length;i++)if(1==this.is_uniqueValues){if(t==this.bounds[i])return i}else if(parseFloat(t)<=this.bounds[i+1])return i;return"Unable to get value's class."},this.getRanges=function(){return this.ranges},this.getRangeNum=function(t){var e;for(e=0;e<this.ranges.length;e++){var n=this.ranges[e].split(/ - /);if(t<=parseFloat(n[1]))return e}},this.getInnerRanges=function(){if(null!=this.inner_ranges)return this.inner_ranges;var t=[],e=this.sorted(),n=1;for(i=0;i<e.length;i++){if(0==i)var r=e[i];if(parseFloat(e[i])>parseFloat(this.bounds[n])&&(t[n-1]=""+r+this.separator+e[i-1],r=e[i],n++),n==this.bounds.length-1)return t[n-1]=""+r+this.separator+e[e.length-1],this.inner_ranges=t}},this.getSortedlist=function(){return this.sorted().join(", ")},this.getHtmlLegend=function(t,e,n,a,s,o){var h="",c=[];if(this.doCount(),ccolors=null!=t?t:this.colors,lg=null!=e?e:"Legend",getcounter=null!=n,fn=null!=a?a:function(t){return t},null==s&&(s="default"),"discontinuous"!=s||(this.getInnerRanges(),-1===this.counter.indexOf(0))){if("DESC"!==o&&(o="ASC"),!(ccolors.length<this.ranges.length)){if(0==this.is_uniqueValues)for(i=0;i<this.ranges.length;i++)!0===getcounter&&(h=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),e=this.ranges[i].split(this.separator),t=parseFloat(e[0]).toFixed(this.precision),e=parseFloat(e[1]).toFixed(this.precision),"distinct"==s&&0!=i&&(r(t)?(t=parseInt(t)+1,"manual"==this.precisionflag&&0!=this.precision&&(t=parseFloat(t).toFixed(this.precision))):(t=parseFloat(t)+1/Math.pow(10,this.precision),t=parseFloat(t).toFixed(this.precision))),"discontinuous"==s&&(e=this.inner_ranges[i].split(this.separator),t=parseFloat(e[0]).toFixed(this.precision),e=parseFloat(e[1]).toFixed(this.precision)),t=fn(t)+this.legendSeparator+fn(e),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+h+"</div>",c.push(t);else for(i=0;i<this.bounds.length;i++)!0===getcounter&&(h=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),t=fn(this.bounds[i]),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+h+"</div>",c.push(t);for("DESC"===o&&c.reverse(),s='<div class="geostats-legend"><div class="geostats-legend-title">'+lg+"</div>",i=0;i<c.length;i++)s+=c[i];return s+"</div>"}if(!this.silent)throw new TypeError("The number of colors should fit the number of ranges. Exit!");this.log("[silent mode] The number of colors should fit the number of ranges. Exit!",!0)}else{if(!this.silent)throw new TypeError("Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!");this.log("[silent mode] Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!",!0)}},this.objectID=(new Date).getUTCMilliseconds(),this.log("Creating new geostats object"),void 0!==e&&0<e.length?(this.serie=e,this.setPrecision(),this.log("Setting serie ("+e.length+") : "+e.join())):this.serie=[],this.getJenks=this.getClassJenks,this.getGeometricProgression=this.getClassGeometricProgression,this.getEqInterval=this.getClassEqInterval,this.getQuantile=this.getClassQuantile,this.getStdDeviation=this.getClassStdDeviation,this.getUniqueValues=this.getClassUniqueValues,this.getArithmeticProgression=this.getClassArithmeticProgression})}),zf=Object.freeze({default:Uf,__moduleExports:Uf});function Vf(t,e){var n=!0,r=!1,i=void 0;try{for(var a,s=Fr(e);!(n=(a=s.next()).done);n=!0){var o=a.value;if(!t.hasOwnProperty(o))throw new Error("Column '".concat(o,"' not found"))}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}var Wf=1,Yf=2,Hf=4,Xf=5,Qf=484813681109536e-20,Jf=Math.PI/2,Zf=.16666666666666666,Kf=.04722222222222222,tl=.022156084656084655,el=1e-10,nl=.017453292519943295,rl=57.29577951308232,il=Math.PI/4,al=2*Math.PI,sl=3.14159265359,ol={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},hl={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},cl=/[\s_\-\/\(\)]/g;function ul(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(cl,""),a=-1;++a<r.length;)if((n=r[a]).toLowerCase().replace(cl,"")===i)return t[n]}function fl(t){var e,n,r,i={},a=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*nl},lat_1:function(t){i.lat1=t*nl},lat_2:function(t){i.lat2=t*nl},lat_ts:function(t){i.lat_ts=t*nl},lon_0:function(t){i.long0=t*nl},lon_1:function(t){i.long1=t*nl},lon_2:function(t){i.long2=t*nl},alpha:function(t){i.alpha=parseFloat(t)*nl},lonc:function(t){i.longc=t*nl},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=ul(hl,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*nl},pm:function(t){var e=ul(ol,t);i.from_greenwich=(e||parseFloat(t))*nl},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in a)n=a[e],e in s?"function"==typeof(r=s[e])?r(n):i[r]=n:i[e]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}var ll=1,dl=/\s/,pl=/[A-Za-z]/,vl=/[A-Za-z84]/,yl=/[,\]]/,gl=/[\d\.E\-\+]/;function bl(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ll}function ml(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(t,e){return Ml(e,t),t},r);e&&(t[e]=i)}function Ml(t,e){if(Array.isArray(t)){var n,r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void Ml(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r)switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&Ml(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&Ml(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void ml(e,r,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return Ml(t,e[r]);return ml(e,r,t)}else e[r]=t;else e[r]=!0}else e[t]=!0}bl.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;dl.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case ll:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},bl.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(yl.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},bl.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=ll)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=ll,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},bl.prototype.number=function(t){if(!gl.test(t)){if(yl.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},bl.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},bl.prototype.keyword=function(t){if(vl.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=ll)}if(!yl.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},bl.prototype.neutral=function(t){if(pl.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(gl.test(t))return this.word=t,void(this.state=3);if(!yl.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},bl.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var _l=.017453292519943295;function xl(t){return t*_l}function wl(t){var e=new bl(t).output(),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return Ml(e,i),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",xl],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",xl],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",xl],["lat0","latitude_of_origin",xl],["lat0","standard_parallel_1",xl],["lat1","standard_parallel_1",xl],["lat2","standard_parallel_2",xl],["azimuth","Azimuth"],["alpha","azimuth",xl],["srsCode","name"]].forEach(function(e){return n=t,i=(r=e)[0],a=r[1],void(!(i in n)&&a in n&&(n[i]=n[a],3===r.length&&(n[i]=r[2](n[i]))));var n,r,i,a}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=xl(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i}function Sl(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?Sl[t]=fl(arguments[1]):Sl[t]=wl(arguments[1]):Sl[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?Sl.apply(e,t):Sl(t)});if("string"==typeof t){if(t in Sl)return Sl[t]}else"EPSG"in t?Sl["EPSG:"+t.EPSG]=t:"ESRI"in t?Sl["ESRI:"+t.ESRI]=t:"IAU2000"in t?Sl["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(Sl);var El=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var Pl=["3857","900913","3785","102113"];function Cl(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in Sl}(t))return Sl[t];if(function(t){return El.some(function(e){return t.indexOf(e)>-1})}(t)){var e=wl(t);if(function(t){var e=ul(t,"authority");if(e){var n=ul(e,"epsg");return n&&Pl.indexOf(n)>-1}}(e))return Sl["EPSG:3857"];var n=function(t){var e=ul(t,"extension");if(e)return ul(e,"proj4")}(e);return n?fl(n):e}return function(t){return"+"===t[0]}(t)?fl(t):void 0}function Al(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}function Ol(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function kl(t){return t<0?-1:1}function Nl(t){return Math.abs(t)<=sl?t:t-kl(t)*al}function Tl(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Jf-e))/r}function jl(t,e){for(var n,r,i=.5*t,a=Jf-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),a+=r=Jf-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-a,Math.abs(r)<=1e-10)return a;return-9999}function Il(t){return t}var Dl=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ol(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*rl>90&&i*rl<-90&&r*rl>180&&r*rl<-180)return null;if(Math.abs(Math.abs(i)-Jf)<=el)return null;if(this.sphere)e=this.x0+this.a*this.k0*Nl(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(il+.5*i));else{var a=Math.sin(i),s=Tl(this.e,i,a);e=this.x0+this.a*this.k0*Nl(r-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=Jf-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(n=jl(this.e,a)))return null}return e=Nl(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:Il,inverse:Il,names:["longlat","identity"]}],Ll={},Rl=[];function ql(t,e){var n=Rl.length;return t.names?(Rl[n]=t,t.names.forEach(function(t){Ll[t.toLowerCase()]=n}),this):(console.log(e),!0)}var Fl={start:function(){Dl.forEach(ql)},add:ql,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==Ll[e]&&Rl[Ll[e]]?Rl[Ll[e]]:void 0}},$l={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Gl=$l.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};$l.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Bl={};function Ul(t,e){if(!(this instanceof Ul))return new Ul(t);e=e||function(t){if(t)throw t};var n=Cl(t);if("object"==typeof n){var r=Ul.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=ul(Bl,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var a,s,o,h,c,u,f,l=function(t,e,n,r,i){if(!t){var a=ul($l,r);a||(a=Gl),t=a.a,e=a.b,n=a.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<el)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),d=(a=l.a,s=l.b,l.rf,o=n.R_A,u=((h=a*a)-(c=s*s))/h,f=0,o?(h=(a*=1-u*(Zf+u*(Kf+u*tl)))*a,u=0):f=Math.sqrt(u),{es:u,e:f,ep2:(h-c)/c}),p=n.datum||function(t,e,n,r,i,a){var s={};return s.datum_type=void 0===t||"none"===t?Xf:Hf,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=Wf),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=Yf,s.datum_params[3]*=Qf,s.datum_params[4]*=Qf,s.datum_params[5]*=Qf,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=r,s.es=i,s.ep2=a,s}(n.datumCode,n.datum_params,l.a,l.b,d.es,d.ep2);Al(this,n),Al(this,r),this.a=l.a,this.b=l.b,this.rf=l.rf,this.sphere=l.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=p,this.init(),e(null,this)}else e(t)}else e(t)}function zl(t){return t===Wf||t===Yf}function Vl(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===Wf?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Yf||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:t.datum_type===Xf||e.datum_type===Xf?n:t.es!==e.es||t.a!==e.a||zl(t.datum_type)||zl(e.datum_type)?(n=function(t,e,n){var r,i,a,s,o=t.x,h=t.y,c=t.z?t.z:0;if(h<-Jf&&h>-1.001*Jf)h=-Jf;else if(h>Jf&&h<1.001*Jf)h=Jf;else{if(h<-Jf)return{x:-1/0,y:-1/0,z:t.z};if(h>Jf)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),i=Math.sin(h),s=Math.cos(h),a=i*i,{x:((r=n/Math.sqrt(1-e*a))+c)*s*Math.cos(o),y:(r+c)*s*Math.sin(o),z:(r*(1-e)+c)*i}}(n,t.es,t.a),zl(t.datum_type)&&(n=function(t,e,n){if(e===Wf)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Yf){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],h=n[5],c=n[6];return{x:c*(t.x-h*t.y+o*t.z)+r,y:c*(h*t.x+t.y-s*t.z)+i,z:c*(-o*t.x+s*t.y+t.z)+a}}}(n,t.datum_type,t.datum_params)),zl(e.datum_type)&&(n=function(t,e,n){if(e===Wf)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Yf){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],h=n[5],c=n[6],u=(t.x-r)/c,f=(t.y-i)/c,l=(t.z-a)/c;return{x:u+h*f-o*l,y:-h*u+f+s*l,z:o*u-s*f+l}}}(n,e.datum_type,e.datum_params)),function(t,e,n,r){var i,a,s,o,h,c,u,f,l,d,p,v,y,g,b,m=t.x,M=t.y,_=t.z?t.z:0;if(i=Math.sqrt(m*m+M*M),a=Math.sqrt(m*m+M*M+_*_),i/n<1e-12){if(g=0,a/n<1e-12)return b=-r,{x:t.x,y:t.y,z:t.z}}else g=Math.atan2(M,m);s=_/a,f=(o=i/a)*(1-e)*(h=1/Math.sqrt(1-e*(2-e)*o*o)),l=s*h,y=0;do{y++,c=e*(u=n/Math.sqrt(1-e*l*l))/(u+(b=i*f+_*l-u*(1-e*l*l))),v=(p=s*(h=1/Math.sqrt(1-c*(2-c)*o*o)))*f-(d=o*(1-c)*h)*l,f=d,l=p}while(v*v>1e-24&&y<30);return{x:g,y:Math.atan(p/Math.abs(d)),z:b}}(n,e.es,e.a,e.b)):n}function Wl(t,e,n){var r,i,a,s=n.x,o=n.y,h=n.z||0,c={};for(a=0;a<3;a++)if(!e||2!==a||void 0!==n.z)switch(0===a?(r=s,i="x"):1===a?(r=o,i="y"):(r=h,i="z"),t.axis[a]){case"e":c[i]=r;break;case"w":c[i]=-r;break;case"n":c[i]=r;break;case"s":c[i]=-r;break;case"u":void 0!==n[i]&&(c.z=r);break;case"d":void 0!==n[i]&&(c.z=-r);break;default:return null}return c}function Yl(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Hl(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Xl(t,e,n){var r;return Array.isArray(n)&&(n=Yl(n)),function(t){Hl(t.x),Hl(t.y)}(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===Wf||t.datum.datum_type===Yf)&&"WGS84"!==e.datumCode||(e.datum.datum_type===Wf||e.datum.datum_type===Yf)&&"WGS84"!==t.datumCode}(t,e)&&(n=Xl(t,r=new Ul("WGS84"),n),t=r),"enu"!==t.axis&&(n=Wl(t,!1,n)),"longlat"===t.projName?n={x:n.x*nl,y:n.y*nl}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=Vl(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*rl,y:n.y*rl}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?Wl(e,!0,n):n}Bl.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Bl.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Bl.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Bl.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Bl.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Bl.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Bl.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Bl.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Bl.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Bl.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Bl.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Bl.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Bl.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Bl.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Bl.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Bl.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Bl.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},Ul.projections=Fl,Ul.projections.start();var Ql=Ul("WGS84");function Jl(t,e,n){var r,i,a;return Array.isArray(n)?(r=Xl(t,e,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):(i=Xl(t,e,n),2===(a=Object.keys(n)).length?i:(a.forEach(function(t){"x"!==t&&"y"!==t&&(i[t]=n[t])}),i))}function Zl(t){return t instanceof Ul?t:t.oProj?t.oProj:Ul(t)}function Kl(t,e,n){t=Zl(t);var r,i=!1;return void 0===e?(e=t,t=Ql,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=Ql,i=!0),e=Zl(e),n?Jl(t,e,n):(r={forward:function(n){return Jl(t,e,n)},inverse:function(n){return Jl(e,t,n)}},i&&(r.oProj=e),r)}var td=6,ed="AJSAJS",nd="AFAFAF",rd=65,id=73,ad=79,sd=86,od=90,hd={forward:cd,inverse:function(t){var e=dd(yd(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:ud};function cd(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(d=t.easting,p=t.northing,v=t.zoneNumber,y=vd(v),g=Math.floor(d/1e5),b=Math.floor(p/1e5)%20,i=g,a=b,s=y,o=s-1,h=ed.charCodeAt(o),c=nd.charCodeAt(o),u=h+i-1,f=c+a,l=!1,u>od&&(u=u-od+rd-1,l=!0),(u===id||h<id&&u>id||(u>id||h<id)&&l)&&u++,(u===ad||h<ad&&u>ad||(u>ad||h<ad)&&l)&&++u===id&&u++,u>od&&(u=u-od+rd-1),f>sd?(f=f-sd+rd-1,l=!0):l=!1,(f===id||c<id&&f>id||(f>id||c<id)&&l)&&f++,(f===ad||c<ad&&f>ad||(f>ad||c<ad)&&l)&&++f===id&&f++,f>sd&&(f=f-sd+rd-1),String.fromCharCode(u)+String.fromCharCode(f))+n.substr(n.length-5,e)+r.substr(r.length-5,e);var i,a,s,o,h,c,u,f,l;var d,p,v,y,g,b}(function(t){var e,n,r,i,a,s,o,h=t.lat,c=t.lon,u=6378137,f=fd(h),l=fd(c);o=Math.floor((c+180)/6)+1,180===c&&(o=60);h>=56&&h<64&&c>=3&&c<12&&(o=32);h>=72&&h<84&&(c>=0&&c<9?o=31:c>=9&&c<21?o=33:c>=21&&c<33?o=35:c>=33&&c<42&&(o=37));s=fd(6*(o-1)-180+3),.006739496752268451,e=u/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),n=Math.tan(f)*Math.tan(f),r=.006739496752268451*Math.cos(f)*Math.cos(f),i=Math.cos(f)*(l-s),a=u*(.9983242984503243*f-.002514607064228144*Math.sin(2*f)+2639046602129982e-21*Math.sin(4*f)-3.418046101696858e-9*Math.sin(6*f));var d=.9996*e*(i+(1-n+r)*i*i*i/6+(5-18*n+n*n+72*r-.39089081163157013)*i*i*i*i*i/120)+5e5,p=.9996*(a+e*Math.tan(f)*(i*i/2+(5-n+9*r+4*r*r)*i*i*i*i/24+(61-58*n+n*n+600*r-2.2240339282485886)*i*i*i*i*i*i/720));h<0&&(p+=1e7);return{northing:Math.round(p),easting:Math.round(d),zoneNumber:o,zoneLetter:pd(h)}}({lat:t[1],lon:t[0]}),e)}function ud(t){var e=dd(yd(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function fd(t){return t*(Math.PI/180)}function ld(t){return t/Math.PI*180}function dd(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a,s,o,h,c,u,f,l,d=6378137,p=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,y=e;r<"N"&&(y-=1e7),u=6*(i-1)-180+3,l=(f=y/.9996/6367449.145945056)+(3*p/2-27*p*p*p/32)*Math.sin(2*f)+(21*p*p/16-55*p*p*p*p/32)*Math.sin(4*f)+151*p*p*p/96*Math.sin(6*f),a=d/Math.sqrt(1-.00669438*Math.sin(l)*Math.sin(l)),s=Math.tan(l)*Math.tan(l),o=.006739496752268451*Math.cos(l)*Math.cos(l),h=.99330562*d/Math.pow(1-.00669438*Math.sin(l)*Math.sin(l),1.5),c=v/(.9996*a);var g=l-a*Math.tan(l)/h*(c*c/2-(5+3*s+10*o-4*o*o-.06065547077041606)*c*c*c*c/24+(61+90*s+298*o+45*s*s-1.6983531815716497-3*o*o)*c*c*c*c*c*c/720);g=ld(g);var b,m=(c-(1+2*s+o)*c*c*c/6+(5-2*o+28*s-3*o*o+.05391597401814761+24*s*s)*c*c*c*c*c/120)/Math.cos(l);if(m=u+ld(m),t.accuracy){var M=dd({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});b={top:M.lat,right:M.lon,bottom:g,left:m}}else b={lat:g,lon:m};return b}function pd(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function vd(t){var e=t%td;return 0===e&&(e=td),e}function yd(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,a++}var s=parseInt(i,10);if(0===a||a+3>n)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(a++);if(o<="A"||"B"===o||"Y"===o||o>="Z"||"I"===o||"O"===o)throw"MGRSPoint zone letter "+o+" not handled: "+t;r=t.substring(a,a+=2);for(var h=vd(s),c=function(t,e){var n=ed.charCodeAt(e-1),r=1e5,i=!1;for(;n!==t.charCodeAt(0);){if(++n===id&&n++,n===ad&&n++,n>od){if(i)throw"Bad character: "+t;n=rd,i=!0}r+=1e5}return r}(r.charAt(0),h),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=nd.charCodeAt(e-1),r=0,i=!1;for(;n!==t.charCodeAt(0);){if(++n===id&&n++,n===ad&&n++,n>sd){if(i)throw"Bad character: "+t;n=rd,i=!0}r+=1e5}return r}(r.charAt(1),h);u<gd(o);)u+=2e6;var f=n-a;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var l,d,p,v=f/2,y=0,g=0;return v>0&&(l=1e5/Math.pow(10,v),d=t.substring(a,a+v),y=parseFloat(d)*l,p=t.substring(a+v),g=parseFloat(p)*l),{easting:y+c,northing:g+u,zoneLetter:o,zoneNumber:s,accuracy:l}}function gd(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function bd(t,e,n){if(!(this instanceof bd))return new bd(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}bd.fromMGRS=function(t){return new bd(ud(t))},bd.prototype.toMGRS=function(t){return cd([this.x,this.y],t)};var md=1,Md=.25,_d=.046875,xd=.01953125,wd=.01068115234375,Sd=.75,Ed=.46875,Pd=.013020833333333334,Cd=.007120768229166667,Ad=.3645833333333333,Od=.005696614583333333,kd=.3076171875;function Nd(t){var e=[];e[0]=md-t*(Md+t*(_d+t*(xd+t*wd))),e[1]=t*(Sd-t*(_d+t*(xd+t*wd)));var n=t*t;return e[2]=n*(Ed-t*(Pd+t*Cd)),n*=t,e[3]=n*(Ad-t*Od),e[4]=n*t*kd,e}function Td(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var jd=20;function Id(t,e,n){for(var r=1/(1-e),i=t,a=jd;a;--a){var s=Math.sin(i),o=1-e*s*s;if(i-=o=(Td(i,s,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,Math.abs(o)<el)return i}return i}var Dd={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Nd(this.es),this.ml0=Td(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,a=t.y,s=Nl(i-this.long0),o=Math.sin(a),h=Math.cos(a);if(this.es){var c=h*s,u=Math.pow(c,2),f=this.ep2*Math.pow(h,2),l=Math.pow(f,2),d=Math.abs(h)>el?Math.tan(a):0,p=Math.pow(d,2),v=Math.pow(p,2);e=1-this.es*Math.pow(o,2),c/=Math.sqrt(e);var y=Td(a,o,h,this.en);n=this.a*(this.k0*c*(1+u/6*(1-p+f+u/20*(5-18*p+v+14*f-58*p*f+u/42*(61+179*v-v*p-479*p)))))+this.x0,r=this.a*(this.k0*(y-this.ml0+o*s*c/2*(1+u/12*(5-p+9*f+4*l+u/30*(61+v-58*p+270*f-330*p*f+u/56*(1385+543*v-v*p-3111*p))))))+this.y0}else{var g=h*Math.sin(s);if(Math.abs(Math.abs(g)-1)<el)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,r=h*Math.cos(s)/Math.sqrt(1-Math.pow(g,2)),(g=Math.abs(r))>=1){if(g-1>el)return 93;r=0}else r=Math.acos(r);a<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(n=Id(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<Jf){var o=Math.sin(n),h=Math.cos(n),c=Math.abs(h)>el?Math.tan(n):0,u=this.ep2*Math.pow(h,2),f=Math.pow(u,2),l=Math.pow(c,2),d=Math.pow(l,2);e=1-this.es*Math.pow(o,2);var p=a*Math.sqrt(e)/this.k0,v=Math.pow(p,2);r=n-(e*=c)*v/(1-this.es)*.5*(1-v/12*(5+3*l-9*u*l+u-4*f-v/30*(61+90*l-252*u*l+45*d+46*u-v/56*(1385+3633*l+4095*d+1574*d*l)))),i=Nl(this.long0+p*(1-v/6*(1+2*l+u-v/20*(5+28*l+24*d+8*u*l+6*u-v/42*(61+662*l+1320*d+720*d*l))))/h)}else r=Jf*kl(s),i=0;else{var y=Math.exp(a/this.k0),g=.5*(y-1/y),b=this.lat0+s/this.k0,m=Math.cos(b);e=Math.sqrt((1-Math.pow(m,2))/(1+Math.pow(g,2))),r=Math.asin(e),s<0&&(r=-r),i=0===g&&0===m?0:Nl(Math.atan2(g,m)+this.long0)}return t.x=i,t.y=r,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]};function Ld(t){var e=Math.exp(t);return e=(e-1/e)/2}function Rd(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function qd(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Rd(1,e)+1))),t<0?-e:e}function Fd(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,a=t[i],s=0;--i>=0;)n=r*a-s+t[i],s=a,a=n;return e+n*Math.sin(2*e)}function $d(t,e,n){for(var r,i,a=Math.sin(e),s=Math.cos(e),o=Ld(n),h=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),c=2*s*h,u=-2*a*o,f=t.length-1,l=t[f],d=0,p=0,v=0;--f>=0;)r=p,i=d,l=c*(p=l)-r-u*(d=v)+t[f],v=u*p-i+c*d;return[(c=a*h)*l-(u=s*o)*v,c*v+u*l]}var Gd={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Fd(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,a=t[i],s=0;--i>=0;)n=r*a-s+t[i],s=a,a=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=Nl(t.x-this.long0),n=t.y;n=Fd(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),a=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(a*i,Rd(r,i*s)),e=qd(Math.tan(e));var o,h,c=$d(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(o=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*n+this.Zb)+this.y0):(o=1/0,h=1/0),t.x=o,t.y=h,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var a=$d(this.utg,2*i,2*r);i+=a[0],r+=a[1],r=Math.atan(Ld(r));var s=Math.sin(i),o=Math.cos(i),h=Math.sin(r),c=Math.cos(r);i=Math.atan2(s*c,Rd(h,c*o)),e=Nl((r=Math.atan2(h,c*o))+this.long0),n=Fd(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]};var Bd={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(Nl(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*nl,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Gd.init.apply(this),this.forward=Gd.forward,this.inverse=Gd.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Ud(t,e){return Math.pow((1-t)/(1+t),e)}var zd=20;var Vd={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+il)/(Math.pow(Math.tan(.5*this.lat0+il),this.C)*Ud(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+il),this.C)*Ud(this.e*Math.sin(n),this.ratexp))-Jf,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+il)/this.K,1/this.C),i=zd;i>0&&(n=2*Math.atan(r*Ud(this.e*Math.sin(t.y),-.5*this.e))-Jf,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]};var Wd={init:function(){Vd.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=Nl(t.x-this.long0),Vd.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/a),r=Math.atan2(t.x*e,a*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Vd.inverse.apply(this,[t]),t.x=Nl(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var Yd={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=el&&(this.k0=.5*(1+kl(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=el&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=el&&(this.k0=.5*this.cons*Ol(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Tl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ol(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Jf,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,a,s,o=t.x,h=t.y,c=Math.sin(h),u=Math.cos(h),f=Nl(o-this.long0);return Math.abs(Math.abs(o-this.long0)-Math.PI)<=el&&Math.abs(h+this.lat0)<=el?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(f)),t.x=this.a*e*u*Math.sin(f)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*u*Math.cos(f))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,c,this.e))-Jf,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=el?(a=Tl(this.e,h*this.con,this.con*c),s=2*this.a*this.k0*a/this.cons,t.x=this.x0+s*Math.sin(o-this.long0),t.y=this.y0-this.con*s*Math.cos(o-this.long0),t):(Math.abs(this.sinlat0)<el?(e=2*this.a*this.k0/(1+i*Math.cos(f)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(f))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(f))+this.y0),t.x=e*i*Math.sin(f)+this.x0,t))},inverse:function(t){var e,n,r,i,a;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=el?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/s),e=Math.abs(this.coslat0)<el?this.lat0>0?Nl(this.long0+Math.atan2(t.x,-1*t.y)):Nl(this.long0+Math.atan2(t.x,t.y)):Nl(this.long0+Math.atan2(t.x*Math.sin(o),s*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=el){if(s<=el)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*jl(this.e,r),e=this.con*Nl(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=el?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=Nl(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*jl(this.e,Math.tan(.5*(Jf+a)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(Jf+t))*Math.pow((1-e)/(1+e),.5*n)}};var Hd={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),a=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+a*e)/(1-a*e));this.K=s-this.alpha*o+this.alpha*a/2*h},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+s/this.alpha,h=0,c=a,u=-1e3,f=0;Math.abs(c-u)>1e-7;){if(++f>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=o,t.y=c,t},names:["somerc"]};var Xd={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,a=Tl(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var o=Tl(this.e,this.lat1,Math.sin(this.lat1)),h=Tl(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(a,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(a,this.bl);var c=Math.pow(o,this.bl),u=Math.pow(h,this.bl);i=.5*((r=this.el/c)-1/r);var f=(this.el*this.el-u*c)/(this.el*this.el+u*c),l=(u-c)/(u+c),d=Nl(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(f*Math.tan(.5*this.bl*d)/l)/this.bl,this.long0=Nl(this.long0);var p=Nl(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/i),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else r=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=r*Math.pow(a,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,n,r,i=t.x,a=t.y,s=Nl(i-this.long0);if(Math.abs(Math.abs(a)-Jf)<=el)r=a>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(il+r*this.gamma0*.5)),e=-1*r*Jf*this.al/this.bl;else{var o=Tl(this.e,a,Math.sin(a)),h=this.el/Math.pow(o,this.bl),c=.5*(h-1/h),u=.5*(h+1/h),f=Math.sin(this.bl*s),l=(c*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/u;n=Math.abs(Math.abs(l)-1)<=el?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-l)/(1+l))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=el?this.al*this.bl*s:this.al*Math.atan2(c*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),a=.5*(r+1/r),s=Math.sin(this.bl*e/this.al),o=(s*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/a,h=Math.pow(this.el/Math.sqrt((1+o)/(1-o)),1/this.bl);return Math.abs(o-1)<el?(t.x=this.long0,t.y=Jf):Math.abs(o+1)<el?(t.x=this.long0,t.y=-1*Jf):(t.y=jl(this.e,h),t.x=Nl(this.long0-Math.atan2(i*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var Qd={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<el)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Ol(this.e,e,n),i=Tl(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),o=Ol(this.e,a,s),h=Tl(this.e,this.lat2,a),c=Tl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>el?this.ns=Math.log(r/o)/Math.log(i/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=el&&(n=kl(n)*(Jf-2*el));var r,i,a=Math.abs(Math.abs(n)-Jf);if(a>el)r=Tl(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((a=n*this.ns)<=0)return null;i=0}var s=this.ns*Nl(e-this.long0);return t.x=this.k0*(i*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,r,i,a,s=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+o*o),n=1):(e=-Math.sqrt(s*s+o*o),n=-1);var h=0;if(0!==e&&(h=Math.atan2(n*s,n*o)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=jl(this.e,r)))return null}else i=-Jf;return a=Nl(h/this.ns+this.long0),t.x=a,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var Jd={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,a,s,o,h=t.x,c=t.y,u=Nl(h-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(s)/1,t.x=o*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,a,s,o,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,o=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(o=1),s=t.y,c+=1}while(0===o&&c<15);return c>=15?null:t},names:["Krovak","krovak"]};function Zd(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Kd(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function tp(t){return.375*t*(1+.25*t*(1+.46875*t))}function ep(t){return.05859375*t*t*(1+.75*t)}function np(t){return t*t*t*(35/3072)}function rp(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function ip(t){return Math.abs(t)<Jf?t:t-kl(t)*Math.PI}function ap(t,e,n,r,i){var a,s;a=t/e;for(var o=0;o<15;o++)if(a+=s=(t-(e*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a)),Math.abs(s)<=1e-10)return a;return NaN}var sp={init:function(){this.sphere||(this.e0=Kd(this.es),this.e1=tp(this.es),this.e2=ep(this.es),this.e3=np(this.es),this.ml0=this.a*Zd(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=Nl(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),o=rp(this.a,this.e,a),h=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,f=this.es*s*s/(1-this.es);e=o*c*(1-u*h*(1/6-(8-h+8*f)*u/120)),n=this.a*Zd(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+o*a/s*u*(.5+(5-h+6*f)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var a=i+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(a))}else{var s=ap(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Jf)<=el)return t.x=this.long0,t.y=Jf,i<0&&(t.y*=-1),t;var o=rp(this.a,this.e,Math.sin(s)),h=o*o*o/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),u=r*this.a/o,f=u*u;e=s-o*Math.tan(s)/h*u*u*(.5-(1+3*c)*u*u/24),n=u*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}return t.x=Nl(n+this.long0),t.y=ip(e),t},names:["Cassini","Cassini_Soldner","cass"]};function op(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}var hp=.3333333333333333,cp=.17222222222222222,up=.10257936507936508,fp=.06388888888888888,lp=.0664021164021164,dp=.016415012942191543;var pp={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-Jf)<el?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<el?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=op(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*hp,e=t*t,n[0]+=e*cp,n[1]=e*fp,e*=t,n[0]+=e*up,n[1]+=e*lp,n[2]=e*dp,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=op(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,a,s,o,h,c,u,f=t.x,l=t.y;if(f=Nl(f-this.long0),this.sphere){if(a=Math.sin(l),u=Math.cos(l),r=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*a+this.cosph0*u*r)<=el)return null;e=(n=Math.sqrt(2/n))*u*Math.sin(f),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(l+this.phi0)<el)return null;n=il-.5*l,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(f),n*=r}}else{switch(o=0,h=0,c=0,r=Math.cos(f),i=Math.sin(f),a=Math.sin(l),s=op(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(o=s/this.qp,h=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:c=1+this.sinb1*o+this.cosb1*h*r;break;case this.EQUIT:c=1+h*r;break;case this.N_POLE:c=Jf+l,s=this.qp-s;break;case this.S_POLE:c=l-Jf,s=this.qp+s}if(Math.abs(c)<el)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*o-this.sinb1*h*r):(c=Math.sqrt(2/(1+h*r)))*o*this.ymf,e=this.xmf*c*h*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,a,s,o,h,c,u,f=t.x/this.a,l=t.y/this.a;if(this.sphere){var d,p=0,v=0;if((n=.5*(d=Math.sqrt(f*f+l*l)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(v=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=el?0:Math.asin(l*v/d),f*=v,l=p*d;break;case this.OBLIQ:n=Math.abs(d)<=el?this.phi0:Math.asin(p*this.sinph0+l*v*this.cosph0/d),f*=v*this.cosph0,l=(p-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:l=-l,n=Jf-n;break;case this.S_POLE:n-=Jf}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(f,l):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(f/=this.dd,l*=this.dd,(s=Math.sqrt(f*f+l*l))<el)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*s/this.rq),r=Math.cos(i),f*=i=Math.sin(i),this.mode===this.OBLIQ?(o=r*this.sinb1+l*i*this.cosb1/s,a=this.qp*o,l=s*this.cosb1*r-l*this.sinb1*i):(o=l*i/s,a=this.qp*o,l=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(a=f*f+l*l))return t.x=0,t.y=this.phi0,t;o=1-a/this.qp,this.mode===this.S_POLE&&(o=-o)}e=Math.atan2(f,l),h=Math.asin(o),c=this.apa,u=h+h,n=h+c[0]*Math.sin(u)+c[1]*Math.sin(u+u)+c[2]*Math.sin(u+u+u)}return t.x=Nl(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function vp(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}var yp={init:function(){Math.abs(this.lat1+this.lat2)<el||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ol(this.e3,this.sin_po,this.cos_po),this.qs1=op(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ol(this.e3,this.sin_po,this.cos_po),this.qs2=op(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=op(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>el?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=op(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,a=this.ns0*Nl(e-this.long0),s=i*Math.sin(a)+this.x0,o=this.rh-i*Math.cos(a)+this.y0;return t.x=s,t.y=o,t},inverse:function(t){var e,n,r,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),a=Nl(i/this.ns0+this.long0),t.x=a,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,a,s=vp(.5*e);if(t<el)return s;for(var o=t*t,h=1;h<=25;h++)if(s+=a=.5*(i=1-(r=t*(n=Math.sin(s)))*r)*i/Math.cos(s)*(e/(1-o)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(a)<=1e-7)return s;return null}};var gp={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,a,s,o,h=t.x,c=t.y;return r=Nl(h-this.long0),e=Math.sin(c),n=Math.cos(c),i=Math.cos(r),(a=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(a)<=el?(s=this.x0+1*this.a*n*Math.sin(r)/a,o=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/a):(s=this.x0+this.infinity_dist*n*Math.sin(r),o=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=o,t},inverse:function(t){var e,n,r,i,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),s=vp((r=Math.cos(i))*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),a=Nl(this.long0+a)):(s=this.phic0,a=0),t.x=a,t.y=s,t},names:["gnom"]};var bp={init:function(){this.sphere||(this.k0=Ol(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,a=Nl(r-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=op(this.e,Math.sin(i));e=this.x0+this.a*this.k0*a,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Nl(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Jf:Jf;for(var r,i,a,s,o=Math.asin(.5*e),h=0;h<30;h++)if(i=Math.sin(o),a=Math.cos(o),s=t*i,o+=r=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-i/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return o;return NaN}(this.e,2*t.y*this.k0/this.a),e=Nl(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var mp={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=Nl(e-this.long0),i=ip(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=Nl(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ip(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Mp=20;var _p={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kd(this.es),this.e1=tp(this.es),this.e2=ep(this.es),this.e3=np(this.es),this.ml0=this.a*Zd(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,a=t.y,s=Nl(i-this.long0);if(r=s*Math.sin(a),this.sphere)Math.abs(a)<=el?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(a),n=this.a*(ip(a-this.lat0)+(1-Math.cos(r))/Math.tan(a)));else if(Math.abs(a)<=el)e=this.a*s,n=-1*this.ml0;else{var o=rp(this.a,this.e,Math.sin(a))/Math.tan(a);e=o*Math.sin(r),n=this.a*Zd(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+o*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,a,s,o,h,c;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=el)e=Nl(r/this.a+this.long0),n=0;else{var u;for(s=this.lat0+i/this.a,o=r*r/this.a/this.a+s*s,h=s,a=Mp;a;--a)if(h+=c=-1*(s*(h*(u=Math.tan(h))+1)-h-.5*(h*h+o)*u)/((h-s)/u-1),Math.abs(c)<=el){n=h;break}e=Nl(this.long0+Math.asin(r*Math.tan(h)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=el)n=0,e=Nl(this.long0+r/this.a);else{var f,l,d,p,v;for(s=(this.ml0+i)/this.a,o=r*r/this.a/this.a+s*s,h=s,a=Mp;a;--a)if(v=this.e*Math.sin(h),f=Math.sqrt(1-v*v)*Math.tan(h),l=this.a*Zd(this.e0,this.e1,this.e2,this.e3,h),d=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=c=(s*(f*(p=l/this.a)+1)-p-.5*f*(p*p+o))/(this.es*Math.sin(2*h)*(p*p+o-2*s*p)/(4*f)+(s-p)*(f*d-2/Math.sin(2*h))-d),Math.abs(c)<=el){n=h;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Nl(this.long0+Math.asin(r*f/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var xp={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,a=r/Qf*1e-5,s=i,o=1,h=0;for(e=1;e<=10;e++)o*=a,h+=this.A[e]*o;var c,u=h,f=s,l=1,d=0,p=0,v=0;for(e=1;e<=6;e++)c=d*u+l*f,l=l*u-d*f,d=c,p=p+this.B_re[e]*l-this.B_im[e]*d,v=v+this.B_im[e]*l+this.B_re[e]*d;return t.x=v*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,a=r-this.x0,s=(i-this.y0)/this.a,o=a/this.a,h=1,c=0,u=0,f=0;for(e=1;e<=6;e++)n=c*s+h*o,h=h*s-c*o,c=n,u=u+this.C_re[e]*h-this.C_im[e]*c,f=f+this.C_im[e]*h+this.C_re[e]*c;for(var l=0;l<this.iterations;l++){var d,p=u,v=f,y=s,g=o;for(e=2;e<=6;e++)d=v*u+p*f,p=p*u-v*f,v=d,y+=(e-1)*(this.B_re[e]*p-this.B_im[e]*v),g+=(e-1)*(this.B_im[e]*p+this.B_re[e]*v);p=1,v=0;var b=this.B_re[1],m=this.B_im[1];for(e=2;e<=6;e++)d=v*u+p*f,p=p*u-v*f,v=d,b+=e*(this.B_re[e]*p-this.B_im[e]*v),m+=e*(this.B_im[e]*p+this.B_re[e]*v);var M=b*b+m*m;u=(y*b+g*m)/M,f=(g*b-y*m)/M}var _=u,x=f,w=1,S=0;for(e=1;e<=9;e++)w*=_,S+=this.D[e]*w;var E=this.lat0+S*Qf*1e5,P=this.long0+x;return t.x=P,t.y=E,t},names:["New_Zealand_Map_Grid","nzmg"]};var wp={init:function(){},forward:function(t){var e=t.x,n=t.y,r=Nl(e-this.long0),i=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=a,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=Nl(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Sp=20;var Ep={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Nd(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=Nl(r-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(i),s=Sp;s;--s){var o=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<el)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var h=Math.sin(i),c=Math.cos(i);n=this.a*Td(i,h,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=vp((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=vp(Math.sin(e)/this.n)),n=Nl(n+this.long0),e=ip(e)):(e=Id(t.y/this.a,this.es,this.en),(r=Math.abs(e))<Jf?(r=Math.sin(e),n=Nl(this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)))):r-el<Jf&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]};var Pp={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=Nl(e-this.long0),i=n,a=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<el)break}i/=2,Math.PI/2-Math.abs(n)<el&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,h=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=h,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=Nl(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]};var Cp={init:function(){Math.abs(this.lat1+this.lat2)<el||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kd(this.es),this.e1=tp(this.es),this.e2=ep(this.es),this.e3=np(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ol(this.e,this.sinphi,this.cosphi),this.ml1=Zd(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<el?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ol(this.e,this.sinphi,this.cosphi),this.ml2=Zd(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Zd(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=Zd(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var a=this.ns*Nl(n-this.long0),s=this.x0+e*Math.sin(a),o=this.y0+this.rh-e*Math.cos(a);return t.x=s,t.y=o,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;return 0!==n&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere?(i=Nl(this.long0+a/this.ns),r=ip(this.g-n/this.a),t.x=i,t.y=r,t):(r=ap(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=Nl(this.long0+a/this.ns),t.x=i,t.y=r,t)},names:["Equidistant_Conic","eqdc"]};var Ap={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,a=Nl(r-this.long0);Math.abs(i)<=el&&(e=this.x0+this.R*a,n=this.y0);var s=vp(2*Math.abs(i/Math.PI));(Math.abs(a)<=el||Math.abs(Math.abs(i)-Jf)<=el)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/a-a/Math.PI),h=o*o,c=Math.sin(s),u=Math.cos(s),f=u/(c+u-1),l=f*f,d=f*(2/c-1),p=d*d,v=Math.PI*this.R*(o*(f-p)+Math.sqrt(h*(f-p)*(f-p)-(p+h)*(l-p)))/(p+h);a<0&&(v=-v),e=this.x0+v;var y=h+f;return v=Math.PI*this.R*(d*y-o*Math.sqrt((p+h)*(h+1)-y*y))/(p+h),n=i>=0?this.y0+v:this.y0-v,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,a,s,o,h,c,u,f,l;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,a=(r=t.x/f)*r+(i=t.y/f)*i,f=3*(i*i/(h=-2*(s=-Math.abs(i)*(1+a))+1+2*i*i+a*a)+(2*(o=s-2*i*i+r*r)*o*o/h/h/h-9*s*o/h/h)/27)/(c=(s-o*o/3/h)/h)/(u=2*Math.sqrt(-c/3)),Math.abs(f)>1&&(f=f>=0?1:-1),l=Math.acos(f)/3,n=t.y>=0?(-u*Math.cos(l+Math.PI/3)-o/3/h)*Math.PI:-(-u*Math.cos(l+Math.PI/3)-o/3/h)*Math.PI,e=Math.abs(r)<el?this.long0:Nl(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-i*i)+a*a))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Op={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,a,s,o,h,c,u,f,l,d,p,v,y,g,b,m,M,_,x,w=t.x,S=t.y,E=Math.sin(t.y),P=Math.cos(t.y),C=Nl(w-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=el?(t.x=this.x0+this.a*(Jf-S)*Math.sin(C),t.y=this.y0-this.a*(Jf-S)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=el?(t.x=this.x0+this.a*(Jf+S)*Math.sin(C),t.y=this.y0+this.a*(Jf+S)*Math.cos(C),t):(b=this.sin_p12*E+this.cos_p12*P*Math.cos(C),g=(y=Math.acos(b))/Math.sin(y),t.x=this.x0+this.a*g*P*Math.sin(C),t.y=this.y0+this.a*g*(this.cos_p12*E-this.sin_p12*P*Math.cos(C)),t):(e=Kd(this.es),n=tp(this.es),r=ep(this.es),i=np(this.es),Math.abs(this.sin_p12-1)<=el?(a=this.a*Zd(e,n,r,i,Jf),s=this.a*Zd(e,n,r,i,S),t.x=this.x0+(a-s)*Math.sin(C),t.y=this.y0-(a-s)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=el?(a=this.a*Zd(e,n,r,i,Jf),s=this.a*Zd(e,n,r,i,S),t.x=this.x0+(a+s)*Math.sin(C),t.y=this.y0+(a+s)*Math.cos(C),t):(o=E/P,h=rp(this.a,this.e,this.sin_p12),c=rp(this.a,this.e,E),u=Math.atan((1-this.es)*o+this.es*h*this.sin_p12/(c*P)),m=0===(f=Math.atan2(Math.sin(C),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(C)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(f)-Math.PI)<=el?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(C)*Math.cos(u)/Math.sin(f)),l=this.e*this.sin_p12/Math.sqrt(1-this.es),y=h*m*(1-(M=m*m)*(v=(d=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es))*d)*(1-v)/6+(_=M*m)/8*(p=l*d)*(1-2*v)+(x=_*m)/120*(v*(4-7*v)-3*l*l*(1-7*v))-x*m/48*p),t.x=this.x0+y*Math.sin(f),t.y=this.y0+y*Math.cos(f),t))},inverse:function(t){var e,n,r,i,a,s,o,h,c,u,f,l,d,p,v,y,g,b,m,M,_,x;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*Jf*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=el?s=this.lat0:(s=vp(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-Jf,a=Math.abs(o)<=el?this.lat0>=0?Nl(this.long0+Math.atan2(t.x,-t.y)):Nl(this.long0-Math.atan2(-t.x,t.y)):Nl(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=a,t.y=s,t}return h=Kd(this.es),c=tp(this.es),u=ep(this.es),f=np(this.es),Math.abs(this.sin_p12-1)<=el?(s=ap(((l=this.a*Zd(h,c,u,f,Jf))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,h,c,u,f),a=Nl(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=el?(l=this.a*Zd(h,c,u,f,Jf),s=ap(((e=Math.sqrt(t.x*t.x+t.y*t.y))-l)/this.a,h,c,u,f),a=Nl(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),d=rp(this.a,this.e,this.sin_p12),y=Math.cos(v),b=-(g=this.e*this.cos_p12*y)*g/(1-this.es),m=3*this.es*(1-b)*this.sin_p12*this.cos_p12*y/(1-this.es),x=1-b*(_=(M=e/d)-b*(1+b)*Math.pow(M,3)/6-m*(1+3*b)*Math.pow(M,4)/24)*_/2-M*_*_*_/6,p=Math.asin(this.sin_p12*Math.cos(_)+this.cos_p12*Math.sin(_)*y),a=Nl(this.long0+Math.asin(Math.sin(v)*Math.sin(_)/Math.cos(p))),s=Math.atan((1-this.es*x*this.sin_p12/Math.sin(p))*Math.tan(p)/(1-this.es)),t.x=a,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var kp={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,a,s,o,h=t.x,c=t.y;return r=Nl(h-this.long0),e=Math.sin(c),n=Math.cos(c),i=Math.cos(r),((a=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(a)<=el)&&(s=1*this.a*n*Math.sin(r),o=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=o,t},inverse:function(t){var e,n,r,i,a,s,o;return t.x-=this.x0,t.y-=this.y0,n=vp((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=el?(o=this.lat0,t.x=s,t.y=o,t):(o=vp(i*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.abs(this.lat0)-Jf,Math.abs(a)<=el?(s=this.lat0>=0?Nl(this.long0+Math.atan2(t.x,-t.y)):Nl(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=o,t):(s=Nl(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=s,t.y=o,t))},names:["ortho"]},Np={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Tp={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function jp(t,e,n,r){var i;return t<el?(r.value=Tp.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=il?r.value=Tp.AREA_0:i>il&&i<=Jf+il?(r.value=Tp.AREA_1,i-=Jf):i>Jf+il||i<=-(Jf+il)?(r.value=Tp.AREA_2,i=i>=0?i-sl:i+sl):(r.value=Tp.AREA_3,i+=Jf)),i}function Ip(t,e){var n=t+e;return n<-sl?n+=al:n>+sl&&(n-=al),n}var Dp={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Jf-il/2?this.face=Np.TOP:this.lat0<=-(Jf-il/2)?this.face=Np.BOTTOM:Math.abs(this.long0)<=il?this.face=Np.FRONT:Math.abs(this.long0)<=Jf+il?this.face=this.long0>0?Np.RIGHT:Np.LEFT:this.face=Np.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,a,s,o={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Np.TOP)i=Jf-e,n>=il&&n<=Jf+il?(h.value=Tp.AREA_0,r=n-Jf):n>Jf+il||n<=-(Jf+il)?(h.value=Tp.AREA_1,r=n>0?n-sl:n+sl):n>-(Jf+il)&&n<=-il?(h.value=Tp.AREA_2,r=n+Jf):(h.value=Tp.AREA_3,r=n);else if(this.face===Np.BOTTOM)i=Jf+e,n>=il&&n<=Jf+il?(h.value=Tp.AREA_0,r=-n+Jf):n<il&&n>=-il?(h.value=Tp.AREA_1,r=-n):n<-il&&n>=-(Jf+il)?(h.value=Tp.AREA_2,r=-n-Jf):(h.value=Tp.AREA_3,r=n>0?-n+sl:-n-sl);else{var c,u,f,l,d,p;this.face===Np.RIGHT?n=Ip(n,+Jf):this.face===Np.BACK?n=Ip(n,+sl):this.face===Np.LEFT&&(n=Ip(n,-Jf)),l=Math.sin(e),d=Math.cos(e),p=Math.sin(n),c=d*Math.cos(n),u=d*p,f=l,this.face===Np.FRONT?r=jp(i=Math.acos(c),f,u,h):this.face===Np.RIGHT?r=jp(i=Math.acos(u),f,-c,h):this.face===Np.BACK?r=jp(i=Math.acos(-c),f,-u,h):this.face===Np.LEFT?r=jp(i=Math.acos(-u),f,c,h):(i=r=0,h.value=Tp.AREA_0)}return s=Math.atan(12/sl*(r+Math.acos(Math.sin(r)*Math.cos(il))-Jf)),a=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),h.value===Tp.AREA_1?s+=Jf:h.value===Tp.AREA_2?s+=sl:h.value===Tp.AREA_3&&(s+=1.5*sl),o.x=a*Math.cos(s),o.y=a*Math.sin(s),o.x=o.x*this.a+this.x0,o.y=o.y*this.a+this.y0,t.x=o.x,t.y=o.y,t},inverse:function(t){var e,n,r,i,a,s,o,h,c,u,f,l,d={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=Tp.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=Tp.AREA_1,e-=Jf):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=Tp.AREA_2,e=e<0?e+sl:e-sl):(p.value=Tp.AREA_3,e+=Jf),c=sl/12*Math.tan(e),a=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(a),(o=1-(r=Math.cos(e))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?o=-1:o>1&&(o=1),this.face===Np.TOP)h=Math.acos(o),d.phi=Jf-h,p.value===Tp.AREA_0?d.lam=s+Jf:p.value===Tp.AREA_1?d.lam=s<0?s+sl:s-sl:p.value===Tp.AREA_2?d.lam=s-Jf:d.lam=s;else if(this.face===Np.BOTTOM)h=Math.acos(o),d.phi=h-Jf,p.value===Tp.AREA_0?d.lam=-s+Jf:p.value===Tp.AREA_1?d.lam=-s:p.value===Tp.AREA_2?d.lam=-s-Jf:d.lam=s<0?-s-sl:-s+sl;else{var v,y,g;c=(v=o)*v,y=(c+=(g=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*g)>=1?0:Math.sqrt(1-c),p.value===Tp.AREA_1?(c=y,y=-g,g=c):p.value===Tp.AREA_2?(y=-y,g=-g):p.value===Tp.AREA_3&&(c=y,y=g,g=-c),this.face===Np.RIGHT?(c=v,v=-y,y=c):this.face===Np.BACK?(v=-v,y=-y):this.face===Np.LEFT&&(c=v,v=y,y=-c),d.phi=Math.acos(-g)-Jf,d.lam=Math.atan2(y,v),this.face===Np.RIGHT?d.lam=Ip(d.lam,-Jf):this.face===Np.BACK?d.lam=Ip(d.lam,-sl):this.face===Np.LEFT&&(d.lam=Ip(d.lam,+Jf))}return 0!==this.es&&(u=d.phi<0?1:0,f=Math.tan(d.phi),l=this.b/Math.sqrt(f*f+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-l*l)/(this.one_minus_f*l)),u&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Lp=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Rp=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],qp=.8487,Fp=1.3523,$p=rl/5,Gp=1/$p,Bp=18,Up=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},zp=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};var Vp={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=Nl(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*$p);r<0?r=0:r>=Bp&&(r=Bp-1),n=rl*(n-Gp*r);var i={x:Up(Lp[r],n)*e,y:Up(Rp[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*qp+this.x0,i.y=i.y*this.a*Fp+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*qp),y:Math.abs(t.y-this.y0)/(this.a*Fp)};if(e.y>=1)e.x/=Lp[Bp][0],e.y=t.y<0?-Jf:Jf;else{var n=Math.floor(e.y*Bp);for(n<0?n=0:n>=Bp&&(n=Bp-1);;)if(Rp[n][0]>e.y)--n;else{if(!(Rp[n+1][0]<=e.y))break;++n}var r=Rp[n],i=5*(e.y-r[0])/(Rp[n+1][0]-r[0]);i=function(t,e,n,r){for(var i=e;r;--r){var a=t(i);if(i-=a,Math.abs(a)<n)break}return i}(function(t){return(Up(r,t)-e.y)/zp(r,t)},i,el,100),e.x/=Up(Lp[n],i),e.y=(5*n+i)*nl,t.y<0&&(e.y=-e.y)}return e.x=Nl(e.x+this.long0),e},names:["Robinson","robin"]};Kl.defaultDatum="WGS84",Kl.Proj=Ul,Kl.WGS84=new Kl.Proj("WGS84"),Kl.Point=bd,Kl.toPoint=Yl,Kl.defs=Sl,Kl.transform=Xl,Kl.mgrs=hd,Kl.version="2.5.0",function(t){t.Proj.projections.add(Dd),t.Proj.projections.add(Gd),t.Proj.projections.add(Bd),t.Proj.projections.add(Wd),t.Proj.projections.add(Yd),t.Proj.projections.add(Hd),t.Proj.projections.add(Xd),t.Proj.projections.add(Qd),t.Proj.projections.add(Jd),t.Proj.projections.add(sp),t.Proj.projections.add(pp),t.Proj.projections.add(yp),t.Proj.projections.add(gp),t.Proj.projections.add(bp),t.Proj.projections.add(mp),t.Proj.projections.add(_p),t.Proj.projections.add(xp),t.Proj.projections.add(wp),t.Proj.projections.add(Ep),t.Proj.projections.add(Pp),t.Proj.projections.add(Cp),t.Proj.projections.add(Ap),t.Proj.projections.add(Op),t.Proj.projections.add(kp),t.Proj.projections.add(Dp),t.Proj.projections.add(Vp)}(Kl);var Wp={filter:yf,select:function(t,e){if(e.constructor===String)return t[e];if(e.constructor===Array){for(var n in t)e.includes(n)||delete t[n];return t}throw new Error("select can only be used with a string or array of strings")},arrange:function(t,e){if(e.constructor===Object)return xf(t,e);if(e.constructor===Array){for(var n=e.length-1;n>=0;n--)t=xf(t,e[n]);return t}throw new Error("arrange requires a key-value object or array of key-value objects")},rename:function(t,e){if(e.constructor!==Object)throw new Error("Rename only accepts an object");for(var n in e)if(t.hasOwnProperty(n)){var r=e[n];ff(r),t[r]=t[n],delete t[n]}else console.warn("Rename: column '".concat(n,"' not found"));return t},mutate:Sf,transmute:function(t,e){for(var n in t=Sf(t,e))e.hasOwnProperty(n)||delete t[n]},summarise:Of,summarize:Of,mutarise:jf,mutarize:jf,groupBy:function(t,e){var n={},r=function(t,e){var n=e.constructor;if(![String,Array].includes(n))throw new Error("groupBy can only be used with a string or array of strings");var r=n===String?[e]:e,i=!0,a=!1,s=void 0;try{for(var o,h=Fr(r);!(i=(o=h.next()).done);i=!0){var c=o.value;if(!t.hasOwnProperty(c))throw new Error("Column '".concat(c,"' not found"))}}catch(t){a=!0,s=t}finally{try{i||null==h.return||h.return()}finally{if(a)throw s}}if(r.length===Nc(t).length)throw new Error("Cannot group by all columns");return r}(t,e),i=function(t,e){for(var n={},r=0,i=vf(t);r<i;){var a=Df(t,r,e),s=fi(a);n[s]=n[s]||new Lf(t,a),n[s].addRow(t,r),r++}return Nc(n).map(function(t){return n[t]})}(t,r);n.grouped=i.map(function(t){return t.data});var a=!0,s=!1,o=void 0;try{for(var h,c=Fr(r);!(a=(h=c.next()).done);a=!0)n[h.value]=[]}catch(t){s=!0,o=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw o}}for(var u=0;u<r.length;u++){var f=r[u],l=!0,d=!1,p=void 0;try{for(var v,y=Fr(i);!(l=(v=y.next()).done);l=!0){var g=v.value;n[f].push(g.groupedValues[u])}}catch(t){d=!0,p=t}finally{try{l||null==y.return||y.return()}finally{if(d)throw p}}}return n},binning:function(t,e){if(e.constructor!==Object)throw new Error("Binning only accepts an Object");var n=e.groupBy;if(n.constructor!==String)throw new Error("groupBy only accepts a String variable name");var r=e.method;if(r.constructor!==String)throw new Error("Please provide the classification method you will like to use");var i,a=e.numClasses,s=t[n],o=new zf(s);if("IntervalSize"===r){var h=e.binSize,c=function(t){var e=t.sort(function(t,e){return t-e}),n=[];return n.push(e[0]),n.push(e.pop()),n}(s);i=function(t,e,n){for(var r=[],i=t[0],a=0;a<n;a++){var s=i+e;r.push([i,s]),i=s}return r}(c,h,Math.round((c[1]-c[0])/h))}else"EqualInterval"===r?i=o.getClassEqInterval(a):"StandardDeviation"===r?i=o.getClassStdDeviation(a):"ArithmeticProgression"===r?i=o.getClassArithmeticProgression(a):"GeometricProgression"===r?i=o.getClassGeometricProgression(a):"Quantile"===r?i=o.getClassQuantile(a):"Jenks"===r?i=o.getClassJenks(a):"Manual"===r&&(i=e.manualClasses);return function(t,e,n){for(var r={lowerBound:[],upperBound:[]},i=0;i<n.length;i++)r.lowerBound.push(n[i][0]),r.upperBound.push(n[i][1]);for(var a=0,s=Array(n.length),o=vf(t),h=function(){var r=t[e][a],i=n.findIndex(function(t){return r>=t[0]&&r<=t[1]}),o=s[i];for(var h in o||(o={}),t)o[h]?o[h].push(t[h][a]):o[h]=[t[h][a]];s[i]=o,a++};a<o;)h();return r.grouped=s,r}(t,n,i=function(t){for(var e=t.length,n=[],r=0;r<e-1;r++)n.push([t[r],t[r+1]]);return n}(i))},dropNA:function(t,e){var n;if(null===e)n=function(t){var e=!0;for(var n in t)if(Gh(t[n])){e=!1;break}return e};else if(e.constructor===String)Vf(t,[e]),n=function(t){return!Gh(t[e])};else{if(e.constructor!==Array)throw new Error("dropNA requires a null value, a string or an array of strings");Vf(t,e),n=function(t){var n=!0,r=!0,i=!1,a=void 0;try{for(var s,o=Fr(e);!(r=(s=o.next()).done);r=!0)if(Gh(t[s.value])){n=!1;break}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}return yf(t,n)},reproject:function(t,e){if(!t.hasOwnProperty("geometry"))return console.warn("No geometry column found. Skipping reproject-transformation."),t;if(!e.hasOwnProperty("to"))return console.warn("reproject: missing required option 'to'"),t;var n="WGS84";e.hasOwnProperty("from")&&(n=e.from);var r=Kl(n,e.to).forward,i=function(t,e){return t.map(function(t){return Xu(t,e)})}(t.geometry,r);return t.geometry=i,t}};function Yp(t,e){if(e.constructor!==Object)throw new Error("Transformation(s) must be specified as objects");var n=Af(e,Nc(Wp));return Wp[n](t,e[n])}function Hp(t,e){var n=pf(t);if(e.constructor===Array){var r=!0,i=!1,a=void 0;try{for(var s,o=Fr(e);!(r=(s=o.next()).done);r=!0){n=Yp(n,s.value)}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}return e.constructor===Object&&(n=Yp(n,e)),n}var Xp=function(t,e){e=e||21;for(var n="";0<e--;)n+=t[Math.random()*t.length|0];return n},Qp="23456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstwxyz";function Jp(){return Xp(Qp,8)}var Zp={mixins:[Yh,{props:{data:{type:[Array,Object,void 0],default:void 0},format:{type:[String,void 0],default:void 0},transform:{type:[Array,Object,void 0],default:void 0}},data:function(){return{randomID:Jp(),containers:{}}},computed:{dataContainer:function(){if(this.data){var t=new cf(this.data,this.format);if(this.transform){var e=Hp(t.getDataset(),this.transform);return Cc(new cf(e))}return Cc(t)}},dataScopeID:function(){var t;if(this.$attrs.id)t=this.$attrs.id;else if(this.$vnode.data.staticClass){t=this.$vnode.data.staticClass.replace(/\s+/g,"_")+"_"+this.randomID}else t="_"+this.randomID;return t}},created:function(){this.register(this.dataScopeID,this.dataContainer)},watch:{dataScopeID:function(t,e){this.rename(t,e)},dataContainer:function(t,e){this.update(this.dataScopeID,this.dataContainer)}},methods:{register:function(t,e){if(this.hasContainer(t))throw new Error("Duplicate data ID");e&&this.$set(this.containers,t,e)},hasContainer:function(t){return this.containers.hasOwnProperty(t)},getContainer:function(t){return this.containers[t]},rename:function(t,e){t!==e&&(this.$set(this.containers,t,this.containers[e]),this.$delete(this.containers,this.oldID))},update:function(t,e){this.$set(this.containers,t,e)},remove:function(t){this.$delete(this.containers,t)},createInterface:function(t){var e=new df(this);return e.setScope(t),e}},provide:function(){return{$$dataManager:this,$$dataScope:this.dataScopeID}}},{data:function(){return{scales:{}}},methods:{getScale:function(t){var e=t.split("#")[1];if(this.scales.hasOwnProperty(e))return this.scales[e];throw new Error("Unknown scale '".concat(e,"'"))},storeScale:function(t,e){this.$set(this.scales,t,e)},deleteScale:function(t){this.$delete(this.scales,t)}},provide:function(){return{$$scaleManager:this}}}]},Kp=Zp;Zp.__file="Graphic.vue";var tv=Jh({render:function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("svg",{staticClass:"graphic",attrs:{width:this.width,height:this.height}},[this._t("default")],2):this._e()},staticRenderFns:[]},void 0,Kp,void 0,!1,void 0,void 0,void 0),ev={inject:["$$dataManager","$$dataScope"],computed:{$$dataInterface:function(){return this.$$dataManager.createInterface(this.$$dataScope)}}},nv={inject:["$$scaleManager"]},rv={f:pr},iv=rv.f("iterator"),av=En.f,sv=function(t){var e=dn.Symbol||(dn.Symbol={});"_"==t.charAt(0)||t in e||av(e,t,{value:rv.f(t)})},ov={f:Object.getOwnPropertySymbols},hv=ar.concat("length","prototype"),cv={f:Object.getOwnPropertyNames||function(t){return ir(t,hv)}},uv=cv.f,fv={}.toString,lv="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],dv={f:function(t){return lv&&"[object Window]"==fv.call(t)?function(t){try{return uv(t)}catch(t){return lv.slice()}}(t):uv(Gn(t))}},pv=Object.getOwnPropertyDescriptor,vv={f:bn?pv:function(t,e){if(t=Gn(t),e=wn(e,!0),xn)try{return pv(t,e)}catch(t){}if(On(t,e))return Pn(!Ih.f.call(t,e),t[e])}},yv=Sc.KEY,gv=vv.f,bv=En.f,mv=dv.f,Mv=ln.Symbol,_v=ln.JSON,xv=_v&&_v.stringify,wv=pr("_hidden"),Sv=pr("toPrimitive"),Ev={}.propertyIsEnumerable,Pv=Qn("symbol-registry"),Cv=Qn("symbols"),Av=Qn("op-symbols"),Ov=Object.prototype,kv="function"==typeof Mv,Nv=ln.QObject,Tv=!Nv||!Nv.prototype||!Nv.prototype.findChild,jv=bn&&gn(function(){return 7!=dr(bv({},"a",{get:function(){return bv(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=gv(Ov,e);r&&delete Ov[e],bv(t,e,n),r&&t!==Ov&&bv(Ov,e,r)}:bv,Iv=function(t){var e=Cv[t]=dr(Mv.prototype);return e._k=t,e},Dv=kv&&"symbol"==typeof Mv.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Mv},Lv=function(t,e,n){return t===Ov&&Lv(Av,e,n),yn(t),e=wn(e,!0),yn(n),On(Cv,e)?(n.enumerable?(On(t,wv)&&t[wv][e]&&(t[wv][e]=!1),n=dr(n,{enumerable:Pn(0,!1)})):(On(t,wv)||bv(t,wv,Pn(1,{})),t[wv][e]=!0),jv(t,e,n)):bv(t,e,n)},Rv=function(t,e){yn(t);for(var n,r=function(t){var e=sr(t),n=ov.f;if(n)for(var r,i=n(t),a=Ih.f,s=0;i.length>s;)a.call(t,r=i[s++])&&e.push(r);return e}(e=Gn(e)),i=0,a=r.length;a>i;)Lv(t,n=r[i++],e[n]);return t},qv=function(t){var e=Ev.call(this,t=wn(t,!0));return!(this===Ov&&On(Cv,t)&&!On(Av,t))&&(!(e||!On(this,t)||!On(Cv,t)||On(this,wv)&&this[wv][t])||e)},Fv=function(t,e){if(t=Gn(t),e=wn(e,!0),t!==Ov||!On(Cv,e)||On(Av,e)){var n=gv(t,e);return!n||!On(Cv,e)||On(t,wv)&&t[wv][e]||(n.enumerable=!0),n}},$v=function(t){for(var e,n=mv(Gn(t)),r=[],i=0;n.length>i;)On(Cv,e=n[i++])||e==wv||e==yv||r.push(e);return r},Gv=function(t){for(var e,n=t===Ov,r=mv(n?Av:Gn(t)),i=[],a=0;r.length>a;)!On(Cv,e=r[a++])||n&&!On(Ov,e)||i.push(Cv[e]);return i};kv||(Bn((Mv=function(){if(this instanceof Mv)throw TypeError("Symbol is not a constructor!");var t=Kn(arguments.length>0?arguments[0]:void 0),e=function(n){this===Ov&&e.call(Av,n),On(this,wv)&&On(this[wv],t)&&(this[wv][t]=!1),jv(this,t,Pn(1,n))};return bn&&Tv&&jv(Ov,t,{configurable:!0,set:e}),Iv(t)}).prototype,"toString",function(){return this._k}),vv.f=Fv,En.f=Lv,cv.f=dv.f=$v,Ih.f=qv,ov.f=Gv,rv.f=function(t){return Iv(pr(t))}),Nn(Nn.G+Nn.W+Nn.F*!kv,{Symbol:Mv});for(var Bv="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Uv=0;Bv.length>Uv;)pr(Bv[Uv++]);for(var zv=sr(pr.store),Vv=0;zv.length>Vv;)sv(zv[Vv++]);Nn(Nn.S+Nn.F*!kv,"Symbol",{for:function(t){return On(Pv,t+="")?Pv[t]:Pv[t]=Mv(t)},keyFor:function(t){if(!Dv(t))throw TypeError(t+" is not a symbol!");for(var e in Pv)if(Pv[e]===t)return e},useSetter:function(){Tv=!0},useSimple:function(){Tv=!1}}),Nn(Nn.S+Nn.F*!kv,"Object",{create:function(t,e){return void 0===e?dr(t):Rv(dr(t),e)},defineProperty:Lv,defineProperties:Rv,getOwnPropertyDescriptor:Fv,getOwnPropertyNames:$v,getOwnPropertySymbols:Gv}),_v&&Nn(Nn.S+Nn.F*(!kv||gn(function(){var t=Mv();return"[null]"!=xv([t])||"{}"!=xv({a:t})||"{}"!=xv(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(vn(e)||void 0!==t)&&!Dv(t))return In(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Dv(e))return e}),r[1]=e,xv.apply(_v,r)}}),Mv.prototype[Sv]||Cn(Mv.prototype,Sv,Mv.prototype.valueOf),gr(Mv,"Symbol"),gr(Math,"Math",!0),gr(ln.JSON,"JSON",!0),sv("asyncIterator"),sv("observable");var Wv=dn.Symbol;function Yv(t){return(Yv="function"==typeof Wv&&"symbol"==typeof iv?function(t){return typeof t}:function(t){return t&&"function"==typeof Wv&&t.constructor===Wv&&t!==Wv.prototype?"symbol":typeof t})(t)}function Hv(t){return(Hv="function"==typeof Wv&&"symbol"===Yv(iv)?function(t){return Yv(t)}:function(t){return t&&"function"==typeof Wv&&t.constructor===Wv&&t!==Wv.prototype?"symbol":Yv(t)})(t)}function Xv(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Qv(t){return Ta(t[t.length-1])}Xv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Xv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Xv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Xv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Xv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Xv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Xv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Xv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Xv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Jv=Qv(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Xv)),Zv=Qv(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Xv)),Kv=Qv(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Xv)),ty=Qv(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Xv)),ey=Qv(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Xv)),ny=Qv(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Xv)),ry=Qv(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Xv)),iy=Qv(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Xv)),ay=Qv(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Xv));Qv(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Xv)),Qv(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Xv)),Qv(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Xv)),Qv(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Xv)),Qv(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Xv)),Qv(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Xv)),Qv(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Xv)),Qv(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Xv)),Qv(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Xv)),Qv(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Xv)),Qv(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Xv)),Qv(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Xv));var sy=Qv(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Xv)),oy=Qv(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Xv)),hy=Qv(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Xv)),cy=Qv(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Xv)),uy=Qv(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Xv)),fy=Qv(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Xv)),ly=Fa(Sa(300,.5,0),Sa(-240,.5,1)),dy=Fa(Sa(-100,.75,.35),Sa(80,1.5,.8)),py=Fa(Sa(260,.75,.35),Sa(80,1.5,.8)),vy=Sa();function yy(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return vy.h=360*t-100,vy.s=1.5-1.5*e,vy.l=.8-.9*e,vy+""}var gy=Hi(),by=Math.PI/3,my=2*Math.PI/3;function My(t){var e;return t=(.5-t)*Math.PI,gy.r=255*(e=Math.sin(t))*e,gy.g=255*(e=Math.sin(t+by))*e,gy.b=255*(e=Math.sin(t+my))*e,gy+""}function _y(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var xy=_y(Xv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),wy=_y(Xv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Sy=_y(Xv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ey=_y(Xv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Py={brownBlue:function(t,e){return Cy(Jv,t,e)},purpleGreen:function(t,e){return Cy(Zv,t,e)},pinkGreen:function(t,e){return Cy(Kv,t,e)},purpleOrange:function(t,e){return Cy(ty,t,e)},redBlue:function(t,e){return Cy(ey,t,e)},redGray:function(t,e){return Cy(ny,t,e)},redYellowBlue:function(t,e){return Cy(ry,t,e)},redYellowGreen:function(t,e){return Cy(iy,t,e)},spectral:function(t,e){return Cy(ay,t,e)},blues:function(t,e){return Cy(sy,t,e)},greens:function(t,e){return Cy(oy,t,e)},greys:function(t,e){return Cy(hy,t,e)},oranges:function(t,e){return Cy(fy,t,e)},purples:function(t,e){return Cy(cy,t,e)},reds:function(t,e){return Cy(uy,t,e)},viridis:function(t,e){return Cy(xy,t,e)},inferno:function(t,e){return Cy(Sy,t,e)},magma:function(t,e){return Cy(wy,t,e)},plasma:function(t,e){return Cy(Ey,t,e)},warm:function(t,e){return Cy(dy,t,e)},cool:function(t,e){return Cy(py,t,e)},cubehelixDefault:function(t,e){return Cy(ly,t,e)},rainbow:function(t,e){return Cy(yy,t,e)},sinebow:function(t,e){return Cy(My,t,e)}};function Cy(t,e,n){if(n){if(n.constructor!==Number)throw new Error("domainMid must be Number");var r=[e[0],n,e[1]];return function t(e){var n=0,r=.5,i=1,a=1,s=1,o=!1;function h(t){var n=.5+((t=+t)-r)*(t<r?a:s);return e(o?Math.max(0,Math.min(1,n)):n)}return h.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],i=+t[2],a=n===r?0:.5/(r-n),s=r===i?0:.5/(i-r),h):[n,r,i]},h.clamp=function(t){return arguments.length?(o=!!t,h):o},h.interpolator=function(t){return arguments.length?(e=t,h):e},h.copy=function(){return t(e).domain([n,r,i]).clamp(o)},cs(h)}(t).domain(r)}return function t(e){var n=0,r=1,i=1,a=!1;function s(t){var r=(t-n)*i;return e(a?Math.max(0,Math.min(1,r)):r)}return s.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],i=n===r?0:1/(r-n),s):[n,r]},s.clamp=function(t){return arguments.length?(a=!!t,s):a},s.interpolator=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return t(e).domain([n,r]).clamp(a)},cs(s)}(t).domain(e)}var Ay={colors:function(t,e){return function t(e){var n=xi(),r=[],i=Ai;function a(t){var a=t+"",s=n.get(a);if(!s){if(i!==Ai)return i;n.set(a,s=r.push(t))}return e[(s-1)%e.length]}return e=null==e?[]:Ci.call(e),a.domain=function(t){if(!arguments.length)return r.slice();r=[],n=xi();for(var e,i,s=-1,o=t.length;++s<o;)n.has(i=(e=t[s])+"")||n.set(i,r.push(e));return a},a.range=function(t){return arguments.length?(e=Ci.call(t),a):e.slice()},a.unknown=function(t){return arguments.length?(i=t,a):i},a.copy=function(){return t().domain(r).range(e).unknown(i)},a}().domain(t).range(e)}};var Oy={linear:function(t){return us().domain(t).range([0,1])}};var ky={};function Ny(t){return["x","x1","x2","w"].includes(t)?"x":["y","y1","y2","h"].includes(t)?"y":void 0}function Ty(t,e,n){var r,i,a=$r(Uh(n,e.dataInterface,e.scaleManager),3),s=a[0],o=a[1],h=a[2];if(["x1","x2","y1","y2","x","y","w","h"].includes(t)){var c=Ny(t),u=e.ranges[c];return kh(t,o,s,u=Vh(u,h),h)}return["stroke","fill"].includes(t)?function(t,e,n,r){if("quantitative"===e){var i=r.type||"blues";ci(t,e,i,Py);var a=Py[i](n,r.domainMid);if(r.absolute)return function(t){return a(Math.abs(t))};if(!r.absolute)return a}if("categorical"===e){var s=r.type||"colors";return ci(t,e,s,Ay),Ay[s](n,r.range)}}(t,o,s,h):["opacity","strokeOpacity","fillOpacity"].includes(t)?function(t,e,n,r){if("quantitative"===e){var i=r.type||"linear";ci(t,e,i,Oy);var a=Oy[i](n);if(r.absolute)return function(t){return a(Math.abs(t))};if(!r.absolute)return a}}(t,o,s,h):["width","height","fontSize","strokeWidth","size"].includes(t)?(h.range?r=h.range:(console.warn("No range specified for prop ".concat(t,". Defaulting to [0, 10]")),r=[0,10]),kh(t,o,s,r,h)):"radius"===t?(h.range?i=h.range:(console.warn("No range specified for prop ".concat(t,". Defaulting to [0, 8]")),i=[0,8]),function(t,e,n,r,i){if("quantitative"===e){var a=i.type||"squareRoot";ci(t,e,a,yh);var s=yh[a](n,r);if(i.absolute)return function(t){return s(Math.abs(t))};if(!i.absolute)return s}if("categorical"===e){var o=i.type||"equidistant";return ci(t,e,o,ky),ky[o](n,r)}}(t,o,s,i,h)):void 0}function jy(t,e,n){if(!["w","h"].includes(t))throw new Error("'band' is only allowed on 'w' and 'h' props, not '".concat(t,"'"));var r=$r(Uh(n,e.dataInterface,e.scaleManager),3),i=r[0],a=r[1],s=r[2];if("categorical"!==a)throw new Error("Domain ".concat(fi(i)," has invalid type ").concat(a));var o=Ny(t),h=e.ranges[o],c=(h=Vh(h,s))[1]-h[0],u=s.padding||0,f=c/i.length;return f-=2*u}function Iy(t){for(var e=[],n=0;n<t.length;n++)e.push({scales:{},geoScales:{},bands:{}});return e}function Dy(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(void 0!==i.tag){var a=i.componentOptions.propsData;for(var s in a){var o=a[s];if(o.constructor===Object&&!Ry(o)){if($y(o),o.hasOwnProperty("scale")){var h=o.scale,c=fi(h);if(t[r].scales[s]=t[r].scales[s]||{},!t[r].scales[s].hasOwnProperty(c)){var u=Ty(s,n,h);t[r].scales[s][c]=u}}if(o.hasOwnProperty("scaleGeo")){var f=o.scaleGeo,l=fi(f);t[r].geoScales[s]=t[r].geoScales[s]||{},t[r].geoScales[s].hasOwnProperty(l)||function(){var e=Nh(n),i=e.scaleX,a=e.scaleY;t[r].geoScales[s][l]=function(t){var e=$r(t,2),n=e[0],r=e[1];return[i(n),a(r)]}}()}if(o.hasOwnProperty("band")){var d=o.band,p=fi(d);if(t[r].bands[s]=t[r].bands[s]||{},!t[r].bands[s].hasOwnProperty(p)){var v=jy(s,n,d);t[r].bands[s][p]=v}}}}}}return t}function Ly(t,e,n){for(var r=[],i=0;i<t.length;i++){var a=t[i],s=e[i];if(void 0!==a.tag){var o=a.componentOptions.propsData,h=a.componentOptions.tag,c={};for(var u in o){var f=o[u];if(f.constructor!==Object||Ry(f))c[u]=f;else{var l=void 0;if(f.hasOwnProperty("val")){if(l=f.val,f.hasOwnProperty("scale")){var d=fi(f.scale);l=qy(l,s.scales[u][d])}if(f.hasOwnProperty("scaleGeo")){var p=fi(f.scaleGeo);l=qy(l,s.geoScales[u][p])}}if(f.hasOwnProperty("band")){var v=fi(f.band);l=s.bands[u][v]}c[u]=l}}(c=Fy(c,o))?(a.componentOptions.propsData=c,r.push(a)):console.warn("Skipping Mark '".concat(h,"', row ").concat(n+1," because of unhandled NA values."))}else r.push(void 0)}return r}function Ry(t){return t.hasOwnProperty("type")&&t.hasOwnProperty("coordinates")}function qy(t,e){if(!Gh(t))if(t.constructor===Array){if(t[0].constructor,Array,t[0].constructor!==Array)return t.map(function(t){return e(t)})}else{if(t.constructor!==Object)return e(t);if(Ry(t))return Xu(t,e)}}function Fy(t,e){var n=function(n){var r=t[n],i=void 0;if(e[n]&&e[n].constructor===Object&&(i=e[n].NA),Gh(r)&&Gh(i))return{v:void 0};Gh(i)?t[n]=r:Gh(r)?t[n]=i:r.constructor===Array?t[n]=r.map(function(t){return Gh(t)?i:t}):t[n]=r};for(var r in t){var i=n(r);if("object"===Hv(i))return i.v}return t}function $y(t){if(!t.hasOwnProperty("val")&&!t.hasOwnProperty("band"))throw new Error("Missing required mapping object keys 'val' or 'band'");if(t.hasOwnProperty("band")&&["val","scale","scaleGeo"].some(function(e){return t.hasOwnProperty(e)}))throw new Error("Cannot combine 'band' with other mapping options");if(t.hasOwnProperty("val")){if(["scale","scaleGeo"].every(function(e){return t.hasOwnProperty(e)}))throw new Error("Cannot combine 'scale' and 'scaleGeo'")}else if(t.hasOwnProperty("NA"))throw new Error("Can only use 'NA' in combination with 'val'")}var Gy={mixins:[ev,Gr,nv],props:{unit:{type:String,default:"row",validator:function(t){return["row","dataframe"].includes(t)}}},computed:{context:function(){return{ranges:this.parentBranch.domains,parentBranch:this.parentBranch,dataInterface:this.$$dataInterface,scaleManager:this.$$scaleManager}}},methods:{mapRows:function(){var t=this,e=null,n=this.context,r=[];return this.$$dataInterface.forEachRow(function(i){var a=t.$scopedSlots.default(i);null===e&&(e=Iy(a));var s=Ly(a,e=Dy(e,a,n),i.i);r.push.apply(r,ei(s))}),r},mapDataframe:function(){var t=this.context,e={dataframe:this.$$dataInterface.getDataset()},n=this.$scopedSlots.default(e),r=Iy(n);return Ly(n,r=Dy(r,n,t),0)}},render:function(t){var e;return"row"===this.unit&&(e=this.mapRows()),"dataframe"===this.unit&&(e=this.mapDataframe()),t("g",{class:"map"},e)}},By=Gy;Gy.__file="Map.vue";var Uy=Jh({},void 0,By,void 0,void 0,void 0,void 0,void 0),zy={mixins:[ev],inject:["$$dataManager"],props:{data:{type:[Array,Object,void 0],default:void 0},format:{type:[String,void 0],default:void 0},transform:{type:[Array,Object,void 0],default:void 0}},data:function(){return{randomID:Jp()}},computed:{dataContainer:function(){if(this.data){var t=new cf(this.data,this.format);if(this.transform){var e=Hp(t.getDataset(),this.transform);return new cf(e)}return t}if(!this.data&&this.transform){var n=Hp(this.$$dataInterface.getDataset(),this.transform);return new cf(n)}},dataScopeID:function(){var t;if(this.$attrs.id)t=this.$attrs.id;else if(this.$vnode.data.staticClass){t=this.$vnode.data.staticClass.replace(/\s+/g,"_")+"_"+this.randomID}else t="_"+this.randomID;return t}},beforeDestroy:function(){this.$$dataManager.remove(this.dataScopeID)},created:function(){this.$$dataManager.register(this.dataScopeID,this.dataContainer)},watch:{dataScopeID:function(t,e){this.$$dataManager.rename(t,e)},dataContainer:function(){this.$$dataManager.update(this.dataScopeID,this.dataContainer)}},provide:function(){if(this.dataContainer)return{$$dataScope:this.dataScopeID}}},Vy={mixins:[Vr],props:{x1:{type:[Number,String,Date,void 0],default:void 0},x2:{type:[Number,String,Date,void 0],default:void 0},y1:{type:[Number,String,Date,void 0],default:void 0},y2:{type:[Number,String,Date,void 0],default:void 0},x:{type:[Number,String,Date,void 0],default:void 0},y:{type:[Number,String,Date,void 0],default:void 0},w:{type:[Number,void 0],default:void 0},h:{type:[Number,void 0],default:void 0},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:2},fill:{type:String,default:"#000000"},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0}},computed:{invalidX:function(){return Wy(this.x1,this.x2,this.x,this.w)},invalidY:function(){return Wy(this.y1,this.y2,this.y,this.h)},coordinateSpecification:function(){var t=this._props,e=$r(Yy(t.x1,t.x2,t.x,t.w,this.parentBranch,"x"),2),n=e[0],r=e[1],i=$r(Yy(t.y1,t.y2,t.y,t.h,this.parentBranch,"y"),2);return{x1:n,x2:r,y1:i[0],y2:i[1]}}}};function Wy(t,e,n,r){return![$h(n)&&$h(r),Fh(t)&&$h(e)&&$h(n)&&Fh(r),$h(t)&&Fh(e)&&$h(n)&&Fh(r),$h(t)&&$h(e)&&Fh(n)&&Fh(r)].some(function(t){return!0===t})}function Yy(t,e,n,r,i,a){var s;if(s="quantitative"===i.domainTypes[a]?function(t){return t}:i["x"===a?"getX":"getY"],$h(n)&&$h(r))return[t,e].map(s);if(Fh(t)&&$h(e)&&$h(n)&&Fh(r)){var o=s(t);return[o,o+r]}if($h(t)&&Fh(e)&&$h(n)&&Fh(r)){var h=s(e);return[h-r,h]}if($h(t)&&$h(e)&&Fh(n)&&Fh(r)){var c=s(n);return[c-r/2,c+r/2]}}var Hy={mixins:[Gr,zy,ev,nv,Vy],props:{type:{type:String,default:"scale"},scaleX:{type:[Object,String,Array,void 0],default:void 0},scaleY:{type:[Object,String,Array,void 0],default:void 0},scaleGeo:{type:[Object,void 0],default:void 0},data:{type:[Array,Object,void 0],default:void 0},format:{type:[String,void 0],default:void 0},transform:{type:[Array,Object,void 0],default:void 0}},data:function(){return{ready:!1}},computed:{ranges:function(){var t=this.coordinateSpecification;return{x:[t.x1,t.x2],y:[t.y1,t.y2]}},scales:function(){if(this.scaleX||this.scaleY||this.scaleGeo){var t={};this.scaleX&&(t.x=this.scaleX),this.scaleY&&(t.y=this.scaleY),this.scaleGeo&&(t.geo=this.scaleGeo);var e=t.hasOwnProperty("x"),n=t.hasOwnProperty("y");if(t.hasOwnProperty("geo")){if(e||n)throw new Error("Cannot set 'scale-x' or 'scale-y' when 'scale-geo' is defined");if(!this.$$dataInterface.hasColumn("geometry"))throw new Error("'scale-geo' is only allowed when data has geometry column");return t}return e||(t.x=this.ranges.x),n||(t.y=this.ranges.y),t}return this.ranges},allowScales:function(){if(this.scales&&this.scales.geo)return this.$$dataInterface.ready();var t=this.checkAllowedObj(this.scales.x),e=this.checkAllowedObj(this.scales.y);return!!this.$$dataInterface.ready()||!(!t||!e)},transformation:function(){var t=new Wh({type:this.type,scales:this.scales,ranges:this.ranges,dataInterface:this.$$dataInterface,scaleManager:this.$$scaleManager});return t},coordinateTreeBranchID:function(){var t,e=this.$parent.$vnode.data;if(e.attrs&&e.attrs.id)t=e.attrs.id+"_"+this.randomID;else if(e.staticClass){t=e.staticClass.replace(/\s+/g,"_")+"_"+this.randomID}else t="_"+Jp();return t}},watch:{transformation:"updateCoordinateTreeBranch"},beforeDestroy:function(){this.$$coordinateTree.removeBranch(this.coordinateTreeBranchID)},mounted:function(){this.setCoordinateTreeBranch(),this.ready=!0},methods:{setCoordinateTreeBranch:function(){this.$$coordinateTree.addBranch(this.coordinateTreeBranchID,this.$$coordinateTreeParent,this.transformation)},updateCoordinateTreeBranch:function(){this.$$coordinateTree.updateBranch(this.coordinateTreeBranchID,this.transformation)},checkAllowedObj:function(t){return t.constructor===Object?t.hasOwnProperty("domain"):t.constructor===Array},same:function(t,e){return fi(t)===fi(e)}},provide:function(){return{$$transform:this.$$coordinateTree.getTotalTransformation(this.coordinateTreeBranchID),$$coordinateTreeParent:this.coordinateTreeBranchID,$$map:!1}}},Xy=Hy;Hy.__file="Section.vue";var Qy=Jh({render:function(){var t=this.$createElement,e=this._self._c||t;return this.ready&&this.allowScales?e("g",{staticClass:"section"},[this._t("default")],2):this._e()},staticRenderFns:[]},void 0,Xy,void 0,!1,void 0,void 0,void 0),Jy={mixins:[zy]},Zy=Jy;Jy.__file="Data.vue";var Ky=Jh({render:function(){var t=this.$createElement;return(this._self._c||t)("g",{staticClass:"transform"},[this._t("default")],2)},staticRenderFns:[]},void 0,Zy,void 0,!1,void 0,void 0,void 0),tg={mixins:[{mixins:[ev],inject:["$$scaleManager"],props:{scales:{type:Object,required:!0}},watch:{scales:{handler:function(t,e){var n=this.difference(t,e),r=!0,i=!1,a=void 0;try{for(var s,o=Fr(n);!(r=(s=o.next()).done);r=!0){var h=s.value,c=Uh(this.scales[h],this.$$dataInterface,this.$$scaleManager);this.$$scaleManager.storeScale(name,c)}}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}var u=this.difference(e,t),f=!0,l=!1,d=void 0;try{for(var p,v=Fr(u);!(f=(p=v.next()).done);f=!0){var y=p.value;this.$$scaleManager.deleteScale(y)}}catch(t){l=!0,d=t}finally{try{f||null==v.return||v.return()}finally{if(l)throw d}}},deep:!0}},created:function(){for(var t in this.scales){var e=Uh(this.scales[t],this.$$dataInterface,this.$$scaleManager);this.$$scaleManager.storeScale(t,e)}},methods:{difference:function(t,e){var n=Nc(e);return Nc(t).filter(function(t){return!n.includes(t)})}}}]},eg=tg;tg.__file="Scales.vue";var ng=Jh({render:function(){var t=this.$createElement;return(this._self._c||t)("g")},staticRenderFns:[]},void 0,eg,void 0,!1,void 0,void 0,void 0),rg={name:"PlotTitle",mixins:[Gr],inject:["$$transform"],props:{text:{type:String,default:"Plot Title"},hjust:{type:[Number,String],default:"center",validator:function(t){return t.constructor===Number||["center","l","r"].includes(t)}},vjust:{type:[Number,String],default:"t",validator:function(t){return t.constructor===Number||["center","t","b"].includes(t)}},vMargin:{type:Number,default:50},hMargin:{type:Number,default:0},color:{type:String,default:"black"},fontSize:{type:Number,default:16},fontFamily:{type:String,default:"Helvetica"},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb","l","r","t","b"].includes(t)}}},computed:{posX:function(){var t=this.parentBranch.domains.x,e=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return this.hjust.constructor===Number?(n-e)*this.vjust:"center"===this.hjust?(n-e)/2+t[0]:"l"===this.hjust?e:n},posY:function(){var t=this.parentBranch.domains.y,e=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return this.vjust.constructor===Number?(n-e)*this.hjust:"center"===this.vjust?(n-e)/2+e:"t"===this.vjust?n:e},screenCoords:function(){var t=$r(this.$$transform([this.posX,this.posY]),2),e=t[0],n=t[1];return"l"===this.hjust?e+=this.hMargin:"r"===this.hjust&&(e-=this.hMargin),"t"===this.vjust?n+=this.vMargin:"b"===this.vjust&&(n-=this.vMargin),[e,n]}},methods:{renderSVG:function(t){var e=$r(this.screenCoords,2),n=e[0],r=e[1],i=this.color,a=this.fontFamily,s=this.fontSize,o=this.text,h=Xh(this.anchorPoint);return t("text",{attrs:{x:n,y:r,fill:i,"text-anchor":h.textAnchor,"dominant-baseline":h.dominantBaseline},style:{"font-size":s+"px","font-family":a}},o)}},render:function(t){return this.renderSVG(t)}},ig=rg;rg.__file="PlotTitle.vue";var ag=Jh({},void 0,ig,void 0,void 0,void 0,void 0,void 0),sg={props:{x:{type:[Number,Object],required:!0},y:{type:[Number,Object],required:!0},radius:{type:[Number,Object],required:!0},transformation:{type:String,default:"polar"},anchorPoint:{type:String,default:"center"}},computed:{wh:function(){return 2*this.radius},rectangles:function(){return[{x1:0,x2:15,y1:0,y2:100,color:"green"},{x1:15,x2:50,y1:0,y2:100,color:"red"},{x1:50,x2:75,y1:0,y2:100,color:"yellow"},{x1:75,x2:100,y1:0,y2:100,color:"blue"}]}}},og=sg;sg.__file="Piechart.vue";var hg=Jh({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vgg-glyph",{attrs:{x:t.x,y:t.y,width:t.wh,height:t.wh,"anchor-point":t.anchorPoint}},[n("vgg-section",{attrs:{type:t.transformation,x1:0,x2:t.wh,y1:0,y2:t.wh,"scale-x":[0,100],"scale-y":[0,100]}},t._l(t.rectangles,function(t,e){return n("vgg-rectangle",{key:e,attrs:{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,fill:t.color}})}),1)],1)},staticRenderFns:[]},void 0,og,void 0,!1,void 0,void 0,void 0);function cg(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}!function(t){var e;1===t.length&&(e=t,t=function(t,n){return cg(e(t),n)})}(cg);var ug=Math.sqrt(50),fg=Math.sqrt(10),dg=Math.sqrt(2);function pg(t,e,n){var r,i,a,s,o=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=function(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ug?10:a>=fg?5:a>=dg?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ug?10:a>=fg?5:a>=dg?2:1)}(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(i=Math.ceil(e-t+1));++o<i;)a[o]=(t+o)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(i=Math.ceil(t-e+1));++o<i;)a[o]=(t-o)/s;return r&&a.reverse(),a}var vg={mixins:[Vy,ev],props:{scale:{type:[Array,String,Object,void 0],default:void 0},tickValues:{type:[Array,void 0],default:void 0},tickCount:{type:Number,default:10},rotateLabel:{type:Boolean,default:!1},format:{type:[String,Function,void 0],default:void 0},flip:{type:Boolean,default:!1}},computed:{_parsedScalingOptions:function(){return Uh(this.scale,this.$$dataInterface,this.$$scaleManager)},_domain:function(){return this._parsedScalingOptions[0]},_domainType:function(){return this._parsedScalingOptions[1]},_scalingOptions:function(){return this._parsedScalingOptions[2]},ranges:function(){return this.coordinateSpecification},tickData:function(){if(this.tickValues)return this.tickValues.map(function(t){return{value:t}});var t,e=this.format&&this.format.constructor===Function?this.format:function(t){return t};return"quantitative"===this._domainType&&(t=pg.apply(void 0,ei(this._domain).concat([this.tickCount])).map(function(t){return{value:t,label:e(t)}})),"categorical"===this._domainType&&(t=this._domain.map(function(t){return{value:t,label:e(t)}})),"temporal"===this._domainType&&(this.format?this.format.constructor===String&&(e=Ws(this.format)):e=Ws("%d/%m/%Y"),t=vh().domain(this._domain).ticks(this.tickCount).map(function(t){var n=new Date(t);return{value:n,label:e(n)}})),t}}},yg={mixins:[vg]},gg=yg;yg.__file="XAxis.vue";var bg=Jh({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vgg-section",{staticClass:"x-axis",attrs:{x1:t.ranges.x1,x2:t.ranges.x2,y1:t.ranges.y1,y2:t.ranges.y2,"scale-x":[0,1],"scale-y":[0,1]}},[n("vgg-line",{staticClass:"x-axis-line",attrs:{x1:0,y1:.5,x2:1,y2:.5,"stroke-width":1}}),n("vgg-section",{staticClass:"x-axis-ticks",attrs:{x1:0,x2:1,y1:0,y2:1,"scale-x":t.scale}},[n("vgg-data",{staticClass:"x-axis-data",attrs:{data:t.tickData}},[n("vgg-map",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("vgg-line",{attrs:{x1:r.value,y1:.5,x2:r.value,y2:t.flip?.35:.65,"stroke-width":.5}}),t.rotateLabel?t._e():n("vgg-label",{attrs:{x:r.value,y:t.flip?.59:.45,text:r.label,"font-size":10,"anchor-point":t.flip?"b":"t"}}),t.rotateLabel?n("vgg-label",{attrs:{x:r.value,y:t.flip?.59:.45,text:r.label,"font-size":10,rotation:t.flip?30:-30,"anchor-point":t.flip?"rb":"rt"}}):t._e()]}}])})],1)],1)],1)},staticRenderFns:[]},void 0,gg,void 0,!1,void 0,void 0,void 0),mg={mixins:[vg]},Mg=mg;mg.__file="YAxis.vue";var _g=Jh({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vgg-section",{staticClass:"y-axis",attrs:{x1:t.ranges.x1,x2:t.ranges.x2,y1:t.ranges.y1,y2:t.ranges.y2,"scale-x":[0,1],"scale-y":[0,1]}},[n("vgg-line",{staticClass:"y-axis-line",attrs:{x1:.5,y1:0,x2:.5,y2:1,"stroke-width":1}}),void 0!==t.scale?n("vgg-section",{staticClass:"y-axis-ticks",attrs:{x1:0,x2:1,y1:0,y2:1,"scale-y":t.scale}},[n("vgg-data",{staticClass:"y-axis-data",attrs:{data:t.tickData}},[n("vgg-map",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("vgg-line",{attrs:{x1:.5,y1:r.value,x2:t.flip?.65:.35,y2:r.value,"stroke-width":.5}}),t.rotateLabel?t._e():n("vgg-label",{attrs:{x:t.flip?.45:.59,y:r.value,text:r.label,"font-size":10,"anchor-point":t.flip?"r":"l"}}),t.rotateLabel?n("vgg-label",{attrs:{x:t.flip?.41:.59,y:r.value,text:r.label,"font-size":10,rotation:t.flip?-30:30,"anchor-point":t.flip?"r":"l"}}):t._e()]}}])})],1)],1):t._e()],1)},staticRenderFns:[]},void 0,Mg,void 0,!1,void 0,void 0,void 0),xg={mixins:[Vy,ev],props:{scale:{type:[Array,String,Object,void 0],default:void 0},gridLines:{type:[Array,Number],default:10}},computed:{_parsedScalingOptions:function(){return Uh(this.scale,this.$$dataInterface,this.$$scaleManager)},_domain:function(){return this._parsedScalingOptions[0]},_domainType:function(){return this._parsedScalingOptions[1]},_scalingOptions:function(){return this._parsedScalingOptions[2]},ranges:function(){return this.coordinateSpecification},cells:function(){return this.gridLines.constructor===Array?this.gridLines.map(function(t){return{value:t}}):("quantitative"===this._domainType&&(t=pg.apply(void 0,ei(this._domain).concat([this.gridLines])).map(function(t){return{value:t}})),"categorical"===this._domainType&&(t=this._domain.map(function(t){return{value:t}})),"temporal"===this._domainType&&(t=vh().domain(this._domain).ticks(this.tickCount).map(function(t){return{value:new Date(t)}})),t);var t}}},wg={mixins:[xg]},Sg=wg;wg.__file="XGrid.vue";var Eg=Jh({render:function(){var t=this.$createElement,e=this._self._c||t;return e("vgg-section",{staticClass:"x-grid",attrs:{x1:this.ranges.x1,x2:this.ranges.x2,y1:this.ranges.y1,y2:this.ranges.y2,"scale-x":this.scale,"scale-y":[0,1]}},this._l(this.cells,function(t,n){return e("vgg-line",{key:n,staticClass:"x-grid-line",attrs:{x1:t.value,y1:0,x2:t.value,y2:1,"stroke-width":.5,stroke:"#808080"}})}),1)},staticRenderFns:[]},void 0,Sg,void 0,!1,void 0,void 0,void 0),Pg={mixins:[xg]},Cg=Pg;Pg.__file="YGrid.vue";var Ag=Jh({render:function(){var t=this.$createElement,e=this._self._c||t;return e("vgg-section",{staticClass:"y-grid",attrs:{x1:this.ranges.x1,x2:this.ranges.x2,y1:this.ranges.y1,y2:this.ranges.y2,"scale-x":[0,1],"scale-y":this.scale}},this._l(this.cells,function(t,n){return e("vgg-line",{key:n,staticClass:"y-grid-line",attrs:{x1:0,y1:t.value,x2:1,y2:t.value,"stroke-width":.5,stroke:"#808080"}})}),1)},staticRenderFns:[]},void 0,Cg,void 0,!1,void 0,void 0,void 0),Og=Math.PI,kg=2*Og,Ng=kg-1e-6;function Tg(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jg(){return new Tg}function Ig(t){return function(){return t}}Tg.prototype=jg.prototype={constructor:Tg,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,s=this._y1,o=n-t,h=r-e,c=a-t,u=s-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(u*o-h*c)>1e-6&&i){var l=n-a,d=r-s,p=o*o+h*h,v=l*l+d*d,y=Math.sqrt(p),g=Math.sqrt(f),b=i*Math.tan((Og-Math.acos((p+f-v)/(2*y*g)))/2),m=b/g,M=b/y;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*c)+","+(e+m*u)),this._+="A"+i+","+i+",0,0,"+ +(u*l>c*d)+","+(this._x1=t+M*o)+","+(this._y1=e+M*h)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e;var s=(n=+n)*Math.cos(r),o=n*Math.sin(r),h=t+s,c=e+o,u=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+c:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+h+","+c),n&&(f<0&&(f=f%kg+kg),f>Ng?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-o)+"A"+n+","+n+",0,1,"+u+","+(this._x1=h)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Og)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};Math.PI;function Dg(t){this._context=t}function Lg(t){return new Dg(t)}function Rg(t){return t[0]}function qg(t){return t[1]}function Fg(t){return t<0?-1:1}function $g(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Fg(a)+Fg(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Gg(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Bg(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Ug(t){this._context=t}function zg(t){this._context=t}function Vg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=[];i.push(t[0]);for(var a=0;a<t.length-1;++a)for(var s=La(t[a],t[a+1]),o=1;o<=r;++o){var h=s(o/r);i.push([h[0],h[1]])}return Wg(i,e,n)}function Wg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t.map(function(t){return e(t).map(function(t){return function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}(t,n)})});return function(){var t=Rg,e=qg,n=Ig(!0),r=null,i=Lg,a=null;function s(s){var o,h,c,u=s.length,f=!1;for(null==r&&(a=i(c=jg())),o=0;o<=u;++o)!(o<u&&n(h=s[o],o,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,o,s),+e(h,o,s));if(c)return a=null,c+""||null}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:Ig(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Ig(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ig(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),s):r},s}()(r)}function Yg(t,e){var n=Math.min.apply(Math,ei(e.y)),r=Math.max.apply(Math,ei(e.y));return t[1]>n&&t[1]<r}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bg(this,this._t0,Gg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bg(this,Gg(this,n=$g(this,t,e)),n);break;default:Bg(this,this._t0,n=$g(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new zg(t)}.prototype=Object.create(Ug.prototype)).point=function(t,e){Ug.prototype.point.call(this,e,t)},zg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};var Hg=Hu(null);var Xg={mixins:[Vr],props:{x1:{type:[Number,String,Date,void 0],default:void 0},x2:{type:[Number,String,Date,void 0],default:void 0},y1:{type:[Number,String,Date,void 0],default:void 0},y2:{type:[Number,String,Date,void 0],default:void 0},func:{type:[Function,void 0],default:void 0},stroke:{type:String,default:"#000000"},fill:{type:String,default:"none"},strokeWidth:{type:Number,default:2},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},transition:{type:Number,default:0}},methods:{createPath:function(t,e){var n;if(t){var r=this.$$coordinateTreeParent,i=this.$$coordinateTree.getBranch(r).domains;n=function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:300,a=[],s=La.apply(void 0,ei(n.x)),o=0;o<=i;++o){var h=s(o/i),c=t(h);Yg([h,c],n)&&a.push([h,c])}return Wg(a,e,r)}(this.func,this.$$transform,i)}return t||(this._interpolate&&(n=Vg(e,this.$$transform)),this._interpolate||(n=Wg(e,this.$$transform))),n},renderSVG:function(t){var e=this._props,n=[[e.x1,e.y1],[e.x2,e.y2]];return t("path",{attrs:{d:this.createPath(e.func,n)},style:this.createSVGStyle(e)})}}},Qg=Xg;Xg.__file="Line.vue";var Jg=Jh({},void 0,Qg,void 0,void 0,void 0,void 0,void 0);var Zg={mixins:[Vr],props:{points:{type:[Array,void 0],default:void 0},geometry:{type:[Object,void 0],default:void 0},x:{type:[Array,void 0],default:void 0},y:{type:[Array,void 0],default:void 0},x2:{type:[Array,void 0],default:void 0},y2:{type:[Array,void 0],default:void 0},stroke:{type:String,default:"#000000"},fill:{type:String,default:"none"},strokeWidth:{type:Number,default:2},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},sort:{type:[String,void 0],default:void 0,validator:function(t){return["x","y"].includes(t)||void 0===t}},close:{type:Boolean,default:!1},interpolate:{type:Boolean,default:!1},_area:{type:Boolean,default:!1}},methods:{generatePoints:function(t,e){var n=[];if(t.length!==e.length){if(1!==t.length&&1!==e.length)throw new Error("'x' and 'y' coordinate sets have different lengths");if(1===t.length)for(var r=0;r<e.length;++r)n.push([t[0],e[r]]);else if(1===e.length)for(var i=0;i<t.length;++i)n.push([t[i],e[0]])}else for(var a=0;a<t.length;++a)n.push([t[a],e[a]]);return this.filterInvalid(n)},filterInvalid:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Bh(r)?console.warn("Skipped invalid point ".concat(fi(r)," at index ").concat(n)):e.push(r)}return e},sortPoints:function(t){return"x"===this.sort?t.sort(function(t,e){return t[0]-e[0]}):"y"===this.sort?t.sort(function(t,e){return t[1]-e[1]}):void 0},closePoints:function(t){var e=t.length-1;return t[0][0]===t[e][0]&&t[0][1]===t[e][1]||t.push(t[0]),t},createPath:function(t){return this._interpolate?Vg(t,this.$$transform):this._interpolate?void 0:Wg(t,this.$$transform)},renderSVG:function(t){!function(t,e,n,r,i,a,s){if(s){if(!Fh(n)||!Fh(r))throw new Error("Missing required props 'x' and 'y'");if(!Fh(i)&&!Fh(a))throw new Error("Missing required 'x2' and/or 'y2' prop (need at least one of the two)")}else if(Fh(e)){if(Fh(t)||Fh(n)||Fh(r))throw new Error("Cannot have both 'geometry' and 'x', 'y' or 'points' props")}else if(Fh(t)){if(Fh(n)||Fh(r))throw new Error("Cannot have both 'geometry' and 'x', 'y' or 'points' props")}else if(!Fh(n)||!Fh(r))throw new Error("Missing required props")}(this.points,this.geometry,this.x,this.y,this.x2,this.y2,this._area);var e=this._props;if(this.geometry)return t("path",{attrs:{d:(n=e.geometry,r=this.$$transform,i=Xu(n,r),Hg(i))},style:this.createSVGStyle(e)});var n,r,i,a=[];if((a=e.points?this.filterInvalid(e.points):this.generatePoints(e.x,e.y)).length>1){var s;if(this.sort&&(a=this.sortPoints(a)),this._area)e.x2&&!e.y2&&(s=this.generatePoints(e.x2,e.y)),!e.x2&&e.y2&&(s=this.generatePoints(e.x,e.y2)),e.x2&&e.y2&&(s=this.generatePoints(e.x2,e.y2)),this.sort&&(s=this.sortPoints(s)),a=a.concat(s.reverse());return this.close&&(a=this.closePoints(a)),t("path",{attrs:{d:this.createPath(a)},style:this.createSVGStyle(e)})}console.warn("Not enough valid points to draw Mark")}}},Kg={mixins:[Zg],props:{sort:{type:String,default:"x",validator:function(t){return["x","y"].includes(t)}},close:{type:Boolean,default:!1},x2:{type:void 0,default:void 0},y2:{type:void 0,default:void 0}}},tb=Kg;Kg.__file="MultiLine.vue";var eb=Jh({},void 0,tb,void 0,void 0,void 0,void 0,void 0),nb={mixins:[Zg],props:{close:{type:Boolean,default:!0},sort:{type:String,default:"x",validator:function(t){return["x","y"].includes(t)}},fill:{type:String,default:"#000000"},stroke:{type:[String,void 0],default:void 0},points:{type:void 0,default:void 0},geometry:{type:void 0,default:void 0},_area:{type:Boolean,default:!0}}},rb=nb;nb.__file="Area.vue";var ib=Jh({},void 0,rb,void 0,void 0,void 0,void 0,void 0),ab={mixins:[Zg],props:{close:{type:Boolean,default:!0},x2:{type:void 0,default:void 0},y2:{type:void 0,default:void 0}}},sb=ab;ab.__file="Path.vue";var ob=Jh({},void 0,sb,void 0,void 0,void 0,void 0,void 0),hb={mixins:[Vr],props:{x:{type:[Number,String,Date],required:!0},y:{type:[Number,String,Date],required:!0},fill:{type:String,default:"#000000"},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:0},radius:{type:Number,default:3},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},transition:{type:Number,default:0}},methods:{renderSVG:function(t){var e=this._props,n=$r(this.$$transform([e.x,e.y]),2);return t("circle",{attrs:{cx:n[0],cy:n[1],r:e.radius},style:this.createSVGStyle(e)})}}},cb=hb;hb.__file="Point.vue";var ub=Jh({},void 0,cb,void 0,void 0,void 0,void 0,void 0),fb={mixins:[Zg],props:{sort:{type:void 0,default:void 0},close:{type:Boolean,default:!0},x2:{type:void 0,default:void 0},y2:{type:void 0,default:void 0},fill:{type:String,default:"#000000"}}},lb=fb;fb.__file="Polygon.vue";var db=Jh({},void 0,lb,void 0,void 0,void 0,void 0,void 0),pb={mixins:[Vy],methods:{renderSVG:function(t){var e,n=this._props,r=this.coordinateSpecification,i=[[r.x1,r.y1],[r.x1,r.y2],[r.x2,r.y2],[r.x2,r.y1],[r.x1,r.y1]];return this._interpolate&&(e=Vg(i,this.$$transform)),this._interpolate||(e=Wg(i,this.$$transform)),t("path",{attrs:{d:e},style:this.createSVGStyle(n)})}}},vb=pb;pb.__file="Rectangle.vue";var yb=Jh({},void 0,vb,void 0,void 0,void 0,void 0,void 0);B(B.P,"Array",{fill:function(t){for(var e=gt(this),n=Y(e.length),r=arguments.length,i=Q(r>1?arguments[1]:void 0,n),a=r>2?arguments[2]:void 0,s=void 0===a?n:Q(a,n);s>i;)e[i++]=t;return e}}),C("fill");var gb={mixins:[Vr],props:{text:{type:[String,Number,void 0],default:void 0},x:{type:[Number,String,Date],required:!0},y:{type:[Number,String,Date],required:!0},fill:{type:String,default:"#000000"},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:0},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},fontSize:{type:Number,default:16},rotation:{type:Number,default:0},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb","l","r","t","b"].includes(t)}}},data:function(){return{markType:"label-mark"}},computed:{aesthetics:function(){return{text:this.parseAesthetic(this.text),x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),fill:this.parseAesthetic(this.fill,{default:"#000000"}),stroke:this.parseAesthetic(this.stroke,{default:"none"}),strokeWidth:this.parseAesthetic(this.strokeWidth,{default:0}),radius:this.parseAesthetic(this.radius,{default:3}),opacity:this.parseAesthetic(this.opacity),fillOpacity:this.parseAesthetic(this.fillOpacity),strokeOpacity:this.parseAesthetic(this.strokeOpacity),fontSize:this.parseAesthetic(this.fontSize,{default:16}),rotation:this.parseAesthetic(this.rotation,{default:0})}}},methods:{calcTransform:function(t,e,n){return"rotate(".concat(t,", ").concat(e,", ").concat(n,")")},renderSVG:function(t){var e=this._props,n=$r(this.$$transform([e.x,e.y]),2),r=n[0],i=n[1],a=Xh(this.anchorPoint),s=this.calcTransform(e.rotation,r,i),o=this.createSVGStyle(e);return o.fontSize=e.fontSize+"px",t("text",{attrs:{x:r,y:i,fill:e.color,"text-anchor":a.textAnchor,"dominant-baseline":a.dominantBaseline,transform:s,class:"vgg-label"},style:o},e.text)}}};const bb="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());const mb=document.head||document.getElementsByTagName("head")[0],Mb={};var _b=gb;gb.__file="Label.vue";var xb=Jh({},function(t){t&&t("data-v-2271ad0c_0",{source:".vgg-label[data-v-2271ad0c]{font-family:sans-serif}",map:void 0,media:void 0})},_b,"data-v-2271ad0c",void 0,void 0,function(t){return(t,e)=>(function(t,e){const n=bb?e.media||"default":t,r=Mb[n]||(Mb[n]={ids:new Set,styles:[]});if(!r.ids.has(t)){r.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),mb.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const t=r.ids.size-1,e=document.createTextNode(n),i=r.element.childNodes;i[t]&&r.element.removeChild(i[t]),i.length?r.element.insertBefore(e,i[t]):r.element.appendChild(e)}}})(t,e)},void 0),wb={mixins:[Vr],props:{x:{type:[Number,String,Date],required:!0},y:{type:[Number,String,Date],required:!0},fill:{type:String,default:"#000000"},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:2},shape:{type:String,default:"circle"},size:{type:Number,default:10},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},transition:{type:Number,default:0}},methods:{createCircle:function(t,e){var n=$r(this.$$transform([e.x,e.y]),2);return t("circle",{attrs:{cx:n[0],cy:n[1],r:e.size/2},style:this.createSVGStyle(e)})},createSquare:function(t,e){var n=$r(this.$$transform([e.x,e.y]),2),r=n[0],i=n[1],a=e.size;return t("rect",{attrs:{width:a,height:a,x:r-a/2,y:i-a/2},style:this.createSVGStyle(e)})},createPath:function(t,e,n){var r=$r(this.$$transform([e.x,e.y]),2),i=r[0],a=r[1],s=this.createSVGStyle(e),o=e.size/2;return s.strokeWidth=s.strokeWidth/o,s.transform="translateX("+i+"px) translateY("+a+"px) scale("+o+", "+o+") ",t("path",{attrs:{d:n},style:s})},renderSVG:function(t){var e,n=this._props;if("circle"===this.shape)return this.createCircle(t,n);if("square"===this.shape)return this.createSquare(t,n);if("cross"===this.shape)e="M-.5,-1L.5,-1L.5,-.5L1,-.5L1,.5L.5,.5L.5,1L-.5,1L-.5,.5L-1,.5L-1,-.5L-.5,-.5L-.5,-1Z";else if("diamond"===this.shape)e="M0,-1L1,0L0,1L-1,0L0,-1Z";else if("triangle-up"===this.shape)e="M0,-1L1,1L-1,1L0,-1Z";else if("triangle-down"===this.shape)e="M1,-1L0,1L-1,-1L1,-1Z";else if("triangle-right"===this.shape)e="M-1,-1L1,0L-1,1L-1,-1Z";else if("triangle-left"===this.shape)e="M1,-1L-1,0L1,1L1,-1Z";else{if("star"!==this.shape)return this.createPath(t,n,this.shape);e="M0,.5L.6,.8L.5,.1L1,-.3L.3,-.4L0,-1L-.3,-.4L-1,-.3L-.5,.1L-.6,.8L0,.5Z"}return this.createPath(t,n,e)}}},Sb=wb;wb.__file="Symbol.vue";var Eb={Glyph:ic,Graphic:tv,Map:Uy,Section:Qy,Data:Ky,Scales:ng,PlotTitle:ag,Piechart:hg,XAxis:bg,YAxis:_g,XGrid:Eg,YGrid:Ag,Line:Jg,MultiLine:eb,Area:ib,Path:ob,Point:ub,Polygon:db,Rectangle:yb,Label:xb,Symbol:Jh({},void 0,Sb,void 0,void 0,void 0,void 0,void 0)};export default{install:function(t,e){var n="Vgg";for(var r in e&&e.prefix&&(n=e.prefix),Eb){var i=n+r;t.component(i,Eb[r])}}};
//# sourceMappingURL=vue-gg.esm.js.map
