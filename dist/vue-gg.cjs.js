"use strict";var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var _core=createCommonjsModule(function(t){var e=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)}),_core_1=_core.version,_global=createCommonjsModule(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),_library=!1,_shared=createCommonjsModule(function(t){var e=_global["__core-js_shared__"]||(_global["__core-js_shared__"]={});(t.exports=function(t,r){return e[t]||(e[t]=void 0!==r?r:{})})("versions",[]).push({version:_core.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),id=0,px=Math.random(),_uid=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++id+px).toString(36))},_wks=createCommonjsModule(function(t){var e=_shared("wks"),r=_global.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:_uid)("Symbol."+t))}).store=e}),_isObject=function(t){return"object"==typeof t?null!==t:"function"==typeof t},_anObject=function(t){if(!_isObject(t))throw TypeError(t+" is not an object!");return t},_fails=function(t){try{return!!t()}catch(t){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),document$1=_global.document,is=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function(t){return is?document$1.createElement(t):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),_toPrimitive=function(t,e){if(!_isObject(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!_isObject(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!_isObject(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!_isObject(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,f=_descriptors?Object.defineProperty:function(t,e,r){if(_anObject(t),e=_toPrimitive(e,!0),_anObject(r),_ie8DomDefine)try{return dP(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t},_objectDp={f:f},_propertyDesc=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},_hide=_descriptors?function(t,e,r){return _objectDp.f(t,e,_propertyDesc(1,r))}:function(t,e,r){return t[e]=r,t},UNSCOPABLES=_wks("unscopables"),ArrayProto=Array.prototype;null==ArrayProto[UNSCOPABLES]&&_hide(ArrayProto,UNSCOPABLES,{});var _addToUnscopables=function(t){ArrayProto[UNSCOPABLES][t]=!0},_iterStep=function(t,e){return{value:e,done:!!t}},_iterators={},toString={}.toString,_cof=function(t){return toString.call(t).slice(8,-1)},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==_cof(t)?t.split(""):Object(t)},_defined=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},_toIobject=function(t){return _iobject(_defined(t))},hasOwnProperty={}.hasOwnProperty,_has=function(t,e){return hasOwnProperty.call(t,e)},_redefine=createCommonjsModule(function(t){var e=_uid("src"),r=Function.toString,n=(""+r).split("toString");_core.inspectSource=function(t){return r.call(t)},(t.exports=function(t,r,i,a){var o="function"==typeof i;o&&(_has(i,"name")||_hide(i,"name",r)),t[r]!==i&&(o&&(_has(i,e)||_hide(i,e,t[r]?""+t[r]:n.join(String(r)))),t===_global?t[r]=i:a?t[r]?t[r]=i:_hide(t,r,i):(delete t[r],_hide(t,r,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||r.call(this)})}),_aFunction=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},_ctx=function(t,e,r){if(_aFunction(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},PROTOTYPE="prototype",$export=function(t,e,r){var n,i,a,o,s=t&$export.F,c=t&$export.G,u=t&$export.S,h=t&$export.P,l=t&$export.B,f=c?_global:u?_global[e]||(_global[e]={}):(_global[e]||{})[PROTOTYPE],d=c?_core:_core[e]||(_core[e]={}),_=d[PROTOTYPE]||(d[PROTOTYPE]={});for(n in c&&(r=e),r)a=((i=!s&&f&&void 0!==f[n])?f:r)[n],o=l&&i?_ctx(a,_global):h&&"function"==typeof a?_ctx(Function.call,a):a,f&&_redefine(f,n,a,t&$export.U),d[n]!=a&&_hide(d,n,o),h&&_[n]!=a&&(_[n]=a)};_global.core=_core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128;var _export=$export,ceil=Math.ceil,floor=Math.floor,_toInteger=function(t){return isNaN(t=+t)?0:(t>0?floor:ceil)(t)},min=Math.min,_toLength=function(t){return t>0?min(_toInteger(t),9007199254740991):0},max=Math.max,min$1=Math.min,_toAbsoluteIndex=function(t,e){return(t=_toInteger(t))<0?max(t+e,0):min$1(t,e)},_arrayIncludes=function(t){return function(e,r,n){var i,a=_toIobject(e),o=_toLength(a.length),s=_toAbsoluteIndex(n,o);if(t&&r!=r){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}},shared=_shared("keys"),_sharedKey=function(t){return shared[t]||(shared[t]=_uid(t))},arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(t,e){var r,n=_toIobject(t),i=0,a=[];for(r in n)r!=IE_PROTO&&_has(n,r)&&a.push(r);for(;e.length>i;)_has(n,r=e[i++])&&(~arrayIndexOf(a,r)||a.push(r));return a},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys=Object.keys||function(t){return _objectKeysInternal(t,_enumBugKeys)},_objectDps=_descriptors?Object.defineProperties:function(t,e){_anObject(t);for(var r,n=_objectKeys(e),i=n.length,a=0;i>a;)_objectDp.f(t,r=n[a++],e[r]);return t},document$2=_global.document,_html=document$2&&document$2.documentElement,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var t,e=_domCreate("iframe"),r=_enumBugKeys.length;for(e.style.display="none",_html.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),createDict=t.F;r--;)delete createDict[PROTOTYPE$1][_enumBugKeys[r]];return createDict()},_objectCreate=Object.create||function(t,e){var r;return null!==t?(Empty[PROTOTYPE$1]=_anObject(t),r=new Empty,Empty[PROTOTYPE$1]=null,r[IE_PROTO$1]=t):r=createDict(),void 0===e?r:_objectDps(r,e)},def=_objectDp.f,TAG=_wks("toStringTag"),_setToStringTag=function(t,e,r){t&&!_has(t=r?t:t.prototype,TAG)&&def(t,TAG,{configurable:!0,value:e})},IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(t,e,r){t.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,r)}),_setToStringTag(t,e+" Iterator")},_toObject=function(t){return Object(_defined(t))},IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(t){return t=_toObject(t),_has(t,IE_PROTO$2)?t[IE_PROTO$2]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ObjectProto:null},ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(t,e,r,n,i,a,o){_iterCreate(r,e,n);var s,c,u,h=function(t){if(!BUGGY&&t in _)return _[t];switch(t){case KEYS:case VALUES:return function(){return new r(this,t)}}return function(){return new r(this,t)}},l=e+" Iterator",f=i==VALUES,d=!1,_=t.prototype,p=_[ITERATOR]||_[FF_ITERATOR]||i&&_[i],m=p||h(i),v=i?f?h("entries"):m:void 0,y="Array"==e&&_.entries||p;if(y&&(u=_objectGpo(y.call(new t)))!==Object.prototype&&u.next&&(_setToStringTag(u,l,!0),_library||"function"==typeof u[ITERATOR]||_hide(u,ITERATOR,returnThis)),f&&p&&p.name!==VALUES&&(d=!0,m=function(){return p.call(this)}),_library&&!o||!BUGGY&&!d&&_[ITERATOR]||_hide(_,ITERATOR,m),_iterators[e]=m,_iterators[l]=returnThis,i)if(s={values:f?m:h(VALUES),keys:a?m:h(KEYS),entries:v},o)for(c in s)c in _||_redefine(_,c,s[c]);else _export(_export.P+_export.F*(BUGGY||d),e,s);return s},es6_array_iterator=_iterDefine(Array,"Array",function(t,e){this._t=_toIobject(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,_iterStep(1)):_iterStep(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values");_iterators.Arguments=_iterators.Array,_addToUnscopables("keys"),_addToUnscopables("values"),_addToUnscopables("entries");var defer,channel,port,TAG$1=_wks("toStringTag"),ARG="Arguments"==_cof(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}},_classof=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=tryGet(e=Object(t),TAG$1))?r:ARG?_cof(e):"Object"==(n=_cof(e))&&"function"==typeof e.callee?"Arguments":n},_anInstance=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},_iterCall=function(t,e,r,n){try{return n?e(_anObject(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&_anObject(i.call(t)),e}},ITERATOR$1=_wks("iterator"),ArrayProto$1=Array.prototype,_isArrayIter=function(t){return void 0!==t&&(_iterators.Array===t||ArrayProto$1[ITERATOR$1]===t)},ITERATOR$2=_wks("iterator"),core_getIteratorMethod=_core.getIteratorMethod=function(t){if(null!=t)return t[ITERATOR$2]||t["@@iterator"]||_iterators[_classof(t)]},_forOf=createCommonjsModule(function(t){var e={},r={},n=t.exports=function(t,n,i,a,o){var s,c,u,h,l=o?function(){return t}:core_getIteratorMethod(t),f=_ctx(i,a,n?2:1),d=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(_isArrayIter(l)){for(s=_toLength(t.length);s>d;d++)if((h=n?f(_anObject(c=t[d])[0],c[1]):f(t[d]))===e||h===r)return h}else for(u=l.call(t);!(c=u.next()).done;)if((h=_iterCall(u,f,c.value,n))===e||h===r)return h};n.BREAK=e,n.RETURN=r}),SPECIES=_wks("species"),_speciesConstructor=function(t,e){var r,n=_anObject(t).constructor;return void 0===n||null==(r=_anObject(n)[SPECIES])?e:_aFunction(r)},_invoke=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},process=_global.process,setTask=_global.setImmediate,clearTask=_global.clearImmediate,MessageChannel=_global.MessageChannel,Dispatch=_global.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var t=+this;if(queue.hasOwnProperty(t)){var e=queue[t];delete queue[t],e()}},listener=function(t){run.call(t.data)};setTask&&clearTask||(setTask=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return queue[++counter]=function(){_invoke("function"==typeof t?t:Function(t),e)},defer(counter),counter},clearTask=function(t){delete queue[t]},"process"==_cof(process)?defer=function(t){process.nextTick(_ctx(run,t,1))}:Dispatch&&Dispatch.now?defer=function(t){Dispatch.now(_ctx(run,t,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=_ctx(port.postMessage,port,1)):_global.addEventListener&&"function"==typeof postMessage&&!_global.importScripts?(defer=function(t){_global.postMessage(t+"","*")},_global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in _domCreate("script")?function(t){_html.appendChild(_domCreate("script"))[ONREADYSTATECHANGE]=function(){_html.removeChild(this),run.call(t)}}:function(t){setTimeout(_ctx(run,t,1),0)});var _task={set:setTask,clear:clearTask},macrotask=_task.set,Observer=_global.MutationObserver||_global.WebKitMutationObserver,process$1=_global.process,Promise=_global.Promise,isNode="process"==_cof(process$1),_microtask=function(){var t,e,r,n=function(){var n,i;for(isNode&&(n=process$1.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(isNode)r=function(){process$1.nextTick(n)};else if(!Observer||_global.navigator&&_global.navigator.standalone)if(Promise&&Promise.resolve){var i=Promise.resolve(void 0);r=function(){i.then(n)}}else r=function(){macrotask.call(_global,n)};else{var a=!0,o=document.createTextNode("");new Observer(n).observe(o,{characterData:!0}),r=function(){o.data=a=!a}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}};function PromiseCapability(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=_aFunction(e),this.reject=_aFunction(r)}var f$1=function(t){return new PromiseCapability(t)},_newPromiseCapability={f:f$1},_perform=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},navigator$1=_global.navigator,_userAgent=navigator$1&&navigator$1.userAgent||"",_promiseResolve=function(t,e){if(_anObject(t),_isObject(e)&&e.constructor===t)return e;var r=_newPromiseCapability.f(t);return(0,r.resolve)(e),r.promise},_redefineAll=function(t,e,r){for(var n in e)_redefine(t,n,e[n],r);return t},SPECIES$1=_wks("species"),_setSpecies=function(t){var e=_global[t];_descriptors&&e&&!e[SPECIES$1]&&_objectDp.f(e,SPECIES$1,{configurable:!0,get:function(){return this}})},ITERATOR$3=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$3]();riter.return=function(){SAFE_CLOSING=!0}}catch(t){}var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,_iterDetect=function(t,e){if(!e&&!SAFE_CLOSING)return!1;var r=!1;try{var n=[7],i=n[ITERATOR$3]();i.next=function(){return{done:r=!0}},n[ITERATOR$3]=function(){return i},t(n)}catch(t){}return r},task=_task.set,microtask=_microtask(),PROMISE="Promise",TypeError$1=_global.TypeError,process$2=_global.process,versions=process$2&&process$2.versions,v8=versions&&versions.v8||"",$Promise=_global[PROMISE],isNode$1="process"==_classof(process$2),empty=function(){},newPromiseCapability=newGenericPromiseCapability=_newPromiseCapability.f,USE_NATIVE=!!function(){try{var t=$Promise.resolve(1),e=(t.constructor={})[_wks("species")]=function(t){t(empty,empty)};return(isNode$1||"function"==typeof PromiseRejectionEvent)&&t.then(empty)instanceof e&&0!==v8.indexOf("6.6")&&-1===_userAgent.indexOf("Chrome/66")}catch(t){}}(),isThenable=function(t){var e;return!(!_isObject(t)||"function"!=typeof(e=t.then))&&e},notify=function(t,e){if(!t._n){t._n=!0;var r=t._c;microtask(function(){for(var n=t._v,i=1==t._s,a=0,o=function(e){var r,a,o,s=i?e.ok:e.fail,c=e.resolve,u=e.reject,h=e.domain;try{s?(i||(2==t._h&&onHandleUnhandled(t),t._h=1),!0===s?r=n:(h&&h.enter(),r=s(n),h&&(h.exit(),o=!0)),r===e.promise?u(TypeError$1("Promise-chain cycle")):(a=isThenable(r))?a.call(r,c,u):c(r)):u(n)}catch(t){h&&!o&&h.exit(),u(t)}};r.length>a;)o(r[a++]);t._c=[],t._n=!1,e&&!t._h&&onUnhandled(t)})}},onUnhandled=function(t){task.call(_global,function(){var e,r,n,i=t._v,a=isUnhandled(t);if(a&&(e=_perform(function(){isNode$1?process$2.emit("unhandledRejection",i,t):(r=_global.onunhandledrejection)?r({promise:t,reason:i}):(n=_global.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=isNode$1||isUnhandled(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},isUnhandled=function(t){return 1!==t._h&&0===(t._a||t._c).length},onHandleUnhandled=function(t){task.call(_global,function(){var e;isNode$1?process$2.emit("rejectionHandled",t):(e=_global.onrejectionhandled)&&e({promise:t,reason:t._v})})},$reject=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),notify(e,!0))},$resolve=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw TypeError$1("Promise can't be resolved itself");(e=isThenable(t))?microtask(function(){var n={_w:r,_d:!1};try{e.call(t,_ctx($resolve,n,1),_ctx($reject,n,1))}catch(t){$reject.call(n,t)}}):(r._v=t,r._s=1,notify(r,!1))}catch(t){$reject.call({_w:r,_d:!1},t)}}};USE_NATIVE||($Promise=function(t){_anInstance(this,$Promise,PROMISE,"_h"),_aFunction(t),Internal.call(this);try{t(_ctx($resolve,this,1),_ctx($reject,this,1))}catch(t){$reject.call(this,t)}},(Internal=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=_redefineAll($Promise.prototype,{then:function(t,e){var r=newPromiseCapability(_speciesConstructor(this,$Promise));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=isNode$1?process$2.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&notify(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),OwnPromiseCapability=function(){var t=new Internal;this.promise=t,this.resolve=_ctx($resolve,t,1),this.reject=_ctx($reject,t,1)},_newPromiseCapability.f=newPromiseCapability=function(t){return t===$Promise||t===Wrapper?new OwnPromiseCapability(t):newGenericPromiseCapability(t)}),_export(_export.G+_export.W+_export.F*!USE_NATIVE,{Promise:$Promise}),_setToStringTag($Promise,PROMISE),_setSpecies(PROMISE),Wrapper=_core[PROMISE],_export(_export.S+_export.F*!USE_NATIVE,PROMISE,{reject:function(t){var e=newPromiseCapability(this);return(0,e.reject)(t),e.promise}}),_export(_export.S+_export.F*(_library||!USE_NATIVE),PROMISE,{resolve:function(t){return _promiseResolve(_library&&this===Wrapper?$Promise:this,t)}}),_export(_export.S+_export.F*!(USE_NATIVE&&_iterDetect(function(t){$Promise.all(t).catch(empty)})),PROMISE,{all:function(t){var e=this,r=newPromiseCapability(e),n=r.resolve,i=r.reject,a=_perform(function(){var r=[],a=0,o=1;_forOf(t,!1,function(t){var s=a++,c=!1;r.push(void 0),o++,e.resolve(t).then(function(t){c||(c=!0,r[s]=t,--o||n(r))},i)}),--o||n(r)});return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=newPromiseCapability(e),n=r.reject,i=_perform(function(){_forOf(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}}),_export(_export.P+_export.R,"Promise",{finally:function(t){var e=_speciesConstructor(this,_core.Promise||_global.Promise),r="function"==typeof t;return this.then(r?function(r){return _promiseResolve(e,t()).then(function(){return r})}:t,r?function(r){return _promiseResolve(e,t()).then(function(){throw r})}:t)}});var $includes=_arrayIncludes(!0);_export(_export.P,"Array",{includes:function(t){return $includes(this,t,arguments.length>1?arguments[1]:void 0)}}),_addToUnscopables("includes");var MATCH=_wks("match"),_isRegexp=function(t){var e;return _isObject(t)&&(void 0!==(e=t[MATCH])?!!e:"RegExp"==_cof(t))},_stringContext=function(t,e,r){if(_isRegexp(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(_defined(t))},MATCH$1=_wks("match"),_failsIsRegexp=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[MATCH$1]=!1,!"/./"[t](e)}catch(t){}}return!0},INCLUDES="includes";_export(_export.P+_export.F*_failsIsRegexp(INCLUDES),"String",{includes:function(t){return!!~_stringContext(this,t,INCLUDES).indexOf(t,arguments.length>1?arguments[1]:void 0)}});var f$2={}.propertyIsEnumerable,_objectPie={f:f$2},gOPD=Object.getOwnPropertyDescriptor,f$3=_descriptors?gOPD:function(t,e){if(t=_toIobject(t),e=_toPrimitive(e,!0),_ie8DomDefine)try{return gOPD(t,e)}catch(t){}if(_has(t,e))return _propertyDesc(!_objectPie.f.call(t,e),t[e])},_objectGopd={f:f$3},check=function(t,e){if(_anObject(t),!_isObject(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},_setProto={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=_ctx(Function.call,_objectGopd.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return check(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:check},setPrototypeOf=_setProto.set,_inheritIfRequired=function(t,e,r){var n,i=e.constructor;return i!==r&&"function"==typeof i&&(n=i.prototype)!==r.prototype&&_isObject(n)&&setPrototypeOf&&setPrototypeOf(t,n),t},hiddenKeys=_enumBugKeys.concat("length","prototype"),f$4=Object.getOwnPropertyNames||function(t){return _objectKeysInternal(t,hiddenKeys)},_objectGopn={f:f$4},_stringWs="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",space="["+_stringWs+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(t,e,r){var n={},i=_fails(function(){return!!_stringWs[t]()||non[t]()!=non}),a=n[t]=i?e(trim):_stringWs[t];r&&(n[r]=a),_export(_export.P+_export.F*i,"String",n)},trim=exporter.trim=function(t,e){return t=String(_defined(t)),1&e&&(t=t.replace(ltrim,"")),2&e&&(t=t.replace(rtrim,"")),t},_stringTrim=exporter,gOPN=_objectGopn.f,gOPD$1=_objectGopd.f,dP$1=_objectDp.f,$trim=_stringTrim.trim,NUMBER="Number",$Number=_global[NUMBER],Base=$Number,proto=$Number.prototype,BROKEN_COF=_cof(_objectCreate(proto))==NUMBER,TRIM="trim"in String.prototype,toNumber=function(t){var e=_toPrimitive(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,a=(e=TRIM?e.trim():$trim(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,s=e.slice(2),c=0,u=s.length;c<u;c++)if((o=s.charCodeAt(c))<48||o>i)return NaN;return parseInt(s,n)}}return+e};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof $Number&&(BROKEN_COF?_fails(function(){proto.valueOf.call(r)}):_cof(r)!=NUMBER)?_inheritIfRequired(new Base(toNumber(e)),r,$Number):toNumber(e)};for(var key,keys=_descriptors?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j$1=0;keys.length>j$1;j$1++)_has(Base,key=keys[j$1])&&!_has($Number,key)&&dP$1($Number,key,gOPD$1(Base,key));$Number.prototype=proto,proto.constructor=$Number,_redefine(_global,NUMBER,$Number)}var _global$1=createCommonjsModule(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),_core$1=createCommonjsModule(function(t){var e=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)}),_core_1$1=_core$1.version,_aFunction$1=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},_ctx$1=function(t,e,r){if(_aFunction$1(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},_isObject$1=function(t){return"object"==typeof t?null!==t:"function"==typeof t},_anObject$1=function(t){if(!_isObject$1(t))throw TypeError(t+" is not an object!");return t},_fails$1=function(t){try{return!!t()}catch(t){return!0}},_descriptors$1=!_fails$1(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),document$3=_global$1.document,is$1=_isObject$1(document$3)&&_isObject$1(document$3.createElement),_domCreate$1=function(t){return is$1?document$3.createElement(t):{}},_ie8DomDefine$1=!_descriptors$1&&!_fails$1(function(){return 7!=Object.defineProperty(_domCreate$1("div"),"a",{get:function(){return 7}}).a}),_toPrimitive$1=function(t,e){if(!_isObject$1(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!_isObject$1(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!_isObject$1(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!_isObject$1(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},dP$2=Object.defineProperty,f$5=_descriptors$1?Object.defineProperty:function(t,e,r){if(_anObject$1(t),e=_toPrimitive$1(e,!0),_anObject$1(r),_ie8DomDefine$1)try{return dP$2(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t},_objectDp$1={f:f$5},_propertyDesc$1=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},_hide$1=_descriptors$1?function(t,e,r){return _objectDp$1.f(t,e,_propertyDesc$1(1,r))}:function(t,e,r){return t[e]=r,t},hasOwnProperty$1={}.hasOwnProperty,_has$1=function(t,e){return hasOwnProperty$1.call(t,e)},PROTOTYPE$2="prototype",$export$1=function(t,e,r){var n,i,a,o=t&$export$1.F,s=t&$export$1.G,c=t&$export$1.S,u=t&$export$1.P,h=t&$export$1.B,l=t&$export$1.W,f=s?_core$1:_core$1[e]||(_core$1[e]={}),d=f[PROTOTYPE$2],_=s?_global$1:c?_global$1[e]:(_global$1[e]||{})[PROTOTYPE$2];for(n in s&&(r=e),r)(i=!o&&_&&void 0!==_[n])&&_has$1(f,n)||(a=i?_[n]:r[n],f[n]=s&&"function"!=typeof _[n]?r[n]:h&&i?_ctx$1(a,_global$1):l&&_[n]==a?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[PROTOTYPE$2]=t[PROTOTYPE$2],e}(a):u&&"function"==typeof a?_ctx$1(Function.call,a):a,u&&((f.virtual||(f.virtual={}))[n]=a,t&$export$1.R&&d&&!d[n]&&_hide$1(d,n,a)))};$export$1.F=1,$export$1.G=2,$export$1.S=4,$export$1.P=8,$export$1.B=16,$export$1.W=32,$export$1.U=64,$export$1.R=128;var _export$1=$export$1,toString$1={}.toString,_cof$1=function(t){return toString$1.call(t).slice(8,-1)},_isArray=Array.isArray||function(t){return"Array"==_cof$1(t)};_export$1(_export$1.S,"Array",{isArray:_isArray});var isArray=_core$1.Array.isArray,isArray$1=isArray;function _arrayWithHoles(t){if(isArray$1(t))return t}var _iterStep$1=function(t,e){return{value:e,done:!!t}},_iterators$1={},_iobject$1=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==_cof$1(t)?t.split(""):Object(t)},_defined$1=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},_toIobject$1=function(t){return _iobject$1(_defined$1(t))},_library$1=!0,_redefine$1=_hide$1,ceil$1=Math.ceil,floor$1=Math.floor,_toInteger$1=function(t){return isNaN(t=+t)?0:(t>0?floor$1:ceil$1)(t)},min$2=Math.min,_toLength$1=function(t){return t>0?min$2(_toInteger$1(t),9007199254740991):0},max$1=Math.max,min$3=Math.min,_toAbsoluteIndex$1=function(t,e){return(t=_toInteger$1(t))<0?max$1(t+e,0):min$3(t,e)},_arrayIncludes$1=function(t){return function(e,r,n){var i,a=_toIobject$1(e),o=_toLength$1(a.length),s=_toAbsoluteIndex$1(n,o);if(t&&r!=r){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}},_shared$1=createCommonjsModule(function(t){var e=_global$1["__core-js_shared__"]||(_global$1["__core-js_shared__"]={});(t.exports=function(t,r){return e[t]||(e[t]=void 0!==r?r:{})})("versions",[]).push({version:_core$1.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),id$1=0,px$1=Math.random(),_uid$1=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++id$1+px$1).toString(36))},shared$1=_shared$1("keys"),_sharedKey$1=function(t){return shared$1[t]||(shared$1[t]=_uid$1(t))},arrayIndexOf$1=_arrayIncludes$1(!1),IE_PROTO$3=_sharedKey$1("IE_PROTO"),_objectKeysInternal$1=function(t,e){var r,n=_toIobject$1(t),i=0,a=[];for(r in n)r!=IE_PROTO$3&&_has$1(n,r)&&a.push(r);for(;e.length>i;)_has$1(n,r=e[i++])&&(~arrayIndexOf$1(a,r)||a.push(r));return a},_enumBugKeys$1="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys$1=Object.keys||function(t){return _objectKeysInternal$1(t,_enumBugKeys$1)},_objectDps$1=_descriptors$1?Object.defineProperties:function(t,e){_anObject$1(t);for(var r,n=_objectKeys$1(e),i=n.length,a=0;i>a;)_objectDp$1.f(t,r=n[a++],e[r]);return t},document$4=_global$1.document,_html$1=document$4&&document$4.documentElement,IE_PROTO$4=_sharedKey$1("IE_PROTO"),Empty$1=function(){},PROTOTYPE$3="prototype",createDict$1=function(){var t,e=_domCreate$1("iframe"),r=_enumBugKeys$1.length;for(e.style.display="none",_html$1.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),createDict$1=t.F;r--;)delete createDict$1[PROTOTYPE$3][_enumBugKeys$1[r]];return createDict$1()},_objectCreate$1=Object.create||function(t,e){var r;return null!==t?(Empty$1[PROTOTYPE$3]=_anObject$1(t),r=new Empty$1,Empty$1[PROTOTYPE$3]=null,r[IE_PROTO$4]=t):r=createDict$1(),void 0===e?r:_objectDps$1(r,e)},_wks$1=createCommonjsModule(function(t){var e=_shared$1("wks"),r=_global$1.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:_uid$1)("Symbol."+t))}).store=e}),def$1=_objectDp$1.f,TAG$2=_wks$1("toStringTag"),_setToStringTag$1=function(t,e,r){t&&!_has$1(t=r?t:t.prototype,TAG$2)&&def$1(t,TAG$2,{configurable:!0,value:e})},IteratorPrototype$1={};_hide$1(IteratorPrototype$1,_wks$1("iterator"),function(){return this});var _iterCreate$1=function(t,e,r){t.prototype=_objectCreate$1(IteratorPrototype$1,{next:_propertyDesc$1(1,r)}),_setToStringTag$1(t,e+" Iterator")},_toObject$1=function(t){return Object(_defined$1(t))},IE_PROTO$5=_sharedKey$1("IE_PROTO"),ObjectProto$1=Object.prototype,_objectGpo$1=Object.getPrototypeOf||function(t){return t=_toObject$1(t),_has$1(t,IE_PROTO$5)?t[IE_PROTO$5]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ObjectProto$1:null},ITERATOR$4=_wks$1("iterator"),BUGGY$1=!([].keys&&"next"in[].keys()),FF_ITERATOR$1="@@iterator",KEYS$1="keys",VALUES$1="values",returnThis$1=function(){return this},_iterDefine$1=function(t,e,r,n,i,a,o){_iterCreate$1(r,e,n);var s,c,u,h=function(t){if(!BUGGY$1&&t in _)return _[t];switch(t){case KEYS$1:case VALUES$1:return function(){return new r(this,t)}}return function(){return new r(this,t)}},l=e+" Iterator",f=i==VALUES$1,d=!1,_=t.prototype,p=_[ITERATOR$4]||_[FF_ITERATOR$1]||i&&_[i],m=p||h(i),v=i?f?h("entries"):m:void 0,y="Array"==e&&_.entries||p;if(y&&(u=_objectGpo$1(y.call(new t)))!==Object.prototype&&u.next&&(_setToStringTag$1(u,l,!0),_library$1||"function"==typeof u[ITERATOR$4]||_hide$1(u,ITERATOR$4,returnThis$1)),f&&p&&p.name!==VALUES$1&&(d=!0,m=function(){return p.call(this)}),_library$1&&!o||!BUGGY$1&&!d&&_[ITERATOR$4]||_hide$1(_,ITERATOR$4,m),_iterators$1[e]=m,_iterators$1[l]=returnThis$1,i)if(s={values:f?m:h(VALUES$1),keys:a?m:h(KEYS$1),entries:v},o)for(c in s)c in _||_redefine$1(_,c,s[c]);else _export$1(_export$1.P+_export$1.F*(BUGGY$1||d),e,s);return s},es6_array_iterator$1=_iterDefine$1(Array,"Array",function(t,e){this._t=_toIobject$1(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,_iterStep$1(1)):_iterStep$1(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values");_iterators$1.Arguments=_iterators$1.Array;for(var TO_STRING_TAG=_wks$1("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i$1=0;i$1<DOMIterables.length;i$1++){var NAME=DOMIterables[i$1],Collection=_global$1[NAME],proto$1=Collection&&Collection.prototype;proto$1&&!proto$1[TO_STRING_TAG]&&_hide$1(proto$1,TO_STRING_TAG,NAME),_iterators$1[NAME]=_iterators$1.Array}var _stringAt=function(t){return function(e,r){var n,i,a=String(_defined$1(e)),o=_toInteger$1(r),s=a.length;return o<0||o>=s?t?"":void 0:(n=a.charCodeAt(o))<55296||n>56319||o+1===s||(i=a.charCodeAt(o+1))<56320||i>57343?t?a.charAt(o):n:t?a.slice(o,o+2):i-56320+(n-55296<<10)+65536}},$at=_stringAt(!0);_iterDefine$1(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=$at(e,r),this._i+=t.length,{value:t,done:!1})});var TAG$3=_wks$1("toStringTag"),ARG$1="Arguments"==_cof$1(function(){return arguments}()),tryGet$1=function(t,e){try{return t[e]}catch(t){}},_classof$1=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=tryGet$1(e=Object(t),TAG$3))?r:ARG$1?_cof$1(e):"Object"==(n=_cof$1(e))&&"function"==typeof e.callee?"Arguments":n},ITERATOR$5=_wks$1("iterator"),core_getIteratorMethod$1=_core$1.getIteratorMethod=function(t){if(null!=t)return t[ITERATOR$5]||t["@@iterator"]||_iterators$1[_classof$1(t)]},core_getIterator=_core$1.getIterator=function(t){var e=core_getIteratorMethod$1(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return _anObject$1(e.call(t))},getIterator=core_getIterator,getIterator$1=getIterator;function _iterableToArrayLimit(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(t);!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}var CoordinateTreeUser={inject:["$$coordinateTree","$$coordinateTreeParent"],computed:{parentBranch:function(){return this.$$coordinateTree.getBranch(this.$$coordinateTreeParent)},parentRangeTypes:function(){return this.parentBranch.domainTypes}}},_flags=function(){var t=_anObject(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};_descriptors&&"g"!=/./g.flags&&_objectDp.f(RegExp.prototype,"flags",{configurable:!0,get:_flags});var TO_STRING="toString",$toString=/./[TO_STRING],define=function(t){_redefine(RegExp.prototype,TO_STRING,t,!0)};function createSVGStyle(t){for(var e=["fill","stroke","strokeWidth","opacity","fillOpacity","strokeOpacity","transition"],r={},n=0;n<e.length;n++)t[e[n]]&&(r[e[n]]=t[e[n]],"transition"===e[n]&&(r[e[n]]=r[e[n]].toString()+"s"));return r}_fails(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var t=_anObject(this);return"/".concat(t.source,"/","flags"in t?t.flags:!_descriptors&&t instanceof RegExp?_flags.call(t):void 0)}):$toString.name!=TO_STRING&&define(function(){return $toString.call(this)});var Mark={mixins:[CoordinateTreeUser],inject:["$$transform"],props:{interpolate:{type:Boolean,default:!0}},computed:{__update:function(){return this.$$coordinateTree._update},_interpolate:function(){return this.interpolate}},methods:{createSVGStyle:createSVGStyle},render:function(t){if(this.__update)return this.renderSVG(t)}};function _arrayWithoutHoles(t){if(isArray$1(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var _iterCall$1=function(t,e,r,n){try{return n?e(_anObject$1(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&_anObject$1(i.call(t)),e}},ITERATOR$6=_wks$1("iterator"),ArrayProto$2=Array.prototype,_isArrayIter$1=function(t){return void 0!==t&&(_iterators$1.Array===t||ArrayProto$2[ITERATOR$6]===t)},_createProperty=function(t,e,r){e in t?_objectDp$1.f(t,e,_propertyDesc$1(0,r)):t[e]=r},ITERATOR$7=_wks$1("iterator"),SAFE_CLOSING$1=!1;try{var riter$1=[7][ITERATOR$7]();riter$1.return=function(){SAFE_CLOSING$1=!0}}catch(t){}var _iterDetect$1=function(t,e){if(!e&&!SAFE_CLOSING$1)return!1;var r=!1;try{var n=[7],i=n[ITERATOR$7]();i.next=function(){return{done:r=!0}},n[ITERATOR$7]=function(){return i},t(n)}catch(t){}return r};_export$1(_export$1.S+_export$1.F*!_iterDetect$1(function(t){}),"Array",{from:function(t){var e,r,n,i,a=_toObject$1(t),o="function"==typeof this?this:Array,s=arguments.length,c=s>1?arguments[1]:void 0,u=void 0!==c,h=0,l=core_getIteratorMethod$1(a);if(u&&(c=_ctx$1(c,s>2?arguments[2]:void 0,2)),null==l||o==Array&&_isArrayIter$1(l))for(r=new o(e=_toLength$1(a.length));e>h;h++)_createProperty(r,h,u?c(a[h],h):a[h]);else for(i=l.call(a),r=new o;!(n=i.next()).done;h++)_createProperty(r,h,u?_iterCall$1(i,c,[n.value,h],!0):n.value);return r.length=h,r}});var from_1=_core$1.Array.from,from_1$1=from_1,ITERATOR$8=_wks$1("iterator"),core_isIterable=_core$1.isIterable=function(t){var e=Object(t);return void 0!==e[ITERATOR$8]||"@@iterator"in e||_iterators$1.hasOwnProperty(_classof$1(e))},isIterable=core_isIterable,isIterable$1=isIterable;function _iterableToArray(t){if(isIterable$1(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return from_1$1(t)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}_export$1(_export$1.S+_export$1.F*!_descriptors$1,"Object",{defineProperty:_objectDp$1.f});var $Object=_core$1.Object,defineProperty=function(t,e,r){return $Object.defineProperty(t,e,r)},defineProperty$1=defineProperty;function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),defineProperty$1(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}var CoordinateTree=function(){function t(){_classCallCheck(this,t),this._coordinateTree=null,this._branchPaths={},this._update=1}return _createClass(t,[{key:"setRoot",value:function(t){this._coordinateTree=new Branch("root",null,t),this._branchPaths.root=[]}},{key:"addBranch",value:function(t,e,r){this.getBranch(e).children[t]=new Branch(t,e,r);var n=this._branchPaths[e];this._branchPaths[t]=[].concat(_toConsumableArray(n),[t]),this._update++}},{key:"getBranch",value:function(t){var e=this._branchPaths[t],r=this._coordinateTree,n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(e);!(n=(o=s.next()).done);n=!0){var c=o.value;r=r.children[c]}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},{key:"updateBranch",value:function(t,e){this.getBranch(t).update(e),this._update++}},{key:"removeBranch",value:function(t){var e=this._branchPaths[t];if(e){var r=this._coordinateTree,n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(e);!(n=(o=s.next()).done);n=!0){var c=o.value,u=r.children[c];if(u.id===t){delete r.children[c];break}r=u}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}for(var h in this._branchPaths){this._branchPaths[h].includes(t)&&delete this._branchPaths[h]}}this._update++}},{key:"getTotalTransformation",value:function(t){return function(e){for(var r=_slicedToArray(e,2),n=r[0],i=r[1],a=this.getBranch(t),o=a.transform([n,i]);a.parentID;)o=(a=this.getBranch(a.parentID)).transform(o);return o}.bind(this)}}]),t}(),Branch=function(){function t(e,r,n){_classCallCheck(this,t),this.id=e,this.parentID=r,this.update(n),this.children={}}return _createClass(t,[{key:"update",value:function(t){for(var e in t)this[e]=t[e]}}]),t}();function checkValidScale(t,e,r,n){if(!n.hasOwnProperty(r))throw new Error("\n      Prop '".concat(t,"', variable type '").concat(e,"':\n      No scale '").concat(r,"' found\n    "))}var $JSON=_core$1.JSON||(_core$1.JSON={stringify:JSON.stringify}),stringify=function(t){return $JSON.stringify.apply($JSON,arguments)},stringify$1=stringify;function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bisector(t){return 1===t.length&&(t=ascendingComparator(t)),{left:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)<0?n=a+1:i=a}return n},right:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)>0?i=a:n=a+1}return n}}}function ascendingComparator(t){return function(e,r){return ascending(t(e),r)}}var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(t,e,r){var n,i,a,o,s=-1;if(r=+r,(t=+t)===(e=+e)&&r>0)return[t];if((n=e<t)&&(i=t,t=e,e=i),0===(o=tickIncrement(t,e,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return n&&a.reverse(),a}function tickIncrement(t,e,r){var n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=e10?10:a>=e5?5:a>=e2?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=e10?10:a>=e5?5:a>=e2?2:1)}function tickStep(t,e,r){var n=Math.abs(e-t)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a>=e10?i*=10:a>=e5?i*=5:a>=e2&&(i*=2),e<t?-i:i}var prefix="$";function Map$1(){}function map$1(t,e){var r=new Map$1;if(t instanceof Map$1)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var n,i=-1,a=t.length;if(null==e)for(;++i<a;)r.set(i,t[i]);else for(;++i<a;)r.set(e(n=t[i],i,t),n)}else if(t)for(var o in t)r.set(o,t[o]);return r}function Set$1(){}Map$1.prototype=map$1.prototype={constructor:Map$1,has:function(t){return prefix+t in this},get:function(t){return this[prefix+t]},set:function(t,e){return this[prefix+t]=e,this},remove:function(t){var e=prefix+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===prefix&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===prefix&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===prefix&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===prefix&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===prefix&&++t;return t},empty:function(){for(var t in this)if(t[0]===prefix)return!1;return!0},each:function(t){for(var e in this)e[0]===prefix&&t(this[e],e.slice(1),this)}};var proto$2=map$1.prototype;function set(t,e){var r=new Set$1;if(t instanceof Set$1)t.each(function(t){r.add(t)});else if(t){var n=-1,i=t.length;if(null==e)for(;++n<i;)r.add(t[n]);else for(;++n<i;)r.add(e(t[n],n,t))}return r}Set$1.prototype=set.prototype={constructor:Set$1,has:proto$2.has,add:function(t){return this[prefix+(t+="")]=t,this},remove:proto$2.remove,clear:proto$2.clear,values:proto$2.keys,size:proto$2.size,empty:proto$2.empty,each:proto$2.each};var array$1=Array.prototype,map$2=array$1.map,slice$1=array$1.slice,implicit={name:"implicit"};function ordinal(t){var e=map$1(),r=[],n=implicit;function i(i){var a=i+"",o=e.get(a);if(!o){if(n!==implicit)return n;e.set(a,o=r.push(i))}return t[(o-1)%t.length]}return t=null==t?[]:slice$1.call(t),i.domain=function(t){if(!arguments.length)return r.slice();r=[],e=map$1();for(var n,a,o=-1,s=t.length;++o<s;)e.has(a=(n=t[o])+"")||e.set(a,r.push(n));return i},i.range=function(e){return arguments.length?(t=slice$1.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return ordinal().domain(r).range(t).unknown(n)},i}function define$1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function extend(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(t){var e;return t=(t+"").trim().toLowerCase(),(e=reHex3.exec(t))?new Rgb((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=reHex6.exec(t))?rgbn(parseInt(e[1],16)):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,r,n){return n<=0&&(t=e=r=NaN),new Rgb(t,e,r,n)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,r,n){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,r,null==n?1:n)}function Rgb(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function hex(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hsla(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,r,n)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(o=e===a?(r-n)/s+6*(r<n):r===a?(n-e)/s+2:(e-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Hsl(o,s,c,t.opacity)}function hsl(t,e,r,n){return 1===arguments.length?hslConvert(t):new Hsl(t,e,r,null==n?1:n)}function Hsl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function hsl2rgb(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}define$1(Color,color,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),define$1(Rgb,rgb,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),define$1(Hsl,hsl,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Rgb(hsl2rgb(t>=240?t-240:t+120,i,n),hsl2rgb(t,i,n),hsl2rgb(t<120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var deg2rad=Math.PI/180,rad2deg=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*deg2rad;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rgb||(t=rgbConvert(t));var r,n,i=rgb2lrgb(t.r),a=rgb2lrgb(t.g),o=rgb2lrgb(t.b),s=xyz2lab((.2225045*i+.7168786*a+.0606169*o)/Yn);return i===a&&a===o?r=n=s:(r=xyz2lab((.4360747*i+.3850649*a+.1430804*o)/Xn),n=xyz2lab((.0139322*i+.0971045*a+.7141733*o)/Zn)),new Lab(116*s-16,500*(r-s),200*(s-n),t.opacity)}function lab(t,e,r,n){return 1===arguments.length?labConvert(t):new Lab(t,e,r,null==n?1:n)}function Lab(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*rad2deg;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hcl(t,e,r,n){return 1===arguments.length?hclConvert(t):new Hcl(t,e,r,null==n?1:n)}function Hcl(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}define$1(Lab,lab,extend(Color,{brighter:function(t){return new Lab(this.l+K*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab(this.l-K*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=Xn*lab2xyz(e))-1.6168667*(t=Yn*lab2xyz(t))-.4906146*(r=Zn*lab2xyz(r))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*r),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}})),define$1(Hcl,hcl,extend(Color,{brighter:function(t){return new Hcl(this.h,this.c,this.l+K*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl(this.h,this.c,this.l-K*(null==t?1:t),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,r=t.g/255,n=t.b/255,i=(BC_DA*n+ED*e-EB*r)/(BC_DA+ED-EB),a=n-i,o=(E*(r-i)-C*a)/D,s=Math.sqrt(o*o+a*a)/(E*i*(1-i)),c=s?Math.atan2(o,a)*rad2deg-120:NaN;return new Cubehelix(c<0?c+360:c,s,i,t.opacity)}function cubehelix(t,e,r,n){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,e,r,null==n?1:n)}function Cubehelix(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function basis(t,e,r,n,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*r+(1+3*t+3*a-3*o)*n+o*i)/6}function basis$1(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],a=t[n+1],o=n>0?t[n-1]:2*i-a,s=n<e-1?t[n+2]:2*a-i;return basis((r-n/e)*e,o,i,a,s)}}function constant$1(t){return function(){return t}}function linear(t,e){return function(r){return t+r*e}}function exponential(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hue(t,e){var r=e-t;return r?linear(t,r>180||r<-180?r-360*Math.round(r/360):r):constant$1(isNaN(t)?e:t)}function gamma(t){return 1==(t=+t)?nogamma:function(e,r){return r-e?exponential(e,r,t):constant$1(isNaN(e)?r:e)}}function nogamma(t,e){var r=e-t;return r?linear(t,r):constant$1(isNaN(t)?e:t)}define$1(Cubehelix,cubehelix,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*deg2rad,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),i=Math.sin(t);return new Rgb(255*(e+r*(A*n+B*i)),255*(e+r*(C*n+D*i)),255*(e+r*(E*n)),this.opacity)}}));var rgb$1=function t(e){var r=gamma(e);function n(t,e){var n=r((t=rgb(t)).r,(e=rgb(e)).r),i=r(t.g,e.g),a=r(t.b,e.b),o=nogamma(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return n.gamma=t,n}(1);function rgbSpline(t){return function(e){var r,n,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=rgb(e[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=t(a),o=t(o),s=t(s),n.opacity=1,function(t){return n.r=a(t),n.g=o(t),n.b=s(t),n+""}}}var rgbBasis=rgbSpline(basis$1);function array$2(t,e){var r,n=e?e.length:0,i=t?Math.min(n,t.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=value(t[r],e[r]);for(;r<n;++r)o[r]=e[r];return function(t){for(r=0;r<i;++r)o[r]=a[r](t);return o}}function date(t,e){var r=new Date;return e-=t=+t,function(n){return r.setTime(t+e*n),r}}function number$1(t,e){return e-=t=+t,function(r){return t+e*r}}function object(t,e){var r,n={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)r in t?n[r]=value(t[r],e[r]):i[r]=e[r];return function(t){for(r in n)i[r]=n[r](t);return i}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var r,n,i,a=reA.lastIndex=reB.lastIndex=0,o=-1,s=[],c=[];for(t+="",e+="";(r=reA.exec(t))&&(n=reB.exec(e));)(i=n.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,c.push({i:o,x:number$1(r,n)})),a=reB.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?one(c[0].x):zero(e):(e=c.length,function(t){for(var r,n=0;n<e;++n)s[(r=c[n]).i]=r.x(t);return s.join("")})}function value(t,e){var r,n=typeof e;return null==e||"boolean"===n?constant$1(e):("number"===n?number$1:"string"===n?(r=color(e))?(e=r,rgb$1):string:e instanceof color?rgb$1:e instanceof Date?date:Array.isArray(e)?array$2:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:number$1)(t,e)}function interpolateRound(t,e){return e-=t=+t,function(r){return Math.round(t+e*r)}}var degrees=180/Math.PI,rho=Math.SQRT2;function cubehelix$1(t){return function e(r){function n(e,n){var i=t((e=cubehelix(e)).h,(n=cubehelix(n)).h),a=nogamma(e.s,n.s),o=nogamma(e.l,n.l),s=nogamma(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,r)),e.opacity=s(t),e+""}}return r=+r,n.gamma=e,n}(1)}cubehelix$1(hue);var cubehelixLong=cubehelix$1(nogamma);function constant$2(t){return function(){return t}}function number$2(t){return+t}var unit=[0,1];function deinterpolateLinear(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:constant$2(e)}function deinterpolateClamp(t){return function(e,r){var n=t(e=+e,r=+r);return function(t){return t<=e?0:t>=r?1:n(t)}}}function reinterpolateClamp(t){return function(e,r){var n=t(e=+e,r=+r);return function(t){return t<=0?e:t>=1?r:n(t)}}}function bimap(t,e,r,n){var i=t[0],a=t[1],o=e[0],s=e[1];return a<i?(i=r(a,i),o=n(s,o)):(i=r(i,a),o=n(o,s)),function(t){return o(i(t))}}function polymap(t,e,r,n){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)a[s]=r(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var r=bisectRight(t,e,1,i)-1;return o[r](a[r](e))}}function copy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function continuous(t,e){var r,n,i,a=unit,o=unit,s=value,c=!1;function u(){return r=Math.min(a.length,o.length)>2?polymap:bimap,n=i=null,h}function h(e){return(n||(n=r(a,o,c?deinterpolateClamp(t):t,s)))(+e)}return h.invert=function(t){return(i||(i=r(o,a,deinterpolateLinear,c?reinterpolateClamp(e):e)))(+t)},h.domain=function(t){return arguments.length?(a=map$2.call(t,number$2),u()):a.slice()},h.range=function(t){return arguments.length?(o=slice$1.call(t),u()):o.slice()},h.rangeRound=function(t){return o=slice$1.call(t),s=interpolateRound,u()},h.clamp=function(t){return arguments.length?(c=!!t,u()):c},h.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}function formatDecimal(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function exponent(t){return(t=formatDecimal(Math.abs(t)))?t[1]:NaN}function formatGroup(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){return new FormatSpecifier(t)}function FormatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function formatTrim(t){t:for(var e,r=t.length,n=1,i=-1;n<r;++n)switch(t[n]){case".":i=e=n;break;case"0":0===i&&(i=n),e=n;break;default:if(i>0){if(!+t[n])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}function formatPrefixAuto(t,e){var r=formatDecimal(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+formatDecimal(t,Math.max(0,e+a-1))[0]}function formatRounded(t,e){var r=formatDecimal(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded(100*t,e)},r:formatRounded,s:formatPrefixAuto,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function identity$2(t){return t}var locale,format,formatPrefix,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(t){var e=t.grouping&&t.thousands?formatGroup(t.grouping,t.thousands):identity$2,r=t.currency,n=t.decimal,i=t.numerals?formatNumerals(t.numerals):identity$2,a=t.percent||"%";function o(t){var o=(t=formatSpecifier(t)).fill,s=t.align,c=t.sign,u=t.symbol,h=t.zero,l=t.width,f=t.comma,d=t.precision,_=t.trim,p=t.type;"n"===p?(f=!0,p="g"):formatTypes[p]||(null==d&&(d=12),_=!0,p="g"),(h||"0"===o&&"="===s)&&(h=!0,o="0",s="=");var m="$"===u?r[0]:"#"===u&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",v="$"===u?r[1]:/[%p]/.test(p)?a:"",y=formatTypes[p],g=/[defgprs%]/.test(p);function b(t){var r,a,u,b=m,$=v;if("c"===p)$=y(t)+$,t="";else{var M=(t=+t)<0;if(t=y(Math.abs(t),d),_&&(t=formatTrim(t)),M&&0==+t&&(M=!1),b=(M?"("===c?c:"-":"-"===c||"("===c?"":c)+b,$=("s"===p?prefixes[8+prefixExponent/3]:"")+$+(M&&"("===c?")":""),g)for(r=-1,a=t.length;++r<a;)if(48>(u=t.charCodeAt(r))||u>57){$=(46===u?n+t.slice(r+1):t.slice(r))+$,t=t.slice(0,r);break}}f&&!h&&(t=e(t,1/0));var x=b.length+t.length+$.length,S=x<l?new Array(l-x+1).join(o):"";switch(f&&h&&(t=e(S+t,S.length?l-$.length:1/0),S=""),s){case"<":t=b+t+$+S;break;case"=":t=b+S+t+$;break;case"^":t=S.slice(0,x=S.length>>1)+b+t+$+S.slice(x);break;default:t=S+b+t+$}return i(t)}return d=null==d?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return t+""},b}return{format:o,formatPrefix:function(t,e){var r=o(((t=formatSpecifier(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3))),i=Math.pow(10,-n),a=prefixes[8+n/3];return function(t){return r(i*t)+a}}}}function defaultLocale(t){return locale=formatLocale(t),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,r){var n,i=t[0],a=t[t.length-1],o=tickStep(i,a,null==e?10:e);switch((r=formatSpecifier(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=r.precision||isNaN(n=precisionPrefix(o,s))||(r.precision=n),formatPrefix(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(n=precisionRound(o,Math.max(Math.abs(i),Math.abs(a))))||(r.precision=n-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(n=precisionFixed(o))||(r.precision=n-2*("%"===r.type))}return format(r)}function linearish(t){var e=t.domain;return t.ticks=function(t){var r=e();return ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){return tickFormat(e(),t,r)},t.nice=function(r){null==r&&(r=10);var n,i=e(),a=0,o=i.length-1,s=i[a],c=i[o];return c<s&&(n=s,s=c,c=n,n=a,a=o,o=n),(n=tickIncrement(s,c,r))>0?n=tickIncrement(s=Math.floor(s/n)*n,c=Math.ceil(c/n)*n,r):n<0&&(n=tickIncrement(s=Math.ceil(s*n)/n,c=Math.floor(c*n)/n,r)),n>0?(i[a]=Math.floor(s/n)*n,i[o]=Math.ceil(c/n)*n,e(i)):n<0&&(i[a]=Math.ceil(s*n)/n,i[o]=Math.floor(c*n)/n,e(i)),t},t}function linear$1(){var t=continuous(deinterpolateLinear,number$1);return t.copy=function(){return copy(t,linear$1())},linearish(t)}function nice(t,e){var r,n=0,i=(t=t.slice()).length-1,a=t[n],o=t[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),t[n]=e.floor(a),t[i]=e.ceil(o),t}function deinterpolate(t,e){return(e=Math.log(e/t))?function(r){return Math.log(r/t)/e}:constant$2(e)}function reinterpolate(t,e){return t<0?function(r){return-Math.pow(-e,r)*Math.pow(-t,1-r)}:function(r){return Math.pow(e,r)*Math.pow(t,1-r)}}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function reflect(t){return function(e){return-t(-e)}}function log(){var t=continuous(deinterpolate,reinterpolate).domain([1,10]),e=t.domain,r=10,n=logp(10),i=powp(10);function a(){return n=logp(r),i=powp(r),e()[0]<0&&(n=reflect(n),i=reflect(i)),t}return t.base=function(t){return arguments.length?(r=+t,a()):r},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,o=e(),s=o[0],c=o[o.length-1];(a=c<s)&&(f=s,s=c,c=f);var u,h,l,f=n(s),d=n(c),_=null==t?10:+t,p=[];if(!(r%1)&&d-f<_){if(f=Math.round(f)-1,d=Math.round(d)+1,s>0){for(;f<d;++f)for(h=1,u=i(f);h<r;++h)if(!((l=u*h)<s)){if(l>c)break;p.push(l)}}else for(;f<d;++f)for(h=r-1,u=i(f);h>=1;--h)if(!((l=u*h)<s)){if(l>c)break;p.push(l)}}else p=ticks(f,d,Math.min(d-f,_)).map(i);return a?p.reverse():p},t.tickFormat=function(e,a){if(null==a&&(a=10===r?".0e":","),"function"!=typeof a&&(a=format(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,r*e/t.ticks().length);return function(t){var e=t/i(Math.round(n(t)));return e*r<r-.5&&(e*=r),e<=o?a(t):""}},t.nice=function(){return e(nice(e(),{floor:function(t){return i(Math.floor(n(t)))},ceil:function(t){return i(Math.ceil(n(t)))}}))},t.copy=function(){return copy(t,log().base(r))},t}function raise(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function pow(){var t=1,e=continuous(function(e,r){return(r=raise(r,t)-(e=raise(e,t)))?function(n){return(raise(n,t)-e)/r}:constant$2(r)},function(e,r){return r=raise(r,t)-(e=raise(e,t)),function(n){return raise(e+r*n,1/t)}}),r=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,r(r())):t},e.copy=function(){return copy(e,pow().exponent(t))},linearish(e)}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var t0$1=new Date,t1$1=new Date;function newInterval(t,e,r,n){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(r){return t(r=new Date(r-1)),e(r,1),t(r),r},i.round=function(t){var e=i(t),r=i.ceil(t);return t-e<r-t?e:r},i.offset=function(t,r){return e(t=new Date(+t),null==r?1:Math.floor(r)),t},i.range=function(r,n,a){var o,s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n&&a>0))return s;do{s.push(o=new Date(+r)),e(r,a),t(r)}while(o<r&&r<n);return s},i.filter=function(r){return newInterval(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;e(t,-1),!r(t););else for(;--n>=0;)for(;e(t,1),!r(t););})},r&&(i.count=function(e,n){return t0$1.setTime(+e),t1$1.setTime(+n),t(t0$1),t(t1$1),Math.floor(r(t0$1,t1$1))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(n?function(e){return n(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var millisecond=newInterval(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});millisecond.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?newInterval(function(e){e.setTime(Math.floor(e/t)*t)},function(e,r){e.setTime(+e+r*t)},function(e,r){return(r-e)/t}):millisecond:null};var milliseconds=millisecond.range,durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,second=newInterval(function(t){t.setTime(Math.floor(t/durationSecond)*durationSecond)},function(t,e){t.setTime(+t+e*durationSecond)},function(t,e){return(e-t)/durationSecond},function(t){return t.getUTCSeconds()}),seconds=second.range,minute=newInterval(function(t){t.setTime(Math.floor(t/durationMinute)*durationMinute)},function(t,e){t.setTime(+t+e*durationMinute)},function(t,e){return(e-t)/durationMinute},function(t){return t.getMinutes()}),minutes=minute.range,hour=newInterval(function(t){var e=t.getTimezoneOffset()*durationMinute%durationHour;e<0&&(e+=durationHour),t.setTime(Math.floor((+t-e)/durationHour)*durationHour+e)},function(t,e){t.setTime(+t+e*durationHour)},function(t,e){return(e-t)/durationHour},function(t){return t.getHours()}),hours=hour.range,day=newInterval(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay},function(t){return t.getDate()-1}),days=day.range;function weekday(t){return newInterval(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,thursdays=thursday.range,month=newInterval(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),months=month.range,year=newInterval(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});year.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)}):null};var years=year.range,utcMinute=newInterval(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*durationMinute)},function(t,e){return(e-t)/durationMinute},function(t){return t.getUTCMinutes()}),utcMinutes=utcMinute.range,utcHour=newInterval(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*durationHour)},function(t,e){return(e-t)/durationHour},function(t){return t.getUTCHours()}),utcHours=utcHour.range,utcDay=newInterval(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/durationDay},function(t){return t.getUTCDate()-1}),utcDays=utcDay.range;function utcWeekday(t){return newInterval(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/durationWeek})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcThursdays=utcThursday.range,utcMonth=newInterval(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),utcMonths=utcMonth.range,utcYear=newInterval(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});utcYear.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)}):null};var utcYears=utcYear.range;function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newYear(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale$1(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=formatRe(i),h=formatLookup(i),l=formatRe(a),f=formatLookup(a),d=formatRe(o),_=formatLookup(o),p=formatRe(s),m=formatLookup(s),v=formatRe(c),y=formatLookup(c),g={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return i[+(t.getHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},$={a:function(t,e,r){var n=d.exec(e.slice(r));return n?(t.w=_[n[0].toLowerCase()],r+n[0].length):-1},A:function(t,e,r){var n=l.exec(e.slice(r));return n?(t.w=f[n[0].toLowerCase()],r+n[0].length):-1},b:function(t,e,r){var n=v.exec(e.slice(r));return n?(t.m=y[n[0].toLowerCase()],r+n[0].length):-1},B:function(t,e,r){var n=p.exec(e.slice(r));return n?(t.m=m[n[0].toLowerCase()],r+n[0].length):-1},c:function(t,r,n){return S(t,e,r,n)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,e,r){var n=u.exec(e.slice(r));return n?(t.p=h[n[0].toLowerCase()],r+n[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,e,n){return S(t,r,e,n)},X:function(t,e,r){return S(t,n,e,r)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function M(t,e){return function(r){var n,i,a,o=[],s=-1,c=0,u=t.length;for(r instanceof Date||(r=new Date(+r));++s<u;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(i=pads[n=t.charAt(++s)])?n=t.charAt(++s):i="e"===n?" ":"0",(a=e[n])&&(n=a(r,i)),o.push(n),c=s+1);return o.push(t.slice(c,s)),o.join("")}}function x(t,e){return function(r){var n,i,a=newYear(1900);if(S(a,t,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=utcDate(newYear(a.y))).getUTCDay(),n=i>4||0===i?utcMonday.ceil(n):utcMonday(n),n=utcDay.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=e(newYear(a.y))).getDay(),n=i>4||0===i?monday.ceil(n):monday(n),n=day.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?utcDate(newYear(a.y)).getUTCDay():e(newYear(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate(a)):e(a)}}function S(t,e,r,n){for(var i,a,o=0,s=e.length,c=r.length;o<s;){if(n>=c)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=$[i in pads?e.charAt(o++):i])||(n=a(t,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return g.x=M(r,g),g.X=M(n,g),g.c=M(e,g),b.x=M(r,b),b.X=M(n,b),b.c=M(e,b),{format:function(t){var e=M(t+="",g);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",localDate);return e.toString=function(){return t},e},utcFormat:function(t){var e=M(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t,utcDate);return e.toString=function(){return t},e}}}var locale$1,timeFormat,timeParse,utcFormat,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var e={},r=-1,n=t.length;++r<n;)e[t[r].toLowerCase()]=r;return e}function parseWeekdayNumberSunday(t,e,r){var n=numberRe.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function parseWeekdayNumberMonday(t,e,r){var n=numberRe.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function parseWeekNumberSunday(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function parseWeekNumberISO(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function parseWeekNumberMonday(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function parseFullYear(t,e,r){var n=numberRe.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function parseYear(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function parseZone(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function parseMonthNumber(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function parseDayOfMonth(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function parseDayOfYear(t,e,r){var n=numberRe.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function parseHour24(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function parseMinutes(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function parseSeconds(t,e,r){var n=numberRe.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function parseMilliseconds(t,e,r){var n=numberRe.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function parseMicroseconds(t,e,r){var n=numberRe.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function parseLiteralPercent(t,e,r){var n=percentRe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function parseUnixTimestamp(t,e,r){var n=numberRe.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function parseUnixTimestampSeconds(t,e,r){var n=numberRe.exec(e.slice(r));return n?(t.Q=1e3*+n[0],r+n[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+day.count(year(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad(sunday.count(year(t),t),e,2)}function formatWeekNumberISO(t,e){var r=t.getDay();return t=r>=4||0===r?thursday(t):thursday.ceil(t),pad(thursday.count(year(t),t)+(4===year(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(monday.count(year(t),t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t),t),e,2)}function formatUTCWeekNumberISO(t,e){var r=t.getUTCDay();return t=r>=4||0===r?utcThursday(t):utcThursday.ceil(t),pad(utcThursday.count(utcYear(t),t)+(4===utcYear(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t),t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale$1(t){return locale$1=formatLocale$1(t),timeFormat=locale$1.format,timeParse=locale$1.parse,utcFormat=locale$1.utcFormat,utcParse=locale$1.utcParse,locale$1}defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(t){return t.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier);function parseIsoNative(t){var e=new Date(t);return isNaN(e)?null:e}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier),durationSecond$1=1e3,durationMinute$1=60*durationSecond$1,durationHour$1=60*durationMinute$1,durationDay$1=24*durationHour$1,durationWeek$1=7*durationDay$1,durationMonth=30*durationDay$1,durationYear=365*durationDay$1;function date$1(t){return new Date(t)}function number$3(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,r,n,i,a,o,s,c){var u=continuous(deinterpolateLinear,number$1),h=u.invert,l=u.domain,f=c(".%L"),d=c(":%S"),_=c("%I:%M"),p=c("%I %p"),m=c("%a %d"),v=c("%b %d"),y=c("%B"),g=c("%Y"),b=[[o,1,durationSecond$1],[o,5,5*durationSecond$1],[o,15,15*durationSecond$1],[o,30,30*durationSecond$1],[a,1,durationMinute$1],[a,5,5*durationMinute$1],[a,15,15*durationMinute$1],[a,30,30*durationMinute$1],[i,1,durationHour$1],[i,3,3*durationHour$1],[i,6,6*durationHour$1],[i,12,12*durationHour$1],[n,1,durationDay$1],[n,2,2*durationDay$1],[r,1,durationWeek$1],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function $(s){return(o(s)<s?f:a(s)<s?d:i(s)<s?_:n(s)<s?p:e(s)<s?r(s)<s?m:v:t(s)<s?y:g)(s)}function M(e,r,n,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(n-r)/e,o=bisector(function(t){return t[2]}).right(b,a);o===b.length?(i=tickStep(r/durationYear,n/durationYear,e),e=t):o?(i=(o=b[a/b[o-1][2]<b[o][2]/a?o-1:o])[1],e=o[0]):(i=Math.max(tickStep(r,n,e),1),e=s)}return null==i?e:e.every(i)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?l(map$2.call(t,number$3)):l().map(date$1)},u.ticks=function(t,e){var r,n=l(),i=n[0],a=n[n.length-1],o=a<i;return o&&(r=i,i=a,a=r),r=(r=M(t,i,a,e))?r.range(i,a+1):[],o?r.reverse():r},u.tickFormat=function(t,e){return null==e?$:c(e)},u.nice=function(t,e){var r=l();return(t=M(t,r[0],r[r.length-1],e))?l(nice(r,t)):u},u.copy=function(){return copy(u,calendar(t,e,r,n,i,a,o,s,c))},u}function scaleTime(){return calendar(year,month,sunday,day,hour,minute,second,millisecond,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function sequential(t){var e=0,r=1,n=1,i=!1;function a(r){var a=(r-e)*n;return t(i?Math.max(0,Math.min(1,a)):a)}return a.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n=e===r?0:1/(r-e),a):[e,r]},a.clamp=function(t){return arguments.length?(i=!!t,a):i},a.interpolator=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return sequential(t).domain([e,r]).clamp(i)},linearish(a)}function diverging(t){var e=0,r=.5,n=1,i=1,a=1,o=!1;function s(e){var n=.5+((e=+e)-r)*(e<r?i:a);return t(o?Math.max(0,Math.min(1,n)):n)}return s.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n=+t[2],i=e===r?0:.5/(r-e),a=r===n?0:.5/(n-r),s):[e,r,n]},s.clamp=function(t){return arguments.length?(o=!!t,s):o},s.interpolator=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return diverging(t).domain([e,r,n]).clamp(o)},linearish(s)}function offsetZeroes(t){return function(e){return 0===e&&(e=1e6),t(e)}}var quantitative={linear:linear$2,log:log$1,square:square,squareRoot:squareRoot};function linear$2(t,e){return linear$1().domain(t).range(e)}function log$1(t,e){var r=JSON.parse(stringify$1(t));return 0===r[0]&&(r[0]+=1e-6),offsetZeroes(log().domain(r).range(e))}function square(t,e){return pow().exponent(2).domain(t).range(e)}function squareRoot(t,e){return pow().exponent(.5).domain(t).range(e)}var temporal={temporal:temporal$1};function temporal$1(t,e){return scaleTime().domain(t).nice().range(e)}for(var ITERATOR$9=_wks("iterator"),TO_STRING_TAG$1=_wks("toStringTag"),ArrayValues=_iterators.Array,DOMIterables$1={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=_objectKeys(DOMIterables$1),i$2=0;i$2<collections.length;i$2++){var key$1,NAME$1=collections[i$2],explicit=DOMIterables$1[NAME$1],Collection$1=_global[NAME$1],proto$3=Collection$1&&Collection$1.prototype;if(proto$3&&(proto$3[ITERATOR$9]||_hide(proto$3,ITERATOR$9,ArrayValues),proto$3[TO_STRING_TAG$1]||_hide(proto$3,TO_STRING_TAG$1,NAME$1),_iterators[NAME$1]=ArrayValues,explicit))for(key$1 in es6_array_iterator)proto$3[key$1]||_redefine(proto$3,key$1,es6_array_iterator[key$1],!0)}var categorical={equidistant:equidistant};function equidistant(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=(e[1]-e[0]-r-n)/t.length,a={},o=0;return t.forEach(function(t){a[t]=e[0]+r+o*i+i/2,o++}),function(t){return a[t]}}function createCoordsScale(t,e,r,n,i){if("quantitative"===e){var a=i.type||"linear";checkValidScale(t,e,a,quantitative);var o=quantitative[a](r,n);if(i.absolute)return function(t){return o(Math.abs(t))};if(!i.absolute)return o}if("temporal"===e){var s=i.type||"temporal";return checkValidScale(t,e,s,temporal),temporal[s](r,n)}if("categorical"===e){var c=i.type||"equidistant";return checkValidScale(t,e,c,categorical),categorical[c](r,n)}}function createGeoScale(t){var e,r,n=t.ranges,i=t.dataInterface,a=i.getDomain("geometry.x"),o=i.getDomain("geometry.y"),s=n.x[1]-n.x[0],c=n.y[1]-n.y[0],u=(n.x[0]+n.x[1])/2,h=(n.y[0]+n.y[1])/2,l=s/(a[1]-a[0]),f=c/(o[1]-o[0]),d=[u,h];if(l<f){var _=s/2,p=[h-_,h+_];e=createCoordsScale("x","quantitative",a,n.x,{}),r=createCoordsScale("y","quantitative",o,p,{})}if(l>f){var m=c/2;e=createCoordsScale("x","quantitative",a,[u-m,u+m],{}),r=createCoordsScale("y","quantitative",o,n.y,{})}return{scaleX:e,scaleY:r,center:d}}var _stringAt$1=function(t){return function(e,r){var n,i,a=String(_defined(e)),o=_toInteger(r),s=a.length;return o<0||o>=s?t?"":void 0:(n=a.charCodeAt(o))<55296||n>56319||o+1===s||(i=a.charCodeAt(o+1))<56320||i>57343?t?a.charAt(o):n:t?a.slice(o,o+2):i-56320+(n-55296<<10)+65536}},at=_stringAt$1(!0),_advanceStringIndex=function(t,e,r){return e+(r?at(t,e).length:1)},builtinExec=RegExp.prototype.exec,_regexpExecAbstract=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==_classof(t))throw new TypeError("RegExp#exec called on incompatible receiver");return builtinExec.call(t,e)},nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,LAST_INDEX="lastIndex",UPDATES_LAST_INDEX_WRONG=function(){var t=/a/,e=/b*/g;return nativeExec.call(t,"a"),nativeExec.call(e,"a"),0!==t[LAST_INDEX]||0!==e[LAST_INDEX]}(),NPCG_INCLUDED=void 0!==/()??/.exec("")[1],PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED;PATCH&&(patchedExec=function(t){var e,r,n,i,a=this;return NPCG_INCLUDED&&(r=new RegExp("^"+a.source+"$(?!\\s)",_flags.call(a))),UPDATES_LAST_INDEX_WRONG&&(e=a[LAST_INDEX]),n=nativeExec.call(a,t),UPDATES_LAST_INDEX_WRONG&&n&&(a[LAST_INDEX]=a.global?n.index+n[0].length:e),NPCG_INCLUDED&&n&&n.length>1&&nativeReplace.call(n[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)}),n});var _regexpExec=patchedExec;_export({target:"RegExp",proto:!0,forced:_regexpExec!==/./.exec},{exec:_regexpExec});var SPECIES$2=_wks("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!_fails(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}(),_fixReWks=function(t,e,r){var n=_wks(t),i=!_fails(function(){var e={};return e[n]=function(){return 7},7!=""[t](e)}),a=i?!_fails(function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[SPECIES$2]=function(){return r}),r[n](""),!e}):void 0;if(!i||!a||"replace"===t&&!REPLACE_SUPPORTS_NAMED_GROUPS||"split"===t&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var o=/./[n],s=r(_defined,n,""[t],function(t,e,r,n,a){return e.exec===_regexpExec?i&&!a?{done:!0,value:o.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),c=s[0],u=s[1];_redefine(String.prototype,t,c),_hide(RegExp.prototype,n,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}},$min=Math.min,$push=[].push,$SPLIT="split",LENGTH="length",LAST_INDEX$1="lastIndex",SUPPORTS_Y=!!function(){try{return new RegExp("x","y")}catch(t){}}();_fixReWks("split",2,function(t,e,r,n){var i;return i="c"=="abbc"[$SPLIT](/(b)*/)[1]||4!="test"[$SPLIT](/(?:)/,-1)[LENGTH]||2!="ab"[$SPLIT](/(?:ab)*/)[LENGTH]||4!="."[$SPLIT](/(.?)(.?)/)[LENGTH]||"."[$SPLIT](/()()/)[LENGTH]>1||""[$SPLIT](/.?/)[LENGTH]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!_isRegexp(t))return r.call(n,t,e);for(var i,a,o,s=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,h=void 0===e?4294967295:e>>>0,l=new RegExp(t.source,c+"g");(i=_regexpExec.call(l,n))&&!((a=l[LAST_INDEX$1])>u&&(s.push(n.slice(u,i.index)),i[LENGTH]>1&&i.index<n[LENGTH]&&$push.apply(s,i.slice(1)),o=i[0][LENGTH],u=a,s[LENGTH]>=h));)l[LAST_INDEX$1]===i.index&&l[LAST_INDEX$1]++;return u===n[LENGTH]?!o&&l.test("")||s.push(""):s.push(n.slice(u)),s[LENGTH]>h?s.slice(0,h):s}:"0"[$SPLIT](void 0,0)[LENGTH]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var a=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,a,n):i.call(String(a),r,n)},function(t,e){var a=n(i,t,this,e,i!==r);if(a.done)return a.value;var o=_anObject(t),s=String(this),c=_speciesConstructor(o,RegExp),u=o.unicode,h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(SUPPORTS_Y?"y":"g"),l=new c(SUPPORTS_Y?o:"^(?:"+o.source+")",h),f=void 0===e?4294967295:e>>>0;if(0===f)return[];if(0===s.length)return null===_regexpExecAbstract(l,s)?[s]:[];for(var d=0,_=0,p=[];_<s.length;){l.lastIndex=SUPPORTS_Y?_:0;var m,v=_regexpExecAbstract(l,SUPPORTS_Y?s:s.slice(_));if(null===v||(m=$min(_toLength(l.lastIndex+(SUPPORTS_Y?0:_)),s.length))===d)_=_advanceStringIndex(s,_,u);else{if(p.push(s.slice(d,_)),p.length===f)return p;for(var y=1;y<=v.length-1;y++)if(p.push(v[y]),p.length===f)return p;_=d=m}}return p.push(s.slice(d)),p}]});var STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];_export(_export.P+_export.F*_failsIsRegexp(STARTS_WITH),"String",{startsWith:function(t){var e=_stringContext(this,t,STARTS_WITH),r=_toLength(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return $startsWith?$startsWith.call(e,n,r):e.slice(r,r+n.length)===n}});var f$6={}.propertyIsEnumerable,_objectPie$1={f:f$6},isEnum=_objectPie$1.f,_objectToArray=function(t){return function(e){for(var r,n=_toIobject$1(e),i=_objectKeys$1(n),a=i.length,o=0,s=[];a>o;)isEnum.call(n,r=i[o++])&&s.push(t?[r,n[r]]:n[r]);return s}},$values=_objectToArray(!1);_export$1(_export$1.S,"Object",{values:function(t){return $values(t)}});var values$1=_core$1.Object.values,values$2=values$1;function getDataType(t,e){switch(t.constructor){case Number:return"quantitative";case String:return"categorical";case Date:return"temporal";case Object:if(t.hasOwnProperty("type")&&t.hasOwnProperty("coordinates"))return"geometry";if(values$2(t).every(function(t){return t.constructor===Array}))return"nested";throwIf(e);break;case Array:if(2===t.length&&t[0].constructor===t[1].constructor){if(t[0].constructor===Number)return"interval:quantitative";if(t[0].constructor===Date)return"interval:temporal";throwIf(e);break}throwIf(e);break;default:throwIf(e)}}function throwIf(t){if(t)throw new Error("Invalid data")}function is$2(t){return void 0!==t}function isnt(t){return void 0===t}function invalid(t){return null==t||t.constructor===Number&&!isFinite(t)}function invalidPoint(t){return invalid(t)||invalid(t[0])||invalid(t[1])}function parseScaleOptions(t,e,r){var n,i,a;if(![Array,String,Object].includes(t.constructor))throw new Error("Invalid scale options: only Array, String or Object allowed");if(t.constructor===String){if(t.startsWith("#"))return r.getScale(t);a={domain:t}}else if(t.constructor===Array)a={domain:t};else{if(!t.domain)throw new Error("Invalid scale options: missing required option 'domain'");a=t}var o=a.domain.constructor;if(o===String)if(e.ready()){if(!e.hasColumn(a.domain))throw new Error("Invalid scale options: domain '".concat(n,"' not found"));n=a.absolute?absoluteDomain(e.getColumn(a.domain)):e.getDomain(a.domain),i=e.getType(a.domain)}else n=[0,1],i="quantitative";return o===Array&&(checkValidDomainArray(a.domain),n=a.domain,a.absolute&&(n=absoluteDomain(n)),i=getDataType(n[0])),[n=updateDomain(n,i,a),i,a]}function checkValidDomainArray(t){if(t.length<2)throw new Error("Invalid domain specification array: length shorter than 2");var e=!1;if(t[0].constructor===Number)t[1].constructor===Number&&2===t.length||(e=!0);else if(t[0].constructor===String){for(var r=1;r<t.length;r++)if(t[r].constructor!==String){e=!0;break}}else t[0].constructor===Date&&(t[1].constructor===Date&&2===t.length||(e=!0));if(e)throw new Error("Invalid domain specification array")}function updateDomain(t,e,r,n){if(validScalingOptions(e,r)){var i=[t[0],t[1]];return is$2(r.domainMin)&&(i[0]=r.domainMin),is$2(r.domainMax)&&(i[1]=r.domainMax),i}return t}function validScalingOptions(t,e){if("categorical"===t){if(hasAnyWrongProperty(e))throw new Error("Invalid scaling options for categorical domain: ".concat(stringify$1(e)));return!1}return checkTypes(t,e),!0}function hasAnyWrongProperty(t){for(var e=["domainMin","domainMax","domainMid","absolute"],r=0;r<e.length;r++){var n=e[r];if(t.hasOwnProperty(n))return!0}return!1}function checkTypes(t,e){for(var r=["domainMin","domainMax","domainMid"],n=0;n<r.length;n++){var i=r[n];if(e.hasOwnProperty(i)){var a=getDataType(e[i]);if(t.startsWith("interval")){if(a!==t.split(":")[1])throw new Error("Invalid type for ".concat(i,": '").concat(a,"'. Expected type '").concat(t,"'"))}else if(a!==t)throw new Error("Invalid type for ".concat(i,": '").concat(a,"'. Expected type '").concat(t,"'"))}}}function absoluteDomain(t){var e=1/0,r=-1/0,n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(t);!(n=(o=s.next()).done);n=!0){var c=o.value,u=Math.abs(c);e=u<e?u:e,r=u>r?u:r}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return[e,r]}function parseRange(t,e){var r=[t[0],t[1]];return is$2(e.rangeMin)&&(r[0]=e.domainMin),is$2(e.rangeMax)&&(r[1]=e.domainMax),r}function getPrimitive(t){return t.startsWith("interval")?t.split(":")[1]:t}var CoordinateTransformation=function(){function t(e){_classCallCheck(this,t),e.scales.hasOwnProperty("geo")?this.setGeoTransformation(e):this.setTransformation(e)}return _createClass(t,[{key:"setTransformation",value:function(t){var e=this,r=t.scales,n=t.ranges,i=t.dataInterface,a=t.scaleManager,o=_slicedToArray(parseScaleOptions(r.x,i,a),3),s=o[0],c=o[1],u=o[2],h=_slicedToArray(parseScaleOptions(r.y,i,a),3),l=h[0],f=h[1],d=h[2];if(c=getPrimitive(c),f=getPrimitive(f),this.domainTypes={x:c,y:f},this.domains={},["categorical","temporal"].includes(this.domainTypes.x)?this.domains.x=n.x:this.domains.x=s,["categorical","temporal"].includes(this.domainTypes.y)?this.domains.y=n.y:this.domains.y=l,this.ranges={x:parseRange(n.x,u),y:parseRange(n.y,d)},this.scaleX=createCoordsScale("x",c,s,this.ranges.x,u),this.scaleY=createCoordsScale("y",f,l,this.ranges.y,d),["categorical","temporal"].includes(this.domainTypes.x)?this.getX=function(t){return t.constructor===Number?t:e.scaleX(t)}:this.getX=this.scaleX,["categorical","temporal"].includes(this.domainTypes.y)?this.getY=function(t){return t.constructor===Number?t:e.scaleY(t)}:this.getY=this.scaleY,"scale"===t.type&&(this.transform=function(t){var r=_slicedToArray(t,2),n=r[0],i=r[1];return[e.getX(n),e.getY(i)]}),"polar"===t.type){var _=createCoordsScale("x","quantitative",this.ranges.x,[0,2*Math.PI],{}),p=createCoordsScale("y","quantitative",this.ranges.y,[0,1],{}),m=createCoordsScale("x","quantitative",[-1,1],this.ranges.x,{}),v=createCoordsScale("y","quantitative",[-1,1],this.ranges.y,{});this.transform=function(t){var r=_slicedToArray(t,2),n=r[0],i=r[1],a=e.getX(n),o=e.getY(i),s=polarToCartesian(_(a),p(o));return[m(s[0]),v(s[1])]}}}},{key:"setGeoTransformation",value:function(t){var e=this,r=t.ranges,n=t.dataInterface,i=n.getDomain("geometry.x"),a=n.getDomain("geometry.y");this.domains={x:i,y:a},this.domainTypes={x:"quantitative",y:"quantitative"},this.ranges=r;var o=createGeoScale(t),s=o.scaleX,c=o.scaleY,u=o.center;this.scaleX=s,this.scaleY=c,this.center=u,this.getX=this.scaleX,this.getY=this.scaleY,this.transform=function(t){var r=_slicedToArray(t,2),n=r[0],i=r[1];return[e.getX(n),e.getY(i)]}}}]),t}();function polarToCartesian(t,e){return[e*Math.sin(t),e*Math.cos(t)]}var CoordinateSystem={props:{width:{type:Number,required:!0},height:{type:Number,required:!0},flip:{type:Boolean,default:!0}},data:function(){return{ready:!1,coordinateTree:new CoordinateTree}},mounted:function(){this.setCoordinateTreeRoot(),this.ready=!0},methods:{setCoordinateTreeRoot:function(){var t={x:[0,this.width],y:[0,this.height]},e={x:[0,this.width],y:[0,this.height]};this.flip&&(e.y=[this.height,0]);var r=new CoordinateTransformation({type:"scale",scales:t,ranges:e});this.coordinateTree.setRoot(r)}},provide:function(){return{$$coordinateTree:this.coordinateTree,$$transform:this.coordinateTree.getTotalTransformation("root"),$$coordinateTreeParent:"root"}}},ENDS_WITH="endsWith",$endsWith=""[ENDS_WITH];function adjustToAnchorPoint(t,e,r,n,i){var a=_slicedToArray(t,2),o=a[0],s=a[1];if(n===i)return[o,s];var c=[];if("center"===n?c=[o,s]:(c[0]=n.startsWith("l")?o-e/2:o+e/2,c[1]=n.endsWith("b")?s+r/2:s-r/2),"center"===i)return c;var u=_slicedToArray(c,2),h=u[0],l=u[1],f=[];return f[0]=i.startsWith("l")?h+e/2:h-e/2,f[1]=i.endsWith("b")?l-r/2:l+r/2,f}function textAnchorPoint(t){switch(t){case"center":return{textAnchor:"middle",dominantBaseline:"middle"};case"lb":return{textAnchor:"start",dominantBaseline:"alphabetic"};case"lt":return{textAnchor:"start",dominantBaseline:"hanging"};case"rt":return{textAnchor:"end",dominantBaseline:"hanging"};case"rb":return{textAnchor:"end",dominantBaseline:"alphabetic"};case"l":return{textAnchor:"start",dominantBaseline:"middle"};case"r":return{textAnchor:"end",dominantBaseline:"middle"};case"b":return{textAnchor:"middle",dominantBaseline:"alphabetic"};case"t":return{textAnchor:"middle",dominantBaseline:"hanging"}}}_export(_export.P+_export.F*_failsIsRegexp(ENDS_WITH),"String",{endsWith:function(t){var e=_stringContext(this,t,ENDS_WITH),r=arguments.length>1?arguments[1]:void 0,n=_toLength(e.length),i=void 0===r?n:Math.min(_toLength(r),n),a=String(t);return $endsWith?$endsWith.call(e,a,i):e.slice(i-a.length,i)===a}});var script={mixins:[Mark,CoordinateSystem],props:{x:{type:Number,required:!0},y:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb"].includes(t)}}},computed:{transformedXY:function(){if(this.__update)return this.$$transform([this.x,this.y])},anchorPointAdjustedXY:function(){return adjustToAnchorPoint(this.transformedXY,this.width,this.height,"lt",this.anchorPoint)},translate:function(){var t=_slicedToArray(this.anchorPointAdjustedXY,2),e=t[0],r=t[1];return"translate(".concat(e,", ").concat(r,")")}}};function normalizeComponent(t,e,r,n,i,a,o,s,c,u){"function"==typeof o&&(c=s,s=o,o=!1);const h="function"==typeof r?r.options:r;let l;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),n&&(h._scopeId=n),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):e&&(l=o?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),l)if(h.functional){const t=h.render;h.render=function(e,r){return l.call(r),t(e,r)}}else{const t=h.beforeCreate;h.beforeCreate=t?[].concat(t,l):[l]}return r}var __vue_script__=script;script.__file="Glyph.vue";var __vue_render__=function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("g",{staticClass:"glyph",attrs:{transform:this.translate}},[this._t("default")],2):this._e()},__vue_staticRenderFns__=[],__vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1,Glyph=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,void 0,void 0),script$1={mixins:[Mark],props:{x:{type:[Number,String,Date,Object,void 0],default:void 0},y:{type:[Number,String,Date,Object,void 0],default:void 0},width:{type:[Number,Object],default:10},height:{type:[Number,Object],default:10},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb"].includes(t)}}},computed:{aesthetics:function(){return{x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),width:this.parseAesthetic(this.width),height:this.parseAesthetic(this.height),anchorPoint:this.parseProperty(this.anchorPoint,{default:"center"})}}},methods:{renderSVG:function(t,e){return t(Glyph,{props:e},this.$slots.default)}}},__vue_script__$1=script$1;script$1.__file="GlyphWrapper.vue";var __vue_inject_styles__$1=void 0,__vue_scope_id__$1=void 0,__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=void 0,Glyph$1=normalizeComponent({},__vue_inject_styles__$1,__vue_script__$1,__vue_scope_id__$1,__vue_is_functional_template__$1,__vue_module_identifier__$1,void 0,void 0),max$3=Math.max,min$5=Math.min,floor$2=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&`']|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&`']|\d\d?)/g,maybeToString=function(t){return void 0===t?t:String(t)};_fixReWks("replace",2,function(t,e,r,n){return[function(n,i){var a=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(t,e){var a=n(r,t,this,e);if(a.done)return a.value;var o=_anObject(t),s=String(this),c="function"==typeof e;c||(e=String(e));var u=o.global;if(u){var h=o.unicode;o.lastIndex=0}for(var l=[];;){var f=_regexpExecAbstract(o,s);if(null===f)break;if(l.push(f),!u)break;""===String(f[0])&&(o.lastIndex=_advanceStringIndex(s,_toLength(o.lastIndex),h))}for(var d="",_=0,p=0;p<l.length;p++){f=l[p];for(var m=String(f[0]),v=max$3(min$5(_toInteger(f.index),s.length),0),y=[],g=1;g<f.length;g++)y.push(maybeToString(f[g]));var b=f.groups;if(c){var $=[m].concat(y,v,s);void 0!==b&&$.push(b);var M=String(e.apply(void 0,$))}else M=i(m,s,v,y,b,e);v>=_&&(d+=s.slice(_,v)+M,_=v+m.length)}return d+s.slice(_)}];function i(t,e,n,i,a,o){var s=n+t.length,c=i.length,u=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==a&&(a=_toObject(a),u=SUBSTITUTION_SYMBOLS),r.call(o,u,function(r,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(s);case"<":u=a[o.slice(1,-1)];break;default:var h=+o;if(0===h)return r;if(h>c){var l=floor$2(h/10);return 0===l?r:l<=c?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):r}u=i[h-1]}return void 0===u?"":u})}});var _meta=createCommonjsModule(function(t){var e=_uid$1("meta"),r=_objectDp$1.f,n=0,i=Object.isExtensible||function(){return!0},a=!_fails$1(function(){return i(Object.preventExtensions({}))}),o=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!_isObject$1(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_has$1(t,e)){if(!i(t))return"F";if(!r)return"E";o(t)}return t[e].i},getWeak:function(t,r){if(!_has$1(t,e)){if(!i(t))return!0;if(!r)return!1;o(t)}return t[e].w},onFreeze:function(t){return a&&s.NEED&&i(t)&&!_has$1(t,e)&&o(t),t}}}),_meta_1=_meta.KEY,_meta_2=_meta.NEED,_meta_3=_meta.fastKey,_meta_4=_meta.getWeak,_meta_5=_meta.onFreeze,_objectSap=function(t,e){var r=(_core$1.Object||{})[t]||Object[t],n={};n[t]=e(r),_export$1(_export$1.S+_export$1.F*_fails$1(function(){r(1)}),"Object",n)},meta=_meta.onFreeze;_objectSap("freeze",function(t){return function(e){return t&&_isObject$1(e)?t(meta(e)):e}});var freeze=_core$1.Object.freeze,freeze$1=freeze;_fixReWks("match",1,function(t,e,r,n){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=n(r,t,this);if(e.done)return e.value;var i=_anObject(t),a=String(this);if(!i.global)return _regexpExecAbstract(i,a);var o=i.unicode;i.lastIndex=0;for(var s,c=[],u=0;null!==(s=_regexpExecAbstract(i,a));){var h=String(s[0]);c[u]=h,""===h&&(i.lastIndex=_advanceStringIndex(a,_toLength(i.lastIndex),o)),u++}return 0===u?null:c}]}),_objectSap("keys",function(){return function(t){return _objectKeys$1(_toObject$1(t))}});var keys$2=_core$1.Object.keys,keys$3=keys$2,helpers=createCommonjsModule(function(t,e){function r(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function n(t,e,n){return void 0===n&&(n={}),r({type:"Point",coordinates:t},e,n)}function i(t,e,n){void 0===n&&(n={});for(var i=0,a=t;i<a.length;i++){var o=a[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,n)}function a(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,n)}function o(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function s(t,e,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:t},e,n)}function h(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t*n}function l(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t/n}function f(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return n(e).geometry;case"LineString":return a(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return c(e).geometry;case"MultiLineString":return s(e).geometry;case"MultiPolygon":return u(e).geometry;default:throw new Error(t+" is invalid")}},e.point=n,e.points=function(t,e,r){return void 0===r&&(r={}),o(t.map(function(t){return n(t,e)}),r)},e.polygon=i,e.polygons=function(t,e,r){return void 0===r&&(r={}),o(t.map(function(t){return i(t,e)}),r)},e.lineString=a,e.lineStrings=function(t,e,r){return void 0===r&&(r={}),o(t.map(function(t){return a(t,e)}),r)},e.featureCollection=o,e.multiLineString=s,e.multiPoint=c,e.multiPolygon=u,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},e.radiansToLength=h,e.lengthToRadians=l,e.lengthToDegrees=function(t,e){return f(l(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return h(l(t,e),r)},e.convertArea=function(t,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[r];if(!i)throw new Error("invalid original units");var a=e.areaFactors[n];if(!a)throw new Error("invalid final units");return t/i*a},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!d(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}});unwrapExports(helpers);var helpers_1=helpers.earthRadius,helpers_2=helpers.factors,helpers_3=helpers.unitsFactors,helpers_4=helpers.areaFactors,helpers_5=helpers.feature,helpers_6=helpers.geometry,helpers_7=helpers.point,helpers_8=helpers.points,helpers_9=helpers.polygon,helpers_10=helpers.polygons,helpers_11=helpers.lineString,helpers_12=helpers.lineStrings,helpers_13=helpers.featureCollection,helpers_14=helpers.multiLineString,helpers_15=helpers.multiPoint,helpers_16=helpers.multiPolygon,helpers_17=helpers.geometryCollection,helpers_18=helpers.round,helpers_19=helpers.radiansToLength,helpers_20=helpers.lengthToRadians,helpers_21=helpers.lengthToDegrees,helpers_22=helpers.bearingToAzimuth,helpers_23=helpers.radiansToDegrees,helpers_24=helpers.degreesToRadians,helpers_25=helpers.convertLength,helpers_26=helpers.convertArea,helpers_27=helpers.isNumber,helpers_28=helpers.isObject,helpers_29=helpers.validateBBox,helpers_30=helpers.validateId,helpers_31=helpers.radians2degrees,helpers_32=helpers.degrees2radians,helpers_33=helpers.distanceToDegrees,helpers_34=helpers.distanceToRadians,helpers_35=helpers.radiansToDistance,helpers_36=helpers.bearingToAngle,helpers_37=helpers.convertDistance,meta$1=createCommonjsModule(function(t,e){function r(t,e,n){if(null!==t)for(var i,a,o,s,c,u,h,l,f=0,d=0,_=t.type,p="FeatureCollection"===_,m="Feature"===_,v=p?t.features.length:1,y=0;y<v;y++){c=(l=!!(h=p?t.features[y].geometry:m?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var g=0;g<c;g++){var b=0,$=0;if(null!==(s=l?h.geometries[g]:h)){u=s.coordinates;var M=s.type;switch(f=!n||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":if(!1===e(u,d,y,b,$))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++){if(!1===e(u[i],d,y,b,$))return!1;d++,"MultiPoint"===M&&b++}"LineString"===M&&b++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(a=0;a<u[i].length-f;a++){if(!1===e(u[i][a],d,y,b,$))return!1;d++}"MultiLineString"===M&&b++,"Polygon"===M&&$++}"Polygon"===M&&b++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for($=0,a=0;a<u[i].length;a++){for(o=0;o<u[i][a].length-f;o++){if(!1===e(u[i][a][o],d,y,b,$))return!1;d++}$++}b++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===r(s.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function i(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function a(t,e){var r,n,i,a,o,s,c,u,h,l,f=0,d="FeatureCollection"===t.type,_="Feature"===t.type,p=d?t.features.length:1;for(r=0;r<p;r++){for(s=d?t.features[r].geometry:_?t.geometry:t,u=d?t.features[r].properties:_?t.properties:{},h=d?t.features[r].bbox:_?t.bbox:void 0,l=d?t.features[r].id:_?t.id:void 0,o=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<o;i++)if(null!==(a=c?s.geometries[i]:s))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(a,f,u,h,l))return!1;break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===e(a.geometries[n],f,u,h,l))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,h,l))return!1;f++}}function o(t,e){a(t,function(t,r,n,i,a){var o,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(helpers.feature(t,n,{bbox:i,id:a}),r,0)&&void 0}switch(s){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}for(var c=0;c<t.coordinates.length;c++){var u={type:o,coordinates:t.coordinates[c]};if(!1===e(helpers.feature(u,n),r,c))return!1}})}function s(t,e){o(t,function(t,n,i){var a=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,c=0,u=0,h=0;return!1!==r(t,function(r,o,l,f,d){if(void 0===s||n>c||f>u||d>h)return s=r,c=n,u=f,h=d,void(a=0);var _=helpers.lineString([s,r],t.properties);if(!1===e(_,n,i,d,a))return!1;a++,s=r})&&void 0}}})}function c(t,e){if(!t)throw new Error("geojson is required");o(t,function(t,r,n){if(null!==t.geometry){var i=t.geometry.type,a=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,r,n,0,0))return!1;break;case"Polygon":for(var o=0;o<a.length;o++)if(!1===e(helpers.lineString(a[o],t.properties),r,n,o))return!1}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.coordEach=r,e.coordReduce=function(t,e,n,i){var a=n;return r(t,function(t,r,i,o,s){a=0===r&&void 0===n?t:e(a,t,r,i,o,s)},i),a},e.propEach=n,e.propReduce=function(t,e,r){var i=r;return n(t,function(t,n){i=0===n&&void 0===r?t:e(i,t,n)}),i},e.featureEach=i,e.featureReduce=function(t,e,r){var n=r;return i(t,function(t,i){n=0===i&&void 0===r?t:e(n,t,i)}),n},e.coordAll=function(t){var e=[];return r(t,function(t){e.push(t)}),e},e.geomEach=a,e.geomReduce=function(t,e,r){var n=r;return a(t,function(t,i,a,o,s){n=0===i&&void 0===r?t:e(n,t,i,a,o,s)}),n},e.flattenEach=o,e.flattenReduce=function(t,e,r){var n=r;return o(t,function(t,i,a){n=0===i&&0===a&&void 0===r?t:e(n,t,i,a)}),n},e.segmentEach=s,e.segmentReduce=function(t,e,r){var n=r,i=!1;return s(t,function(t,a,o,s,c){n=!1===i&&void 0===r?t:e(n,t,a,o,s,c),i=!0}),n},e.lineEach=c,e.lineReduce=function(t,e,r){var n=r;return c(t,function(t,i,a,o){n=0===i&&void 0===r?t:e(n,t,i,a,o)}),n},e.findSegment=function(t,e){if(e=e||{},!helpers.isObject(e))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,o=e.segmentIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),s=s||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":s=s||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=c.length+o-1),helpers.lineString([c[o],c[o+1]],s,e);case"Polygon":return a<0&&(a=c.length+a),o<0&&(o=c[a].length+o-1),helpers.lineString([c[a][o],c[a][o+1]],s,e);case"MultiLineString":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o-1),helpers.lineString([c[i][o],c[i][o+1]],s,e);case"MultiPolygon":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),o<0&&(o=c[i][a].length-o-1),helpers.lineString([c[i][a][o],c[i][a][o+1]],s,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(e=e||{},!helpers.isObject(e))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,o=e.coordIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),s=s||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":s=s||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":return helpers.point(c,s,e);case"MultiPoint":return i<0&&(i=c.length+i),helpers.point(c[i],s,e);case"LineString":return o<0&&(o=c.length+o),helpers.point(c[o],s,e);case"Polygon":return a<0&&(a=c.length+a),o<0&&(o=c[a].length+o),helpers.point(c[a][o],s,e);case"MultiLineString":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o),helpers.point(c[i][o],s,e);case"MultiPolygon":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),o<0&&(o=c[i][a].length-o),helpers.point(c[i][a][o],s,e)}throw new Error("geojson is invalid")}});unwrapExports(meta$1);var meta_1=meta$1.coordEach,meta_2=meta$1.coordReduce,meta_3=meta$1.propEach,meta_4=meta$1.propReduce,meta_5=meta$1.featureEach,meta_6=meta$1.featureReduce,meta_7=meta$1.coordAll,meta_8=meta$1.geomEach,meta_9=meta$1.geomReduce,meta_10=meta$1.flattenEach,meta_11=meta$1.flattenReduce,meta_12=meta$1.segmentEach,meta_13=meta$1.segmentReduce,meta_14=meta$1.lineEach,meta_15=meta$1.lineReduce,meta_16=meta$1.findSegment,meta_17=meta$1.findPoint;function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(t){add(temp,t,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(t,e,r){var n=t.s=e+r,i=n-e,a=n-i;t.t=e-a+(r-i)}var pi=Math.PI,tau=2*pi,abs=Math.abs,sqrt$1=Math.sqrt;function noop(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n<i;)streamGeometry(r[n].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)streamLine(r[n],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)streamPolygon(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n<i;)streamGeometry(r[n],e)}};function streamLine(t,e,r){var n,i=-1,a=t.length-r;for(e.lineStart();++i<a;)n=t[i],e.point(n[0],n[1],n[2]);e.lineEnd()}function streamPolygon(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)streamLine(t[r],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}var areaRingSum=adder(),areaSum=adder(),deltaSum=adder(),sum$1=adder();function ascending$1(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bisector$1(t){return 1===t.length&&(t=ascendingComparator$1(t)),{left:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)<0?n=a+1:i=a}return n},right:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)>0?i=a:n=a+1}return n}}}function ascendingComparator$1(t){return function(e,r){return ascending$1(t(e),r)}}var ascendingBisect$1=bisector$1(ascending$1),lengthSum=adder();function identity$5(t){return t}var x00,y00,x0$1,y0$1,areaSum$1=adder(),areaRingSum$1=adder(),areaStream$1={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){areaStream$1.lineStart=areaRingStart$1,areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){areaStream$1.lineStart=areaStream$1.lineEnd=areaStream$1.point=noop,areaSum$1.add(abs(areaRingSum$1)),areaRingSum$1.reset()},result:function(){var t=areaSum$1/2;return areaSum$1.reset(),t}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaPointFirst$1(t,e){areaStream$1.point=areaPoint$1,x00=x0$1=t,y00=y0$1=e}function areaPoint$1(t,e){areaRingSum$1.add(y0$1*t-x0$1*e),x0$1=t,y0$1=e}function areaRingEnd$1(){areaPoint$1(x00,y00)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream$1={point:boundsPoint$1,lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint$1(t,e){t<x0$2&&(x0$2=t),t>x1&&(x1=t),e<y0$2&&(y0$2=e),e>y1&&(y1=e)}var x00$1,y00$1,x0$3,y0$3,X0$1=0,Y0$1=0,Z0$1=0,X1$1=0,Y1$1=0,Z1$1=0,X2$1=0,Y2$1=0,Z2$1=0,centroidStream$1={point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1,centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.point=centroidPoint$1,centroidStream$1.lineStart=centroidLineStart$1,centroidStream$1.lineEnd=centroidLineEnd$1},result:function(){var t=Z2$1?[X2$1/Z2$1,Y2$1/Z2$1]:Z1$1?[X1$1/Z1$1,Y1$1/Z1$1]:Z0$1?[X0$1/Z0$1,Y0$1/Z0$1]:[NaN,NaN];return X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=X2$1=Y2$1=Z2$1=0,t}};function centroidPoint$1(t,e){X0$1+=t,Y0$1+=e,++Z0$1}function centroidLineStart$1(){centroidStream$1.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){centroidStream$1.point=centroidPointLine,centroidPoint$1(x0$3=t,y0$3=e)}function centroidPointLine(t,e){var r=t-x0$3,n=e-y0$3,i=sqrt$1(r*r+n*n);X1$1+=i*(x0$3+t)/2,Y1$1+=i*(y0$3+e)/2,Z1$1+=i,centroidPoint$1(x0$3=t,y0$3=e)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidPointFirstRing}function centroidRingEnd$1(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,e){centroidStream$1.point=centroidPointRing,centroidPoint$1(x00$1=x0$3=t,y00$1=y0$3=e)}function centroidPointRing(t,e){var r=t-x0$3,n=e-y0$3,i=sqrt$1(r*r+n*n);X1$1+=i*(x0$3+t)/2,Y1$1+=i*(y0$3+e)/2,Z1$1+=i,X2$1+=(i=y0$3*t-x0$3*e)*(x0$3+t),Y2$1+=i*(y0$3+e),Z2$1+=3*i,centroidPoint$1(x0$3=t,y0$3=e)}function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tau)}},result:noop};var lengthRing,x00$2,y00$2,x0$4,y0$4,lengthSum$1=adder(),lengthStream$1={point:noop,lineStart:function(){lengthStream$1.point=lengthPointFirst$1},lineEnd:function(){lengthRing&&lengthPoint$1(x00$2,y00$2),lengthStream$1.point=noop},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum$1;return lengthSum$1.reset(),t}};function lengthPointFirst$1(t,e){lengthStream$1.point=lengthPoint$1,x00$2=x0$4=t,y00$2=y0$4=e}function lengthPoint$1(t,e){x0$4-=t,y0$4-=e,lengthSum$1.add(sqrt$1(x0$4*x0$4+y0$4*y0$4)),x0$4=t,y0$4=e}function PathString(){this._string=[]}function circle$1(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function geoPath(t,e){var r,n,i=4.5;function a(t){return t&&("function"==typeof i&&n.pointRadius(+i.apply(this,arguments)),geoStream(t,r(n))),n.result()}return a.area=function(t){return geoStream(t,r(areaStream$1)),areaStream$1.result()},a.measure=function(t){return geoStream(t,r(lengthStream$1)),lengthStream$1.result()},a.bounds=function(t){return geoStream(t,r(boundsStream$1)),boundsStream$1.result()},a.centroid=function(t){return geoStream(t,r(centroidStream$1)),centroidStream$1.result()},a.projection=function(e){return arguments.length?(r=null==e?(t=null,identity$5):(t=e).stream,a):t},a.context=function(t){return arguments.length?(n=null==t?(e=null,new PathString):new PathContext(e=t),"function"!=typeof i&&n.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(n.pointRadius(+t),+t),a):i},a.projection(t).context(e)}function transformFeatures(t,e){return t.map(function(t){return transform$1(t,e)})}function transform$1(t,e){var r=JSON.parse(stringify$1(t));return meta_1(r,function(t){var r=_slicedToArray(e(t),2),n=r[0],i=r[1];t[0]=n,t[1]=i}),r}function bboxFeatures(t){var e=[[1/0,1/0],[-1/0,-1/0]];return t.forEach(function(t){invalid(t)||(e=updateBBox(e,t))}),{x:[e[0][0],e[1][0]],y:[e[0][1],e[1][1]]}}PathString.prototype={_radius:4.5,_circle:circle$1(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=circle$1(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var path=geoPath();function updateBBox(t,e){var r=path.bounds(e);return t[0][0]=t[0][0]<r[0][0]?t[0][0]:r[0][0],t[0][1]=t[0][1]<r[0][1]?t[0][1]:r[0][1],t[1][0]=t[1][0]>r[1][0]?t[1][0]:r[1][0],t[1][1]=t[1][1]>r[1][1]?t[1][1]:r[1][1],t}function calculateDomains(t,e){var r={},n={};for(var i in 0===e&&(console.warn("Empty dataframe: "),console.warn(stringify$1(t))),t){var a=t[i],o=getFirstValidValue(a,i,e),s=o.firstValidValue,c=o.nValidValues;if(c/e<.5&&console.warn("Column '".concat(i,"' contains more than 50% invalid values")),0===c)n[i]="quantitative",r[i]=[0,1],console.warn("Column '".concat(i,"' contains no valid values.")),console.warn("Using domain [0, 1] as placeholder.");else{var u=getDataType(s);if(n[i]=u,isGeometry(i,u)){var h=bboxFeatures(a);r["geometry.x"]=h.x,r["geometry.y"]=h.y,n["geometry.x"]="quantitative",n["geometry.y"]="quantitative"}else{var l=calculateUniqueValues(a);if(1===c){var f=initDummyDomain(u,s);r[i]=f,console.warn("Column '".concat(i,"' contains only 1 valid value: ").concat(s,".")),console.warn("Using domain ".concat(stringify$1(f)))}else if(1===l&&"categorical"!==u){var d=initDummyDomain(u,s);r[i]=d,console.warn("Column '".concat(i,"' contains only 1 unique value: ").concat(s,".")),console.warn("Using domain ".concat(stringify$1(d)))}else{r[i]=initDomain(u);for(var _=0;_<a.length;_++){var p=a[_];if(!invalid(p)){if(getDataType(p)!==u)throw new Error("Invalid column ".concat(i,": column contains multiple data types"));r[i]=updateDomain$1(r[i],p,u)}}}}}}return{domains:r,types:n}}function getFirstValidValue(t,e,r){for(var n,i=0,a=0;a<r;a++)invalid(t[a])||(i++,n=n||t[a]);return{firstValidValue:n,nValidValues:i}}function initDomain(t){var e;switch(t){case"quantitative":e=[1/0,-1/0];break;case"categorical":e=[];break;case"temporal":e=[new Date("19 January 2038"),new Date(0)];break;case"interval:quantitative":e=[1/0,-1/0];break;case"interval:temporal":e=[new Date("19 January 2038"),new Date(0)]}return e}function updateDomain$1(t,e,r){if("quantitative"===r&&(t[0]>=e&&(t[0]=e),t[1]<=e&&(t[1]=e)),"categorical"===r&&(t.includes(e)||t.push(e)),"temporal"===r){var n=e.getTime();t[0].getTime()>=n&&(t[0]=e),t[1].getTime()<=n&&(t[1]=e)}if(r.startsWith("interval")){var i=r.split(":")[1];t=updateDomain$1(t,e[0],i),t=updateDomain$1(t,e[1],i)}return t}function getDay(t,e){return new Date((new Date).setDate(t.getDate()+e))}function initDummyDomain(t,e){var r;return"quantitative"===t&&(r=[e-1,e+1]),"categorical"===t&&(r=[e]),"temporal"===t&&(r=[getDay(e,-1),getDay(e,1)]),t.startsWith("interval")&&(r=e),r}function calculateUniqueValues(t){var e={},r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(t);!(r=(a=o.next()).done);r=!0){var s=a.value;e[stringify$1(s)]=0}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return keys$3(e).length}function isGeometry(t,e){if("geometry"===t&&"geometry"===e)return!0;if("geometry"===t){if("geometry"!==e)throw new Error("Data in column 'geometry' must be of type 'geometry'")}else if("geometry"===e)throw new Error("Data of type 'geometry' found in column '".concat(t,"' (not allowed)"))}var pointRegex=/\./g,forbiddenChars=/[.#\/]/,_default=function(){function t(e,r){if(_classCallCheck(this,t),this._dataset={},this._domains={},r||(e.constructor===Object&&(e.hasOwnProperty("type")&&"FeatureCollection"===e.type?this.setGeoJSON(e):this.setColDataFrame(e)),e.constructor===Array&&this.setRowDataFrame(e)),r)switch(r){case"column":this.setColDataFrame(e);break;case"row":this.setRowDataFrame(e);break;case"geojson":this.setGeoJSON(e);break;default:throw new Error("Unknown format!")}}return _createClass(t,[{key:"setColDataFrame",value:function(t){var e=checkFormat(t);this._length=e,this._dataset=t;var r=calculateDomains(t,e),n=r.domains,i=r.types;this._domains=n,this._types=i}},{key:"setRowDataFrame",value:function(t){if(t.constructor!==Array)throw new Error("Data in row-format must be passed as an array of objects");var e=initColumnDF(t),r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(t);!(r=(a=o.next()).done);r=!0){var s=a.value;for(var c in s)e[c].push(s[c])}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}this.setColDataFrame(e)}},{key:"setGeoJSON",value:function(t){if(t.constructor!==Object)throw new Error("Data of type geojson must be passed as an object");var e={},r=t.features[0];r.properties.hasOwnProperty("geometry")&&delete r.properties.geometry;var n=["geometry"].concat(_toConsumableArray(keys$3(r.properties))),i=!0,a=!1,o=void 0;try{for(var s,c=getIterator$1(n);!(i=(s=c.next()).done);i=!0){var u=s.value;e[u]=[]}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}t.features.forEach(function(t){var r=extractGeometry(t),n=extractAttributes(t);for(var i in e.geometry.push(r),n)e[i].push(n[i])});var h=checkFormat(e),l=calculateDomains(e,h),f=l.domains,d=l.types;this._length=h,this._dataset=e,this._domains=f,this._types=d}},{key:"getDataset",value:function(){return this._dataset}},{key:"getDomain",value:function(t){return this._domains[t]}},{key:"getDomains",value:function(){return this._domains}},{key:"getType",value:function(t){return this._types[t]}},{key:"getTypes",value:function(){return this._types}},{key:"hasColumn",value:function(t){if(t.match(pointRegex)){var e=t.split(".")[0];return this._dataset.hasOwnProperty(e)}return this._dataset.hasOwnProperty(t)}},{key:"getColumn",value:function(t){if(t.match(pointRegex)){var e=t.split(".")[0];return this._dataset[e]}return this._dataset[t]}},{key:"forEachRow",value:function(t){for(var e=this._dataset,r=0;r<this._length;r++){var n={},i={},a={};for(var o in e)n[o]=e[o][r],i[o]=e[o][r-1],a[o]=e[o][r+1];0===r&&(i=void 0),r===this._length-1&&(a=void 0),t({row:n,i:r,prevRow:i,nextRow:a})}}}]),t}();function checkFormat(t){if(t.constructor!==Object)throw new Error("Data in column-format must be passed as an object of arrays");var e=null;for(var r in t){checkColName(r);var n=t[r];if(n.constructor!==Array)throw new Error("Data in column-format must be passed as an object of arrays");if(null===e)e=n.length;else if(e!==n.length)throw new Error("Invalid data: columns must be of same length")}return e}function checkColName(t){if(t.match(forbiddenChars))throw new Error("Invalid column name '".concat(t,"': '.', '#', and '/' not allowed'"))}function initColumnDF(t){var e=t[0];if(e.constructor!==Object)throw new Error("Empty dataframe (0 rows)");var r=keys$3(e),n={},i=!0,a=!1,o=void 0;try{for(var s,c=getIterator$1(r);!(i=(s=c.next()).done);i=!0){n[s.value]=[]}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}function extractGeometry(t){return t.geometry}function extractAttributes(t){return t.properties}var slashRegex=/\//g,DataInterface=function(){function t(e){_classCallCheck(this,t),this._manager=e}return _createClass(t,[{key:"setScope",value:function(t){this._scope=t}},{key:"ready",value:function(t){var e=t||this._scope;return this._manager.hasContainer(e)&&void 0!==this._manager.getContainer(e)}},{key:"getDataset",value:function(t){var e=t||this._scope;return this._manager.getContainer(e).getDataset()}},{key:"getDomain",value:function(t){var e=this._parseGetterString(t),r=e.containerID,n=e.colName;return this._manager.getContainer(r).getDomain(n)}},{key:"getDomains",value:function(t){var e=t||this._scope;return this._manager.getContainer(e).getDomains()}},{key:"getType",value:function(t){var e=this._parseGetterString(t),r=e.containerID,n=e.colName;return this._manager.getContainer(r).getType(n)}},{key:"getTypes",value:function(t){var e=t||this._scope;return this._manager.getContainer(e).getTypes()}},{key:"hasColumn",value:function(t){var e=this._parseGetterString(t),r=e.containerID,n=e.colName;return this._manager.getContainer(r).hasColumn(n)}},{key:"getColumn",value:function(t){var e=this._parseGetterString(t),r=e.containerID,n=e.colName;return this._manager.getContainer(r).getColumn(n)}},{key:"forEachRow",value:function(t,e){var r=e||this._scope;this._manager.getContainer(r).forEachRow(t)}},{key:"_parseGetterString",value:function(t){var e,r,n=t.match(slashRegex),i=n?n.length:0;if(1===i){var a=_slicedToArray(t.split("/"),2);e=a[0],r=a[1]}else{if(0!==i)throw new Error("Invalid getter '".concat(r,"'"));e=this._scope,r=t}if(!this._manager.hasContainer(e))throw new Error("Invalid container id '".concat(t,"'"));if(!this._manager.getContainer(e).hasColumn(r))throw new Error("Invalid column name '".concat(t,"'"));return{containerID:e,colName:r}}}]),t}(),lodash_clonedeep=createCommonjsModule(function(t,e){var r=200,n="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",o="[object Boolean]",s="[object Date]",c="[object Function]",u="[object GeneratorFunction]",h="[object Map]",l="[object Number]",f="[object Object]",d="[object RegExp]",_="[object Set]",p="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",$="[object Int8Array]",M="[object Int16Array]",x="[object Int32Array]",S="[object Uint8Array]",w="[object Uint8ClampedArray]",P="[object Uint16Array]",E="[object Uint32Array]",T=/\w*$/,A=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,C={};C[a]=C["[object Array]"]=C[v]=C[y]=C[o]=C[s]=C[g]=C[b]=C[$]=C[M]=C[x]=C[h]=C[l]=C[f]=C[d]=C[_]=C[p]=C[m]=C[S]=C[w]=C[P]=C[E]=!0,C["[object Error]"]=C[c]=C["[object WeakMap]"]=!1;var I="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,N="object"==typeof self&&self&&self.Object===Object&&self,j=I||N||Function("return this")(),R=e&&!e.nodeType&&e,k=R&&t&&!t.nodeType&&t,D=k&&k.exports===R;function L(t,e){return t.set(e[0],e[1]),t}function F(t,e){return t.add(e),t}function G(t,e,r,n){var i=-1,a=t?t.length:0;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function H(t,e){return function(r){return t(e(r))}}function B(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var z,Y=Array.prototype,W=Function.prototype,V=Object.prototype,X=j["__core-js_shared__"],K=(z=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",Z=W.toString,J=V.hasOwnProperty,Q=V.toString,tt=RegExp("^"+Z.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=D?j.Buffer:void 0,rt=j.Symbol,nt=j.Uint8Array,it=H(Object.getPrototypeOf,Object),at=Object.create,ot=V.propertyIsEnumerable,st=Y.splice,ct=Object.getOwnPropertySymbols,ut=et?et.isBuffer:void 0,ht=H(Object.keys,Object),lt=kt(j,"DataView"),ft=kt(j,"Map"),dt=kt(j,"Promise"),_t=kt(j,"Set"),pt=kt(j,"WeakMap"),mt=kt(Object,"create"),vt=Ut(lt),yt=Ut(ft),gt=Ut(dt),bt=Ut(_t),$t=Ut(pt),Mt=rt?rt.prototype:void 0,xt=Mt?Mt.valueOf:void 0;function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){this.__data__=new wt(t)}function Tt(t,e){var r=Ht(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Bt(t)}(t)&&J.call(t,"callee")&&(!ot.call(t,"callee")||Q.call(t)==a)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!J.call(t,o)||i&&("length"==o||Ft(o,n))||r.push(o);return r}function At(t,e,r){var n=t[e];J.call(t,e)&&qt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Ot(t,e){for(var r=t.length;r--;)if(qt(t[r][0],e))return r;return-1}function Ct(t,e,r,n,i,A,O){var I;if(n&&(I=A?n(t,i,A,O):n(t)),void 0!==I)return I;if(!Wt(t))return t;var N=Ht(t);if(N){if(I=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&J.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,I)}else{var j=Lt(t),R=j==c||j==u;if(zt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(j==f||j==a||R&&!A){if(U(t))return A?t:{};if(I=function(t){return"function"!=typeof t.constructor||Gt(t)?{}:(e=it(t),Wt(e)?at(e):{});var e}(R?{}:t),!e)return function(t,e){return jt(t,Dt(t),e)}(t,function(t,e){return t&&jt(e,Vt(e),t)}(I,t))}else{if(!C[j])return A?t:{};I=function(t,e,r,n){var i=t.constructor;switch(e){case v:return Nt(t);case o:case s:return new i(+t);case y:return function(t,e){var r=e?Nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case g:case b:case $:case M:case x:case S:case w:case P:case E:return function(t,e){var r=e?Nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case h:return function(t,e,r){return G(e?r(q(t),!0):q(t),L,new t.constructor)}(t,n,r);case l:case p:return new i(t);case d:return(u=new(c=t).constructor(c.source,T.exec(c))).lastIndex=c.lastIndex,u;case _:return function(t,e,r){return G(e?r(B(t),!0):B(t),F,new t.constructor)}(t,n,r);case m:return a=t,xt?Object(xt.call(a)):{}}var a;var c,u}(t,j,Ct,e)}}O||(O=new Et);var k=O.get(t);if(k)return k;if(O.set(t,I),!N)var D=r?function(t){return function(t,e,r){var n=e(t);return Ht(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Vt,Dt)}(t):Vt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(D||t,function(i,a){D&&(i=t[a=i]),At(I,a,Ct(i,e,r,n,a,t,O))}),I}function It(t){return!(!Wt(t)||(e=t,K&&K in e))&&(Yt(t)||U(t)?tt:A).test(Ut(t));var e}function Nt(t){var e=new t.constructor(t.byteLength);return new nt(e).set(new nt(t)),e}function jt(t,e,r,n){r||(r={});for(var i=-1,a=e.length;++i<a;){var o=e[i],s=n?n(r[o],t[o],o,r,t):void 0;At(r,o,void 0===s?t[o]:s)}return r}function Rt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function kt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return It(r)?r:void 0}St.prototype.clear=function(){this.__data__=mt?mt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===n?void 0:r}return J.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:J.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?n:e,this},wt.prototype.clear=function(){this.__data__=[]},wt.prototype.delete=function(t){var e=this.__data__,r=Ot(e,t);return!(r<0||(r==e.length-1?e.pop():st.call(e,r,1),0))},wt.prototype.get=function(t){var e=this.__data__,r=Ot(e,t);return r<0?void 0:e[r][1]},wt.prototype.has=function(t){return Ot(this.__data__,t)>-1},wt.prototype.set=function(t,e){var r=this.__data__,n=Ot(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Pt.prototype.clear=function(){this.__data__={hash:new St,map:new(ft||wt),string:new St}},Pt.prototype.delete=function(t){return Rt(this,t).delete(t)},Pt.prototype.get=function(t){return Rt(this,t).get(t)},Pt.prototype.has=function(t){return Rt(this,t).has(t)},Pt.prototype.set=function(t,e){return Rt(this,t).set(t,e),this},Et.prototype.clear=function(){this.__data__=new wt},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wt){var i=n.__data__;if(!ft||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Pt(i)}return n.set(t,e),this};var Dt=ct?H(ct,Object):function(){return[]},Lt=function(t){return Q.call(t)};function Ft(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<e}function Gt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||V)}function Ut(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function qt(t,e){return t===e||t!=t&&e!=e}(lt&&Lt(new lt(new ArrayBuffer(1)))!=y||ft&&Lt(new ft)!=h||dt&&"[object Promise]"!=Lt(dt.resolve())||_t&&Lt(new _t)!=_||pt&&"[object WeakMap]"!=Lt(new pt))&&(Lt=function(t){var e=Q.call(t),r=e==f?t.constructor:void 0,n=r?Ut(r):void 0;if(n)switch(n){case vt:return y;case yt:return h;case gt:return"[object Promise]";case bt:return _;case $t:return"[object WeakMap]"}return e});var Ht=Array.isArray;function Bt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Yt(t)}var zt=ut||function(){return!1};function Yt(t){var e=Wt(t)?Q.call(t):"";return e==c||e==u}function Wt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Vt(t){return Bt(t)?Tt(t):function(t){if(!Gt(t))return ht(t);var e=[];for(var r in Object(t))J.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return Ct(t,!0,!0)}});function dataLength(t){return t[keys$3(t)[0]].length}function filter(t,e){if(e.constructor!==Function)throw new Error("Filter transformation can only be specified as Function");for(var r=0,n=dataLength(t);r<n;){var i={};for(var a in t)i[a]=t[a][r];if(e(i,r))r++;else{for(var o in t)t[o].splice(r,1);n--}}return t}function select(t,e){if(e.constructor===String)return t[e];if(e.constructor===Array){for(var r in t)e.includes(r)||delete t[r];return t}throw new Error("select can only be used with a string or array of strings")}var _strictMethod=function(t,e){return!!t&&_fails(function(){e?t.call(null,function(){},1):t.call(null)})},$sort=[].sort,test=[1,2,3];function arrange(t,e){if(e.constructor===Object)return sort(t,e);if(e.constructor===Array){for(var r=e.length-1;r>=0;r--){t=sort(t,e[r])}return t}throw new Error("arrange requires a key-value object or array of key-value objects")}_export(_export.P+_export.F*(_fails(function(){test.sort(void 0)})||!_fails(function(){test.sort(null)})||!_strictMethod($sort)),"Array",{sort:function(t){return void 0===t?$sort.call(_toObject(this)):$sort.call(_toObject(this),_aFunction(t))}});var sortFuncs={quantitative:{ascending:function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},descending:function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},categorical:{ascending:function(t,e){return[t,e].sort()[0]===t?-1:1},descending:function(t,e){return[t,e].sort()[0]===t?1:-1}},temporal:{ascending:function(t,e){var r=t.getTime(),n=t.getTime();return r<n?-1:r>n?1:r>=n?0:NaN},descending:function(t,e){var r=t.getTime(),n=t.getTime();return n<r?-1:n>r?1:n>=r?0:NaN}}};function sort(t,e){if(1!==keys$3(e).length)throw new Error("Only one key-value pair allowed");var r,n=keys$3(e)[0],i=e[n],a=getDataType(t[n][0]);i.constructor===String&&(r=sortFuncs[a][i]),i.constructor===Function&&(r=i);var o=t[n],s=o.map(function(t,e){return e}).sort(function(t,e){return r(o[t],o[e])});for(var c in t)t[c]=reorder(t[c],s);return t}function reorder(t,e){return e.map(function(e){return t[e]})}function rename(t,e){if(e.constructor!==Object)throw new Error("Rename only accepts an object");for(var r in e)if(t.hasOwnProperty(r)){var n=e[r];checkColName(n),t[n]=t[r],delete t[r]}else console.warn("Rename: column '".concat(r,"' not found"));return t}function mutate(t,e){var r=dataLength(t);for(var n in e)t[n]=new Array(r);for(var i=0;i<r;i++){var a={};for(var o in t)a[o]=t[o][i];for(var s in e){var c=e[s];t[s][i]=c(a,i)}}return t}function transmute(t,e){for(var r in t=mutate(t,e))e.hasOwnProperty(r)||delete t[r]}var aggregations={count:count,sum:sum$3,mean:mean$2,median:median$2,mode:mode,min:min$7,max:max$5};function count(t){return t.length}function sum$3(t){var e=0,r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(t);!(r=(a=o.next()).done);r=!0){e+=a.value}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}function mean$2(t){return sum$3(t)/count(t)}function median$2(t){var e=t.sort(function(t,e){return t>e}),r=count(t);return r%2==1?e[Math.floor(r/2)]:(e[r/2-1]+e[r/2])/2}function mode(t){var e,r={},n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(t);!(n=(o=s.next()).done);n=!0){var c=o.value;r.hasOwnProperty(c)?r[c]++:r[c]=1}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var u=0;for(var h in r)r[h]>u&&(u=r[h],e=h);return e}function min$7(t){var e=1/0,r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(t);!(r=(a=o.next()).done);r=!0){var s=a.value;s<e&&(e=s)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}function max$5(t){var e=-1/0,r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(t);!(r=(a=o.next()).done);r=!0){var s=a.value;s>e&&(e=s)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}function checkKeyValuePair(t,e){var r=keys$3(t);if(1!==r.length)throw new Error("Invalid transformation syntax");var n=r[0];if(!e.includes(n))throw new Error("Unknown transformation ".concat(n));return n}function summarise(t,e){if(e.constructor!==Object)throw new Error("summarise must be an object");var r=initNewData(e,t);if(t.hasOwnProperty("grouped")){checkSummariseInstructions(e,t);var n=JSON.parse(stringify$1(t));for(var i in delete n.grouped,n)r[i]=n[i];var a=!0,o=!1,s=void 0;try{for(var c,u=getIterator$1(t.grouped);!(a=(c=u.next()).done);a=!0){r=summariseGroup(c.value,e,r)}}catch(t){o=!0,s=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}else r=summariseGroup(t,e,r);return r}function initNewData(t,e){var r={};for(var n in t)r[n]=[];if(e.hasOwnProperty("grouped"))for(var i in e)"grouped"!==i&&(r[i]=[]);return r}function summariseGroup(t,e,r){for(var n in e){var i=e[n],a=checkKeyValuePair(i,keys$3(t)),o=i[a];r[n].push(aggregations[o](t[a]))}return r}function checkSummariseInstructions(t,e){for(var r in t){var n=t[r],i=keys$3(n)[0];if("grouped"===i)throw new Error("Invalid column name 'grouped'");if(e.hasOwnProperty(i))throw new Error("Cannot summarise the column '".concat(i,"': used for grouping"))}}function mutarise(t,e){if(e.constructor!==Object)throw new Error("mutarise must be an object");var r=initNewData(e);if(t.hasOwnProperty("grouped")){checkSummariseInstructions(e,t);var n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(t.grouped);!(n=(o=s.next()).done);n=!0){var c=o.value,u=initNewData(e);r=addGroupSummaries(r,u=summariseGroup(c,e,u),dataLength(c))}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}t=ungroup(t)}else{var h=initNewData(e);r=addGroupSummaries(r,h=summariseGroup(t,e,h),dataLength(t))}return join(t,r)}function addGroupSummaries(t,e,r){for(var n=0;n<r;n++)for(var i in e)t[i].push(e[i][0]);return t}function ungroup(t){var e=initNewData(t.grouped[0]),r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(t.grouped);!(r=(a=o.next()).done);r=!0){var s=a.value;for(var c in e){var u;(u=e[c]).push.apply(u,_toConsumableArray(s[c]))}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}function join(t,e){for(var r in e)t[r]=e[r];return t}function groupBy(t,e){var r={},n=getGroupedColumns(t,e),i=groupBy$1(t,n);r.grouped=i.map(function(t){return t.data});var a=!0,o=!1,s=void 0;try{for(var c,u=getIterator$1(n);!(a=(c=u.next()).done);a=!0){r[c.value]=[]}}catch(t){o=!0,s=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}for(var h=0;h<n.length;h++){var l=n[h],f=!0,d=!1,_=void 0;try{for(var p,m=getIterator$1(i);!(f=(p=m.next()).done);f=!0){var v=p.value;r[l].push(v.groupedValues[h])}}catch(t){d=!0,_=t}finally{try{f||null==m.return||m.return()}finally{if(d)throw _}}}return r}function getGroupedColumns(t,e){var r=e.constructor;if(![String,Array].includes(r))throw new Error("groupBy can only be used with a string or array of strings");var n=r===String?[e]:e,i=!0,a=!1,o=void 0;try{for(var s,c=getIterator$1(n);!(i=(s=c.next()).done);i=!0){var u=s.value;if(!t.hasOwnProperty(u))throw new Error("Column '".concat(u,"' not found"))}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}if(n.length===keys$3(t).length)throw new Error("Cannot group by all columns");return n}function getGroupedValues(t,e,r){var n=[],i=!0,a=!1,o=void 0;try{for(var s,c=getIterator$1(r);!(i=(s=c.next()).done);i=!0){var u=s.value;n.push(t[u][e])}}catch(t){a=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}function groupBy$1(t,e){for(var r={},n=0,i=dataLength(t);n<i;){var a=getGroupedValues(t,n,e),o=stringify$1(a);r[o]=r[o]||new Group(t,a),r[o].addRow(t,n),n++}return keys$3(r).map(function(t){return r[t]})}var Group=function(){function t(e,r){for(var n in _classCallCheck(this,t),this.data={},this.groupedValues=r,e)this.data[n]=[]}return _createClass(t,[{key:"addRow",value:function(t,e){for(var r in t)this.data[r].push(t[r][e])}}]),t}(),_isArray$1=Array.isArray||function(t){return"Array"==_cof(t)},SPECIES$3=_wks("species"),_arraySpeciesConstructor=function(t){var e;return _isArray$1(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!_isArray$1(e.prototype)||(e=void 0),_isObject(e)&&null===(e=e[SPECIES$3])&&(e=void 0)),void 0===e?Array:e},_arraySpeciesCreate=function(t,e){return new(_arraySpeciesConstructor(t))(e)},_arrayMethods=function(t,e){var r=1==t,n=2==t,i=3==t,a=4==t,o=6==t,s=5==t||o,c=e||_arraySpeciesCreate;return function(e,u,h){for(var l,f,d=_toObject(e),_=_iobject(d),p=_ctx(u,h,3),m=_toLength(_.length),v=0,y=r?c(e,m):n?c(e,0):void 0;m>v;v++)if((s||v in _)&&(f=p(l=_[v],v,d),t))if(r)y[v]=f;else if(f)switch(t){case 3:return!0;case 5:return l;case 6:return v;case 2:y.push(l)}else if(a)return!1;return o?-1:i||a?a:y}},$find=_arrayMethods(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),_export(_export.P+_export.F*forced,"Array",{findIndex:function(t){return $find(this,t,arguments.length>1?arguments[1]:void 0)}}),_addToUnscopables(KEY);var geostats_min=createCommonjsModule(function(e,r){var n;e.exports=(n=function(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)},Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var r=this.length>>>0;for(e=+e||0,1/0===Math.abs(e)&&(e=0),0>e&&0>(e+=r)&&(e=0);e<r;e++)if(this[e]===t)return e;return-1}),function(e){this.objectID="",this.legendSeparator=this.separator=" - ",this.method="",this.precision=0,this.precisionflag="auto",this.roundlength=2,this.silent=this.debug=this.is_uniqueValues=!1,this.bounds=[],this.ranges=[],this.inner_ranges=null,this.colors=[],this.counter=[],this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null,this.log=function(t,e){1!=this.debug&&null==e||console.log(this.objectID+"(object id) :: "+t)},this.setBounds=function(t){this.log("Setting bounds ("+t.length+") : "+t.join()),this.bounds=t},this.setSerie=function(t){this.log("Setting serie ("+t.length+") : "+t.join()),this.serie=t,this.resetStatistics(),this.setPrecision()},this.setColors=function(t){this.log("Setting color ramp ("+t.length+") : "+t.join()),this.colors=t},this.doCount=function(){if(!this._nodata()){var t=this.sorted();for(this.counter=[],i=0;i<this.bounds.length-1;i++)this.counter[i]=0;for(j=0;j<t.length;j++){var e=this.getClass(t[j]);this.counter[e]++}}},this.setPrecision=function(t){if(void 0!==t&&(this.precisionflag="manual",this.precision=t),"auto"==this.precisionflag)for(t=0;t<this.serie.length;t++){var e=isNaN(this.serie[t]+"")||-1==(this.serie[t]+"").toString().indexOf(".")?0:(this.serie[t]+"").split(".")[1].length;e>this.precision&&(this.precision=e)}20<this.precision&&(this.log("this.precision value ("+this.precision+') is greater than max value. Automatic set-up to 20 to prevent "Uncaught RangeError: toFixed()" when calling decimalFormat() method.'),this.precision=20),this.log("Calling setPrecision(). Mode : "+this.precisionflag+" - Decimals : "+this.precision),this.serie=this.decimalFormat(this.serie)},this.decimalFormat=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n=!isNaN(parseFloat(n))&&isFinite(n),e[r]=n?parseFloat(parseFloat(t[r]).toFixed(this.precision)):t[r]}return e},this.setRanges=function(){for(this.ranges=[],i=0;i<this.bounds.length-1;i++)this.ranges[i]=this.bounds[i]+this.separator+this.bounds[i+1]},this.min=function(){if(!this._nodata()){for(this.stat_min=this.serie[0],i=0;i<this.pop();i++)this.serie[i]<this.stat_min&&(this.stat_min=this.serie[i]);return this.stat_min}},this.max=function(){if(!this._nodata()){for(this.stat_max=this.serie[0],i=0;i<this.pop();i++)this.serie[i]>this.stat_max&&(this.stat_max=this.serie[i]);return this.stat_max}},this.sum=function(){if(!this._nodata()){if(null==this.stat_sum)for(i=this.stat_sum=0;i<this.pop();i++)this.stat_sum+=parseFloat(this.serie[i]);return this.stat_sum}},this.pop=function(){if(!this._nodata())return null==this.stat_pop&&(this.stat_pop=this.serie.length),this.stat_pop},this.mean=function(){if(!this._nodata())return null==this.stat_mean&&(this.stat_mean=parseFloat(this.sum()/this.pop())),this.stat_mean},this.median=function(){if(!this._nodata()){if(null==this.stat_median){this.stat_median=0;var t=this.sorted();this.stat_median=t.length%2?parseFloat(t[Math.ceil(t.length/2)-1]):(parseFloat(t[t.length/2-1])+parseFloat(t[t.length/2]))/2}return this.stat_median}},this.variance=function(){if(round="undefined"==typeof round,!this._nodata()){if(null==this.stat_variance){for(var t=0,e=this.mean(),r=0;r<this.pop();r++)t+=Math.pow(this.serie[r]-e,2);this.stat_variance=t/this.pop(),1==round&&(this.stat_variance=Math.round(this.stat_variance*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))}return this.stat_variance}},this.stddev=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_stddev&&(this.stat_stddev=Math.sqrt(this.variance()),1==t&&(this.stat_stddev=Math.round(this.stat_stddev*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_stddev},this.cov=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_cov&&(this.stat_cov=this.stddev()/this.mean(),1==t&&(this.stat_cov=Math.round(this.stat_cov*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_cov},this.resetStatistics=function(){this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null},this._nodata=function(){if(0==this.serie.length){if(!this.silent)throw new TypeError("Error. You should first enter a serie!");return this.log("[silent mode] Error. You should first enter a serie!",!0),1}return 0},this._hasNegativeValue=function(){for(i=0;i<this.serie.length;i++)if(0>this.serie[i])return!0;return!1},this._hasZeroValue=function(){for(i=0;i<this.serie.length;i++)if(0===parseFloat(this.serie[i]))return!0;return!1},this.sorted=function(){return null==this.stat_sorted&&(this.stat_sorted=0==this.is_uniqueValues?this.serie.sort(function(t,e){return t-e}):this.serie.sort(function(t,e){var r=t.toString().toLowerCase(),n=e.toString().toLowerCase();return r<n?-1:r>n?1:0})),this.stat_sorted},this.info=function(){if(!this._nodata()){var t="Population : "+this.pop()+" - [Min : "+this.min()+" | Max : "+this.max()+"]\n";return(t+="Mean : "+this.mean()+" - Median : "+this.median()+"\n")+"Variance : "+this.variance()+" - Standard deviation : "+this.stddev()+" - Coefficient of variation : "+this.cov()+"\n"}},this.setClassManually=function(e){if(!this._nodata()){if(e[0]===this.min()&&e[e.length-1]===this.max())return this.setBounds(e),this.setRanges(),this.method="manual classification ("+(e.length-1)+" classes)",this.bounds;if(!this.silent)throw new TypeError("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max());this.log("[silent mode] "+t("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max()),!0)}},this.getClassEqInterval=function(t,e,r){if(!this._nodata()){var n=[],a=e=void 0===e?this.min():e;for(e=((r=void 0===r?this.max():r)-e)/t,i=0;i<=t;i++)n[i]=a,a+=e;return n[t]=r,this.setBounds(n),this.setRanges(),this.method="eq. intervals ("+t+" classes)",this.bounds}},this.getQuantiles=function(t){for(var e=this.sorted(),r=[],n=this.pop()/t,i=1;i<t;i++)r.push(e[Math.round(i*n+.49)-1]);return r},this.getClassQuantile=function(t){if(!this._nodata()){var e=this.sorted(),r=this.getQuantiles(t);return r.unshift(e[0]),r[e.length-1]!==e[e.length-1]&&r.push(e[e.length-1]),this.setBounds(r),this.setRanges(),this.method="quantile ("+t+" classes)",this.bounds}},this.getClassStdDeviation=function(t,e){if(!this._nodata()){var r=this.max(),n=this.min(),a=this.stddev(),o=this.mean(),s=[];if(1==t%2){var c=Math.floor(t/2),u=c+1;for(s[c]=o-a/2,s[u]=o+a/2,i=c-1;0<i;i--)o=s[i+1]-a,s[i]=o;i=u+1}else{for(s[u=t/2]=o,i=u-1;0<i;i--)o=s[i+1]-a,s[i]=o;i=u+1}for(;i<t;i++)o=s[i-1]+a,s[i]=o;return s[0]=void 0===e?s[1]-a:n,s[t]=void 0===e?s[t-1]+a:r,this.setBounds(s),this.setRanges(),this.method="std deviation ("+t+" classes)",this.bounds}},this.getClassGeometricProgression=function(t){if(!this._nodata()){if(!this._hasNegativeValue()&&!this._hasZeroValue()){var e=[],r=this.min(),n=this.max();for(r=Math.log(r)/Math.LN10,n=(Math.log(n)/Math.LN10-r)/t,i=0;i<t;i++)e[i]=0==i?r:e[i-1]+n;return(e=e.map(function(t){return Math.pow(10,t)})).push(this.max()),this.setBounds(e),this.setRanges(),this.method="geometric progression ("+t+" classes)",this.bounds}if(!this.silent)throw new TypeError("geometric progression can't be applied with a serie containing negative or zero values.");this.log("[silent mode] geometric progression can't be applied with a serie containing negative or zero values.",!0)}},this.getClassArithmeticProgression=function(t){if(!this._nodata()){var e=0;for(i=1;i<=t;i++)e+=i;var r=[],n=this.min();for(e=(this.max()-n)/e,i=0;i<=t;i++)r[i]=0==i?n:r[i-1]+i*e;return this.setBounds(r),this.setRanges(),this.method="arithmetic progression ("+t+" classes)",this.bounds}},this.getClassJenks=function(t){if(!this._nodata()){dataList=this.sorted();for(var e=[],r=0,n=dataList.length+1;r<n;r++){for(var i=[],a=0,o=t+1;a<o;a++)i.push(0);e.push(i)}for(r=[],n=0,i=dataList.length+1;n<i;n++){a=[],o=0;for(var s=t+1;o<s;o++)a.push(0);r.push(a)}for(n=1,i=t+1;n<i;n++){e[0][n]=1,r[0][n]=0;var c=1;for(a=dataList.length+1;c<a;c++)r[c][n]=1/0;c=0}for(n=2,i=dataList.length+1;n<i;n++){s=o=a=0;for(var u=1,h=n+1;u<h;u++){var l=n-u+1;c=(o+=(c=parseFloat(dataList[l-1]))*c)-(a+=c)*a/(s+=1);var f=l-1;if(0!=f)for(var d=2,_=t+1;d<_;d++)r[n][d]>=c+r[f][d-1]&&(e[n][d]=l,r[n][d]=c+r[f][d-1])}e[n][1]=1,r[n][1]=c}for(c=dataList.length,r=[],n=0;n<=t;n++)r.push(0);for(r[t]=parseFloat(dataList[dataList.length-1]),r[0]=parseFloat(dataList[0]),n=t;2<=n;)i=parseInt(e[c][n]-2),r[n-1]=dataList[i],c=parseInt(e[c][n]-1),--n;return r[0]==r[1]&&(r[0]=0),this.setBounds(r),this.setRanges(),this.method="Jenks ("+t+" classes)",this.bounds}},this.getClassUniqueValues=function(){if(!this._nodata()){this.is_uniqueValues=!0;var t=this.sorted(),e=[];for(i=0;i<this.pop();i++)-1===e.indexOf(t[i])&&e.push(t[i]);return this.bounds=e,this.method="unique values",e}},this.getClass=function(t){for(i=0;i<this.bounds.length;i++)if(1==this.is_uniqueValues){if(t==this.bounds[i])return i}else if(parseFloat(t)<=this.bounds[i+1])return i;return"Unable to get value's class."},this.getRanges=function(){return this.ranges},this.getRangeNum=function(t){var e;for(e=0;e<this.ranges.length;e++){var r=this.ranges[e].split(/ - /);if(t<=parseFloat(r[1]))return e}},this.getInnerRanges=function(){if(null!=this.inner_ranges)return this.inner_ranges;var t=[],e=this.sorted(),r=1;for(i=0;i<e.length;i++){if(0==i)var n=e[i];if(parseFloat(e[i])>parseFloat(this.bounds[r])&&(t[r-1]=""+n+this.separator+e[i-1],n=e[i],r++),r==this.bounds.length-1)return t[r-1]=""+n+this.separator+e[e.length-1],this.inner_ranges=t}},this.getSortedlist=function(){return this.sorted().join(", ")},this.getHtmlLegend=function(t,e,r,a,o,s){var c="",u=[];if(this.doCount(),ccolors=null!=t?t:this.colors,lg=null!=e?e:"Legend",getcounter=null!=r,fn=null!=a?a:function(t){return t},null==o&&(o="default"),"discontinuous"!=o||(this.getInnerRanges(),-1===this.counter.indexOf(0))){if("DESC"!==s&&(s="ASC"),!(ccolors.length<this.ranges.length)){if(0==this.is_uniqueValues)for(i=0;i<this.ranges.length;i++)!0===getcounter&&(c=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),e=this.ranges[i].split(this.separator),t=parseFloat(e[0]).toFixed(this.precision),e=parseFloat(e[1]).toFixed(this.precision),"distinct"==o&&0!=i&&(n(t)?(t=parseInt(t)+1,"manual"==this.precisionflag&&0!=this.precision&&(t=parseFloat(t).toFixed(this.precision))):(t=parseFloat(t)+1/Math.pow(10,this.precision),t=parseFloat(t).toFixed(this.precision))),"discontinuous"==o&&(e=this.inner_ranges[i].split(this.separator),t=parseFloat(e[0]).toFixed(this.precision),e=parseFloat(e[1]).toFixed(this.precision)),t=fn(t)+this.legendSeparator+fn(e),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+c+"</div>",u.push(t);else for(i=0;i<this.bounds.length;i++)!0===getcounter&&(c=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),t=fn(this.bounds[i]),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+c+"</div>",u.push(t);for("DESC"===s&&u.reverse(),o='<div class="geostats-legend"><div class="geostats-legend-title">'+lg+"</div>",i=0;i<u.length;i++)o+=u[i];return o+"</div>"}if(!this.silent)throw new TypeError("The number of colors should fit the number of ranges. Exit!");this.log("[silent mode] The number of colors should fit the number of ranges. Exit!",!0)}else{if(!this.silent)throw new TypeError("Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!");this.log("[silent mode] Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!",!0)}},this.objectID=(new Date).getUTCMilliseconds(),this.log("Creating new geostats object"),void 0!==e&&0<e.length?(this.serie=e,this.setPrecision(),this.log("Setting serie ("+e.length+") : "+e.join())):this.serie=[],this.getJenks=this.getClassJenks,this.getGeometricProgression=this.getClassGeometricProgression,this.getEqInterval=this.getClassEqInterval,this.getQuantile=this.getClassQuantile,this.getStdDeviation=this.getClassStdDeviation,this.getUniqueValues=this.getClassUniqueValues,this.getArithmeticProgression=this.getClassArithmeticProgression})}),Geostats=Object.freeze({default:geostats_min,__moduleExports:geostats_min});function binning(t,e){if(e.constructor!==Object)throw new Error("Binning only accepts an Object");var r=e.groupBy;if(r.constructor!==String)throw new Error("groupBy only accepts a String variable name");var n=e.method;if(n.constructor!==String)throw new Error("Please provide the classification method you will like to use");var i,a=e.numClasses,o=t[r],s=new Geostats(o);if("IntervalSize"===n){var c=e.binSize,u=variableDomain(o);i=rangeFromInterval(u,c,Math.round((u[1]-u[0])/c))}else"EqualInterval"===n?i=s.getClassEqInterval(a):"StandardDeviation"===n?i=s.getClassStdDeviation(a):"ArithmeticProgression"===n?i=s.getClassArithmeticProgression(a):"GeometricProgression"===n?i=s.getClassGeometricProgression(a):"Quantile"===n?i=s.getClassQuantile(a):"Jenks"===n?i=s.getClassJenks(a):"Manual"===n&&(i=e.manualClasses);return bin(t,r,i=pairRange(i))}function variableDomain(t){var e=t.sort(function(t,e){return t-e}),r=[];return r.push(e[0]),r.push(e.pop()),r}function rangeFromInterval(t,e,r){for(var n=[],i=t[0],a=0;a<r;a++){var o=i+e;n.push([i,o]),i=o}return n}function pairRange(t){for(var e=t.length,r=[],n=0;n<e-1;n++)r.push([t[n],t[n+1]]);return r}function bin(t,e,r){for(var n={bins:r},i=0,a=Array(r.length),o=dataLength(t),s=function(){var n=t[e][i],o=r.findIndex(function(t){return n>=t[0]&&n<=t[1]}),s=a[o];for(var c in s||(s={}),t)s[c]?s[c].push(t[c][i]):s[c]=[t[c][i]];a[o]=s,i++};i<o;)s();return n.grouped=a,n}function dropNA(t,e){var r;if(null===e)r=function(t){var e=!0;for(var r in t){if(invalid(t[r])){e=!1;break}}return e};else if(e.constructor===String)checkIfColumnsExist(t,[e]),r=function(t){return!invalid(t[e])};else{if(e.constructor!==Array)throw new Error("dropNA requires a null value, a string or an array of strings");checkIfColumnsExist(t,e),r=function(t){var r=!0,n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(e);!(n=(o=s.next()).done);n=!0){if(invalid(t[o.value])){r=!1;break}}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}return filter(t,r)}function checkIfColumnsExist(t,e){var r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(e);!(r=(a=o.next()).done);r=!0){var s=a.value;if(!t.hasOwnProperty(s))throw new Error("Column '".concat(s,"' not found"))}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}function globals(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var PJD_3PARAM=1,PJD_7PARAM=2,PJD_WGS84=4,PJD_NODATUM=5,SEC_TO_RAD=484813681109536e-20,HALF_PI=Math.PI/2,SIXTH=.16666666666666666,RA4=.04722222222222222,RA6=.022156084656084655,EPSLN=1e-10,D2R=.017453292519943295,R2D=57.29577951308232,FORTPI=Math.PI/4,TWO_PI=2*Math.PI,SPI=3.14159265359,exports$1={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},units={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},ignoredChar=/[\s_\-\/\(\)]/g;function match(t,e){if(t[e])return t[e];for(var r,n=Object.keys(t),i=e.toLowerCase().replace(ignoredChar,""),a=-1;++a<n.length;)if((r=n[a]).toLowerCase().replace(ignoredChar,"")===i)return t[r]}function projStr(t){var e,r,n,i={},a=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var r=e.split("=");return r.push(!0),t[r[0].toLowerCase()]=r[1],t},{}),o={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*D2R},lat_1:function(t){i.lat1=t*D2R},lat_2:function(t){i.lat2=t*D2R},lat_ts:function(t){i.lat_ts=t*D2R},lon_0:function(t){i.long0=t*D2R},lon_1:function(t){i.long1=t*D2R},lon_2:function(t){i.long2=t*D2R},alpha:function(t){i.alpha=parseFloat(t)*D2R},lonc:function(t){i.longc=t*D2R},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=match(units,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*D2R},pm:function(t){var e=match(exports$1,t);i.from_greenwich=(e||parseFloat(t))*D2R},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in a)r=a[e],e in o?"function"==typeof(n=o[e])?n(r):i[n]=r:i[e]=r;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}var NEUTRAL=1,KEYWORD=2,NUMBER$1=3,QUOTED=4,AFTERQUOTE=5,ENDED=-1,whitespace=/\s/,latin=/[A-Za-z]/,keyword=/[A-Za-z84]/,endThings=/[,\]]/,digets=/[\d\.E\-\+]/;function Parser(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=NEUTRAL}function parseString(t){return new Parser(t).output()}function mapit(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce(function(t,e){return sExpr(e,t),t},n);e&&(t[e]=i)}function sExpr(t,e){if(Array.isArray(t)){var r,n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void sExpr(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n)switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&sExpr(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&sExpr(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void mapit(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return sExpr(t,e[n]);return mapit(e,n,t)}else e[n]=t;else e[n]=!0}else e[t]=!0}Parser.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==QUOTED)for(;whitespace.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case NEUTRAL:return this.neutral(t);case KEYWORD:return this.keyword(t);case QUOTED:return this.quoted(t);case AFTERQUOTE:return this.afterquote(t);case NUMBER$1:return this.number(t);case ENDED:return}},Parser.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=QUOTED);if(endThings.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},Parser.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=NEUTRAL)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=NEUTRAL,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=ENDED))):void 0},Parser.prototype.number=function(t){if(!digets.test(t)){if(endThings.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},Parser.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=AFTERQUOTE},Parser.prototype.keyword=function(t){if(keyword.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=NEUTRAL)}if(!endThings.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},Parser.prototype.neutral=function(t){if(latin.test(t))return this.word=t,void(this.state=KEYWORD);if('"'===t)return this.word="",void(this.state=QUOTED);if(digets.test(t))return this.word=t,void(this.state=NUMBER$1);if(!endThings.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},Parser.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ENDED)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var D2R$1=.017453292519943295;function rename$1(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],3===e.length&&(t[r]=e[2](t[r])))}function d2r(t){return t*D2R$1}function cleanWKT(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function r(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",d2r],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",d2r],["x0","false_easting",r],["y0","false_northing",r],["long0","central_meridian",d2r],["lat0","latitude_of_origin",d2r],["lat0","standard_parallel_1",d2r],["lat1","standard_parallel_1",d2r],["lat2","standard_parallel_2",d2r],["azimuth","Azimuth"],["alpha","azimuth",d2r],["srsCode","name"]].forEach(function(e){return rename$1(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=d2r(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function wkt(t){var e=parseString(t),r=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",r]);var i={};return sExpr(e,i),cleanWKT(i),i}function defs(t){var e=this;if(2===arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?defs[t]=projStr(arguments[1]):defs[t]=wkt(arguments[1]):defs[t]=r}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?defs.apply(e,t):defs(t)});if("string"==typeof t){if(t in defs)return defs[t]}else"EPSG"in t?defs["EPSG:"+t.EPSG]=t:"ESRI"in t?defs["ESRI:"+t.ESRI]=t:"IAU2000"in t?defs["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function testObj(t){return"string"==typeof t}function testDef(t){return t in defs}globals(defs);var codeWords=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function testWKT(t){return codeWords.some(function(e){return t.indexOf(e)>-1})}var codes=["3857","900913","3785","102113"];function checkMercator(t){var e=match(t,"authority");if(e){var r=match(e,"epsg");return r&&codes.indexOf(r)>-1}}function checkProjStr(t){var e=match(t,"extension");if(e)return match(e,"proj4")}function testProj(t){return"+"===t[0]}function parse(t){if(!testObj(t))return t;if(testDef(t))return defs[t];if(testWKT(t)){var e=wkt(t);if(checkMercator(e))return defs["EPSG:3857"];var r=checkProjStr(e);return r?projStr(r):e}return testProj(t)?projStr(t):void 0}function extend$1(t,e){var r,n;if(t=t||{},!e)return t;for(n in e)void 0!==(r=e[n])&&(t[n]=r);return t}function msfnz(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function sign$1(t){return t<0?-1:1}function adjust_lon(t){return Math.abs(t)<=SPI?t:t-sign$1(t)*TWO_PI}function tsfnz(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(HALF_PI-e))/n}function phi2z(t,e){for(var r,n,i=.5*t,a=HALF_PI-2*Math.atan(e),o=0;o<=15;o++)if(r=t*Math.sin(a),a+=n=HALF_PI-2*Math.atan(e*Math.pow((1-r)/(1+r),i))-a,Math.abs(n)<=1e-10)return a;return-9999}function init(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function forward(t){var e,r,n=t.x,i=t.y;if(i*R2D>90&&i*R2D<-90&&n*R2D>180&&n*R2D<-180)return null;if(Math.abs(Math.abs(i)-HALF_PI)<=EPSLN)return null;if(this.sphere)e=this.x0+this.a*this.k0*adjust_lon(n-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(FORTPI+.5*i));else{var a=Math.sin(i),o=tsfnz(this.e,i,a);e=this.x0+this.a*this.k0*adjust_lon(n-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return t.x=e,t.y=r,t}function inverse(t){var e,r,n=t.x-this.x0,i=t.y-this.y0;if(this.sphere)r=HALF_PI-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(r=phi2z(this.e,a)))return null}return e=adjust_lon(this.long0+n/(this.a*this.k0)),t.x=e,t.y=r,t}var names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],merc={init:init,forward:forward,inverse:inverse,names:names};function init$1(){}function identity$7(t){return t}var names$1=["longlat","identity"],longlat={init:init$1,forward:identity$7,inverse:identity$7,names:names$1},projs=[merc,longlat],names$2={},projStore=[];function add$1(t,e){var r=projStore.length;return t.names?(projStore[r]=t,t.names.forEach(function(t){names$2[t.toLowerCase()]=r}),this):(console.log(e),!0)}function get(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==names$2[e]&&projStore[names$2[e]]?projStore[names$2[e]]:void 0}function start(){projs.forEach(add$1)}var projections={start:start,add:add$1,get:get},exports$2={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},WGS84=exports$2.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function eccentricity(t,e,r,n){var i=t*t,a=e*e,o=(i-a)/i,s=0;return n?(i=(t*=1-o*(SIXTH+o*(RA4+o*RA6)))*t,o=0):s=Math.sqrt(o),{es:o,e:s,ep2:(i-a)/a}}function sphere(t,e,r,n,i){if(!t){var a=match(exports$2,n);a||(a=WGS84),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(0===r||Math.abs(t-e)<EPSLN)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}exports$2.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var exports$3={};function datum(t,e,r,n,i,a){var o={};return o.datum_type=void 0===t||"none"===t?PJD_NODATUM:PJD_WGS84,e&&(o.datum_params=e.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=PJD_3PARAM),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=PJD_7PARAM,o.datum_params[3]*=SEC_TO_RAD,o.datum_params[4]*=SEC_TO_RAD,o.datum_params[5]*=SEC_TO_RAD,o.datum_params[6]=o.datum_params[6]/1e6+1))),o.a=r,o.b=n,o.es=i,o.ep2=a,o}function Projection(t,e){if(!(this instanceof Projection))return new Projection(t);e=e||function(t){if(t)throw t};var r=parse(t);if("object"==typeof r){var n=Projection.projections.get(r.projName);if(n){if(r.datumCode&&"none"!==r.datumCode){var i=match(exports$3,r.datumCode);i&&(r.datum_params=i.towgs84?i.towgs84.split(","):null,r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84";var a=sphere(r.a,r.b,r.rf,r.ellps,r.sphere),o=eccentricity(a.a,a.b,a.rf,r.R_A),s=r.datum||datum(r.datumCode,r.datum_params,a.a,a.b,o.es,o.ep2);extend$1(this,r),extend$1(this,n),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=s,this.init(),e(null,this)}else e(t)}else e(t)}function compareDatums(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===PJD_3PARAM?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==PJD_7PARAM||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}function geodeticToGeocentric(t,e,r){var n,i,a,o,s=t.x,c=t.y,u=t.z?t.z:0;if(c<-HALF_PI&&c>-1.001*HALF_PI)c=-HALF_PI;else if(c>HALF_PI&&c<1.001*HALF_PI)c=HALF_PI;else{if(c<-HALF_PI)return{x:-1/0,y:-1/0,z:t.z};if(c>HALF_PI)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(c),o=Math.cos(c),a=i*i,{x:((n=r/Math.sqrt(1-e*a))+u)*o*Math.cos(s),y:(n+u)*o*Math.sin(s),z:(n*(1-e)+u)*i}}function geocentricToGeodetic(t,e,r,n){var i,a,o,s,c,u,h,l,f,d,_,p,m,v,y,g=t.x,b=t.y,$=t.z?t.z:0;if(i=Math.sqrt(g*g+b*b),a=Math.sqrt(g*g+b*b+$*$),i/r<1e-12){if(v=0,a/r<1e-12)return HALF_PI,y=-n,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(b,g);o=$/a,l=(s=i/a)*(1-e)*(c=1/Math.sqrt(1-e*(2-e)*s*s)),f=o*c,m=0;do{m++,u=e*(h=r/Math.sqrt(1-e*f*f))/(h+(y=i*l+$*f-h*(1-e*f*f))),p=(_=o*(c=1/Math.sqrt(1-u*(2-u)*s*s)))*l-(d=s*(1-u)*c)*f,l=d,f=_}while(p*p>1e-24&&m<30);return{x:v,y:Math.atan(_/Math.abs(d)),z:y}}function geocentricToWgs84(t,e,r){if(e===PJD_3PARAM)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===PJD_7PARAM){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c=r[5],u=r[6];return{x:u*(t.x-c*t.y+s*t.z)+n,y:u*(c*t.x+t.y-o*t.z)+i,z:u*(-s*t.x+o*t.y+t.z)+a}}}function geocentricFromWgs84(t,e,r){if(e===PJD_3PARAM)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===PJD_7PARAM){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c=r[5],u=r[6],h=(t.x-n)/u,l=(t.y-i)/u,f=(t.z-a)/u;return{x:h+c*l-s*f,y:-c*h+l+o*f,z:s*h-o*l+f}}}function checkParams(t){return t===PJD_3PARAM||t===PJD_7PARAM}function datum_transform(t,e,r){return compareDatums(t,e)?r:t.datum_type===PJD_NODATUM||e.datum_type===PJD_NODATUM?r:t.es!==e.es||t.a!==e.a||checkParams(t.datum_type)||checkParams(e.datum_type)?(r=geodeticToGeocentric(r,t.es,t.a),checkParams(t.datum_type)&&(r=geocentricToWgs84(r,t.datum_type,t.datum_params)),checkParams(e.datum_type)&&(r=geocentricFromWgs84(r,e.datum_type,e.datum_params)),geocentricToGeodetic(r,e.es,e.a,e.b)):r}function adjust_axis(t,e,r){var n,i,a,o=r.x,s=r.y,c=r.z||0,u={};for(a=0;a<3;a++)if(!e||2!==a||void 0!==r.z)switch(0===a?(n=o,i="x"):1===a?(n=s,i="y"):(n=c,i="z"),t.axis[a]){case"e":u[i]=n;break;case"w":u[i]=-n;break;case"n":u[i]=n;break;case"s":u[i]=-n;break;case"u":void 0!==r[i]&&(u.z=n);break;case"d":void 0!==r[i]&&(u.z=-n);break;default:return null}return u}function toPoint(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function checkSanity(t){checkCoord(t.x),checkCoord(t.y)}function checkCoord(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function checkNotWGS(t,e){return(t.datum.datum_type===PJD_3PARAM||t.datum.datum_type===PJD_7PARAM)&&"WGS84"!==e.datumCode||(e.datum.datum_type===PJD_3PARAM||e.datum.datum_type===PJD_7PARAM)&&"WGS84"!==t.datumCode}function transform$2(t,e,r){var n;return Array.isArray(r)&&(r=toPoint(r)),checkSanity(r),t.datum&&e.datum&&checkNotWGS(t,e)&&(r=transform$2(t,n=new Projection("WGS84"),r),t=n),"enu"!==t.axis&&(r=adjust_axis(t,!1,r)),"longlat"===t.projName?r={x:r.x*D2R,y:r.y*D2R}:(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter}),r=t.inverse(r)),t.from_greenwich&&(r.x+=t.from_greenwich),r=datum_transform(t.datum,e.datum,r),e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y}),"longlat"===e.projName?r={x:r.x*R2D,y:r.y*R2D}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter})),"enu"!==e.axis?adjust_axis(e,!0,r):r}exports$3.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},exports$3.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},exports$3.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},exports$3.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},exports$3.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},exports$3.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},exports$3.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},exports$3.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},exports$3.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},exports$3.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},exports$3.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},exports$3.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},exports$3.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},exports$3.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},exports$3.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},exports$3.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},exports$3.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},Projection.projections=projections,Projection.projections.start();var wgs84=Projection("WGS84");function transformer$1(t,e,r){var n,i,a;return Array.isArray(r)?(n=transform$2(t,e,r),3===r.length?[n.x,n.y,n.z]:[n.x,n.y]):(i=transform$2(t,e,r),2===(a=Object.keys(r)).length?i:(a.forEach(function(t){"x"!==t&&"y"!==t&&(i[t]=r[t])}),i))}function checkProj(t){return t instanceof Projection?t:t.oProj?t.oProj:Projection(t)}function proj4(t,e,r){t=checkProj(t);var n,i=!1;return void 0===e?(e=t,t=wgs84,i=!0):(void 0!==e.x||Array.isArray(e))&&(r=e,e=t,t=wgs84,i=!0),e=checkProj(e),r?transformer$1(t,e,r):(n={forward:function(r){return transformer$1(t,e,r)},inverse:function(r){return transformer$1(e,t,r)}},i&&(n.oProj=e),n)}var NUM_100K_SETS=6,SET_ORIGIN_COLUMN_LETTERS="AJSAJS",SET_ORIGIN_ROW_LETTERS="AFAFAF",A$1=65,I=73,O=79,V=86,Z=90,mgrs={forward:forward$1,inverse:inverse$1,toPoint:toPoint$1};function forward$1(t,e){return e=e||5,encode(LLtoUTM({lat:t[1],lon:t[0]}),e)}function inverse$1(t){var e=UTMtoLL(decode(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function toPoint$1(t){var e=UTMtoLL(decode(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function degToRad(t){return t*(Math.PI/180)}function radToDeg(t){return t/Math.PI*180}function LLtoUTM(t){var e,r,n,i,a,o,s=t.lat,c=t.lon,u=6378137,h=degToRad(s),l=degToRad(c);o=Math.floor((c+180)/6)+1,180===c&&(o=60),s>=56&&s<64&&c>=3&&c<12&&(o=32),s>=72&&s<84&&(c>=0&&c<9?o=31:c>=9&&c<21?o=33:c>=21&&c<33?o=35:c>=33&&c<42&&(o=37)),a=degToRad(6*(o-1)-180+3),e=u/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),r=Math.tan(h)*Math.tan(h),n=.006739496752268451*Math.cos(h)*Math.cos(h);var f=.9996*e*((i=Math.cos(h)*(l-a))+(1-r+n)*i*i*i/6+(5-18*r+r*r+72*n-.39089081163157013)*i*i*i*i*i/120)+5e5,d=.9996*(u*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h))+e*Math.tan(h)*(i*i/2+(5-r+9*n+4*n*n)*i*i*i*i/24+(61-58*r+r*r+600*n-2.2240339282485886)*i*i*i*i*i*i/720));return s<0&&(d+=1e7),{northing:Math.round(d),easting:Math.round(f),zoneNumber:o,zoneLetter:getLetterDesignator(s)}}function UTMtoLL(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a,o,s,c,u,h,l,f,d=6378137,_=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),p=r-5e5,m=e;n<"N"&&(m-=1e7),h=6*(i-1)-180+3,f=(l=m/.9996/6367449.145945056)+(3*_/2-27*_*_*_/32)*Math.sin(2*l)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*l)+151*_*_*_/96*Math.sin(6*l),a=d/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),o=Math.tan(f)*Math.tan(f),s=.006739496752268451*Math.cos(f)*Math.cos(f),c=.99330562*d/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),u=p/(.9996*a);var v=f-a*Math.tan(f)/c*(u*u/2-(5+3*o+10*s-4*s*s-.06065547077041606)*u*u*u*u/24+(61+90*o+298*s+45*o*o-1.6983531815716497-3*s*s)*u*u*u*u*u*u/720);v=radToDeg(v);var y,g=(u-(1+2*o+s)*u*u*u/6+(5-2*s+28*o-3*s*s+.05391597401814761+24*o*o)*u*u*u*u*u/120)/Math.cos(f);if(g=h+radToDeg(g),t.accuracy){var b=UTMtoLL({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:b.lat,right:b.lon,bottom:v,left:g}}else y={lat:v,lon:g};return y}function getLetterDesignator(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function encode(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+get100kID(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function get100kID(t,e,r){var n=get100kSetForZone(r);return getLetter100kID(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}function get100kSetForZone(t){var e=t%NUM_100K_SETS;return 0===e&&(e=NUM_100K_SETS),e}function getLetter100kID(t,e,r){var n=r-1,i=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(n),a=SET_ORIGIN_ROW_LETTERS.charCodeAt(n),o=i+t-1,s=a+e,c=!1;return o>Z&&(o=o-Z+A$1-1,c=!0),(o===I||i<I&&o>I||(o>I||i<I)&&c)&&o++,(o===O||i<O&&o>O||(o>O||i<O)&&c)&&++o===I&&o++,o>Z&&(o=o-Z+A$1-1),s>V?(s=s-V+A$1-1,c=!0):c=!1,(s===I||a<I&&s>I||(s>I||a<I)&&c)&&s++,(s===O||a<O&&s>O||(s>O||a<O)&&c)&&++s===I&&s++,s>V&&(s=s-V+A$1-1),String.fromCharCode(o)+String.fromCharCode(s)}function decode(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,n=null,i="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,a++}var o=parseInt(i,10);if(0===a||a+3>r)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(a++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;n=t.substring(a,a+=2);for(var c=get100kSetForZone(o),u=getEastingFromChar(n.charAt(0),c),h=getNorthingFromChar(n.charAt(1),c);h<getMinNorthing(s);)h+=2e6;var l=r-a;if(l%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,d,_,p=l/2,m=0,v=0;return p>0&&(f=1e5/Math.pow(10,p),d=t.substring(a,a+p),m=parseFloat(d)*f,_=t.substring(a+p),v=parseFloat(_)*f),{easting:m+u,northing:v+h,zoneLetter:s,zoneNumber:o,accuracy:f}}function getEastingFromChar(t,e){for(var r=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(++r===I&&r++,r===O&&r++,r>Z){if(i)throw"Bad character: "+t;r=A$1,i=!0}n+=1e5}return n}function getNorthingFromChar(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=SET_ORIGIN_ROW_LETTERS.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(++r===I&&r++,r===O&&r++,r>V){if(i)throw"Bad character: "+t;r=A$1,i=!0}n+=1e5}return n}function getMinNorthing(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Point(t,e,r){if(!(this instanceof Point))return new Point(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Point.fromMGRS=function(t){return new Point(toPoint$1(t))},Point.prototype.toMGRS=function(t){return forward$1([this.x,this.y],t)};var version="2.5.0",C00=1,C02=.25,C04=.046875,C06=.01953125,C08=.01068115234375,C22=.75,C44=.46875,C46=.013020833333333334,C48=.007120768229166667,C66=.3645833333333333,C68=.005696614583333333,C88=.3076171875;function pj_enfn(t){var e=[];e[0]=C00-t*(C02+t*(C04+t*(C06+t*C08))),e[1]=t*(C22-t*(C04+t*(C06+t*C08)));var r=t*t;return e[2]=r*(C44-t*(C46+t*C48)),r*=t,e[3]=r*(C66-t*C68),e[4]=r*t*C88,e}function pj_mlfn(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var MAX_ITER=20;function pj_inv_mlfn(t,e,r){for(var n=1/(1-e),i=t,a=MAX_ITER;a;--a){var o=Math.sin(i),s=1-e*o*o;if(i-=s=(pj_mlfn(i,o,Math.cos(i),r)-t)*(s*Math.sqrt(s))*n,Math.abs(s)<EPSLN)return i}return i}function init$2(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=pj_enfn(this.es),this.ml0=pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function forward$2(t){var e,r,n,i=t.x,a=t.y,o=adjust_lon(i-this.long0),s=Math.sin(a),c=Math.cos(a);if(this.es){var u=c*o,h=Math.pow(u,2),l=this.ep2*Math.pow(c,2),f=Math.pow(l,2),d=Math.abs(c)>EPSLN?Math.tan(a):0,_=Math.pow(d,2),p=Math.pow(_,2);e=1-this.es*Math.pow(s,2),u/=Math.sqrt(e);var m=pj_mlfn(a,s,c,this.en);r=this.a*(this.k0*u*(1+h/6*(1-_+l+h/20*(5-18*_+p+14*l-58*_*l+h/42*(61+179*p-p*_-479*_)))))+this.x0,n=this.a*(this.k0*(m-this.ml0+s*o*u/2*(1+h/12*(5-_+9*l+4*f+h/30*(61+p-58*_+270*l-330*_*l+h/56*(1385+543*p-p*_-3111*_))))))+this.y0}else{var v=c*Math.sin(o);if(Math.abs(Math.abs(v)-1)<EPSLN)return 93;if(r=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,n=c*Math.cos(o)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(n))>=1){if(v-1>EPSLN)return 93;n=0}else n=Math.acos(n);a<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=r,t.y=n,t}function inverse$2(t){var e,r,n,i,a=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(r=pj_inv_mlfn(e=this.ml0+o/this.k0,this.es,this.en),Math.abs(r)<HALF_PI){var s=Math.sin(r),c=Math.cos(r),u=Math.abs(c)>EPSLN?Math.tan(r):0,h=this.ep2*Math.pow(c,2),l=Math.pow(h,2),f=Math.pow(u,2),d=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var _=a*Math.sqrt(e)/this.k0,p=Math.pow(_,2);n=r-(e*=u)*p/(1-this.es)*.5*(1-p/12*(5+3*f-9*h*f+h-4*l-p/30*(61+90*f-252*h*f+45*d+46*h-p/56*(1385+3633*f+4095*d+1574*d*f)))),i=adjust_lon(this.long0+_*(1-p/6*(1+2*f+h-p/20*(5+28*f+24*d+8*h*f+6*h-p/42*(61+662*f+1320*d+720*d*f))))/c)}else n=HALF_PI*sign$1(o),i=0;else{var m=Math.exp(a/this.k0),v=.5*(m-1/m),y=this.lat0+o/this.k0,g=Math.cos(y);e=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(v,2))),n=Math.asin(e),o<0&&(n=-n),i=0===v&&0===g?0:adjust_lon(Math.atan2(v,g)+this.long0)}return t.x=i,t.y=n,t}var names$3=["Transverse_Mercator","Transverse Mercator","tmerc"],tmerc={init:init$2,forward:forward$2,inverse:inverse$2,names:names$3};function sinh$1(t){var e=Math.exp(t);return e=(e-1/e)/2}function hypot(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function log1py(t){var e=1+t,r=e-1;return 0===r?t:t*Math.log(e)/r}function asinhy(t){var e=Math.abs(t);return e=log1py(e*(1+e/(hypot(1,e)+1))),t<0?-e:e}function gatg(t,e){for(var r,n=2*Math.cos(2*e),i=t.length-1,a=t[i],o=0;--i>=0;)r=n*a-o+t[i],o=a,a=r;return e+r*Math.sin(2*e)}function clens(t,e){for(var r,n=2*Math.cos(e),i=t.length-1,a=t[i],o=0;--i>=0;)r=n*a-o+t[i],o=a,a=r;return Math.sin(e)*r}function cosh$1(t){var e=Math.exp(t);return e=(e+1/e)/2}function clens_cmplx(t,e,r){for(var n,i,a=Math.sin(e),o=Math.cos(e),s=sinh$1(r),c=cosh$1(r),u=2*o*c,h=-2*a*s,l=t.length-1,f=t[l],d=0,_=0,p=0;--l>=0;)n=_,i=d,f=u*(_=f)-n-h*(d=p)+t[l],p=h*_-i+u*d;return[(u=a*c)*f-(h=o*s)*p,u*p+h*f]}function init$3(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),r*=e,this.cgb[1]=r*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r*=e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),r*=e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(e*(-24832/14175)-2.4)),r*=e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r*=e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(.25+r*(1/64+r/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),r*=e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r*=e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r*=e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r*=e,this.utg[5]=-.03233083094085698*r,this.gtu[5]=.6650675310896665*r;var n=gatg(this.cbg,this.lat0);this.Zb=-this.Qn*(n+clens(this.gtu,2*n))}function forward$3(t){var e=adjust_lon(t.x-this.long0),r=t.y;r=gatg(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),a=Math.sin(e),o=Math.cos(e);r=Math.atan2(n,o*i),e=Math.atan2(a*i,hypot(n,i*o)),e=asinhy(Math.tan(e));var s,c,u=clens_cmplx(this.gtu,2*r,2*e);return r+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(s=1/0,c=1/0),t.x=s,t.y=c,t}function inverse$3(t){var e,r,n=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var a=clens_cmplx(this.utg,2*i,2*n);i+=a[0],n+=a[1],n=Math.atan(sinh$1(n));var o=Math.sin(i),s=Math.cos(i),c=Math.sin(n),u=Math.cos(n);i=Math.atan2(o*u,hypot(c,u*s)),e=adjust_lon((n=Math.atan2(c,u*s))+this.long0),r=gatg(this.cgb,i)}else e=1/0,r=1/0;return t.x=e,t.y=r,t}var names$4=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],etmerc={init:init$3,forward:forward$3,inverse:inverse$3,names:names$4};function adjust_zone(t,e){if(void 0===t){if((t=Math.floor(30*(adjust_lon(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}var dependsOn="etmerc";function init$4(){var t=adjust_zone(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,etmerc.init.apply(this),this.forward=etmerc.forward,this.inverse=etmerc.inverse}var names$5=["Universal Transverse Mercator System","utm"],utm={init:init$4,names:names$5,dependsOn:dependsOn};function srat(t,e){return Math.pow((1-t)/(1+t),e)}var MAX_ITER$1=20;function init$5(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*t,this.ratexp))}function forward$4(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+FORTPI),this.C)*srat(this.e*Math.sin(r),this.ratexp))-HALF_PI,t.x=this.C*e,t}function inverse$4(t){for(var e=t.x/this.C,r=t.y,n=Math.pow(Math.tan(.5*r+FORTPI)/this.K,1/this.C),i=MAX_ITER$1;i>0&&(r=2*Math.atan(n*srat(this.e*Math.sin(t.y),-.5*this.e))-HALF_PI,!(Math.abs(r-t.y)<1e-14));--i)t.y=r;return i?(t.x=e,t.y=r,t):null}var names$6=["gauss"],gauss={init:init$5,forward:forward$4,inverse:inverse$4,names:names$6};function init$6(){gauss.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function forward$5(t){var e,r,n,i;return t.x=adjust_lon(t.x-this.long0),gauss.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function inverse$5(t){var e,r,n,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(a,this.R2);e=Math.sin(o),r=Math.cos(o),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,gauss.inverse.apply(this,[t]),t.x=adjust_lon(t.x+this.long0),t}var names$7=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],sterea={init:init$6,forward:forward$5,inverse:inverse$5,names:names$7};function ssfn_(t,e,r){return e*=r,Math.tan(.5*(HALF_PI+t))*Math.pow((1-e)/(1+e),.5*r)}function init$7(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*(1+sign$1(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*this.cons*msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/tsfnz(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=msfnz(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function forward$6(t){var e,r,n,i,a,o,s=t.x,c=t.y,u=Math.sin(c),h=Math.cos(c),l=adjust_lon(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=EPSLN&&Math.abs(c+this.lat0)<=EPSLN?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*h*Math.cos(l)),t.x=this.a*e*h*Math.sin(l)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*h*Math.cos(l))+this.y0,t):(r=2*Math.atan(this.ssfn_(c,u,this.e))-HALF_PI,i=Math.cos(r),n=Math.sin(r),Math.abs(this.coslat0)<=EPSLN?(a=tsfnz(this.e,c*this.con,this.con*u),o=2*this.a*this.k0*a/this.cons,t.x=this.x0+o*Math.sin(s-this.long0),t.y=this.y0-this.con*o*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<EPSLN?(e=2*this.a*this.k0/(1+i*Math.cos(l)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*i*Math.cos(l))),t.y=e*(this.cosX0*n-this.sinX0*i*Math.cos(l))+this.y0),t.x=e*i*Math.sin(l)+this.x0,t))}function inverse$6(t){var e,r,n,i,a;t.x-=this.x0,t.y-=this.y0;var o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,r=this.lat0,o<=EPSLN?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o),e=Math.abs(this.coslat0)<EPSLN?this.lat0>0?adjust_lon(this.long0+Math.atan2(t.x,-1*t.y)):adjust_lon(this.long0+Math.atan2(t.x,t.y)):adjust_lon(this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=r,t)}if(Math.abs(this.coslat0)<=EPSLN){if(o<=EPSLN)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=o*this.cons/(2*this.a*this.k0),r=this.con*phi2z(this.e,n),e=this.con*adjust_lon(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=EPSLN?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/o),e=adjust_lon(this.long0+Math.atan2(t.x*Math.sin(i),o*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),r=-1*phi2z(this.e,Math.tan(.5*(HALF_PI+a)));return t.x=e,t.y=r,t}var names$8=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],stere={init:init$7,forward:forward$6,inverse:inverse$6,names:names$8,ssfn_:ssfn_};function init$8(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=1/this.rf,i=2*n-Math.pow(n,2),a=this.e=Math.sqrt(i);this.R=this.k0*r*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*s+this.alpha*a/2*c}function forward$7(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t}function inverse$7(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),o=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+o/this.alpha,c=0,u=a,h=-1e3,l=0;Math.abs(u-h)>1e-7;){if(++l>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=s,t.y=u,t}var names$9=["somerc"],somerc={init:init$8,forward:forward$7,inverse:inverse$7,names:names$9};function init$9(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),r=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-r*r);var n,i,a=tsfnz(this.e,this.lat0,t),o=this.bl/e*Math.sqrt((1-this.es)/(1-r*r));if(o*o<1&&(o=1),isNaN(this.longc)){var s=tsfnz(this.e,this.lat1,Math.sin(this.lat1)),c=tsfnz(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(o+Math.sqrt(o*o-1))*Math.pow(a,this.bl):this.el=(o-Math.sqrt(o*o-1))*Math.pow(a,this.bl);var u=Math.pow(s,this.bl),h=Math.pow(c,this.bl);i=.5*((n=this.el/u)-1/n);var l=(this.el*this.el-h*u)/(this.el*this.el+h*u),f=(h-u)/(h+u),d=adjust_lon(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(l*Math.tan(.5*this.bl*d)/f)/this.bl,this.long0=adjust_lon(this.long0);var _=adjust_lon(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*_)/i),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else n=this.lat0>=0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=n*Math.pow(a,this.bl),i=.5*(n-1/n),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))}function forward$8(t){var e,r,n,i=t.x,a=t.y,o=adjust_lon(i-this.long0);if(Math.abs(Math.abs(a)-HALF_PI)<=EPSLN)n=a>0?-1:1,r=this.al/this.bl*Math.log(Math.tan(FORTPI+n*this.gamma0*.5)),e=-1*n*HALF_PI*this.al/this.bl;else{var s=tsfnz(this.e,a,Math.sin(a)),c=this.el/Math.pow(s,this.bl),u=.5*(c-1/c),h=.5*(c+1/c),l=Math.sin(this.bl*o),f=(u*Math.sin(this.gamma0)-l*Math.cos(this.gamma0))/h;r=Math.abs(Math.abs(f)-1)<=EPSLN?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,e=Math.abs(Math.cos(this.bl*o))<=EPSLN?this.al*this.bl*o:this.al*Math.atan2(u*Math.cos(this.gamma0)+l*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+r):(e-=this.uc,t.x=this.x0+r*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-r*Math.sin(this.alpha)),t}function inverse$8(t){var e,r;this.no_rot?(r=t.y-this.y0,e=t.x-this.x0):(r=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*r/this.al),i=.5*(n-1/n),a=.5*(n+1/n),o=Math.sin(this.bl*e/this.al),s=(o*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/a,c=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<EPSLN?(t.x=this.long0,t.y=HALF_PI):Math.abs(s+1)<EPSLN?(t.x=this.long0,t.y=-1*HALF_PI):(t.y=phi2z(this.e,c),t.x=adjust_lon(this.long0-Math.atan2(i*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}var names$a=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],omerc={init:init$9,forward:forward$8,inverse:inverse$8,names:names$a};function init$a(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<EPSLN)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=msfnz(this.e,e,r),i=tsfnz(this.e,this.lat1,e),a=Math.sin(this.lat2),o=Math.cos(this.lat2),s=msfnz(this.e,a,o),c=tsfnz(this.e,this.lat2,a),u=tsfnz(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>EPSLN?this.ns=Math.log(n/s)/Math.log(i/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function forward$9(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=EPSLN&&(r=sign$1(r)*(HALF_PI-2*EPSLN));var n,i,a=Math.abs(Math.abs(r)-HALF_PI);if(a>EPSLN)n=tsfnz(this.e,r,Math.sin(r)),i=this.a*this.f0*Math.pow(n,this.ns);else{if((a=r*this.ns)<=0)return null;i=0}var o=this.ns*adjust_lon(e-this.long0);return t.x=this.k0*(i*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(o))+this.y0,t}function inverse$9(t){var e,r,n,i,a,o=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+s*s),r=1):(e=-Math.sqrt(o*o+s*s),r=-1);var c=0;if(0!==e&&(c=Math.atan2(r*o,r*s)),0!==e||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),-9999===(i=phi2z(this.e,n)))return null}else i=-HALF_PI;return a=adjust_lon(c/this.ns+this.long0),t.x=a,t.y=i,t}var names$b=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],lcc={init:init$a,forward:forward$9,inverse:inverse$9,names:names$b};function init$b(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function forward$a(t){var e,r,n,i,a,o,s,c=t.x,u=t.y,h=adjust_lon(c-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),n=-h*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),o=this.n*a,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(o)/1,t.x=s*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function inverse$a(t){var e,r,n,i,a,o,s,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,o=e,s=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(s=1),o=t.y,u+=1}while(0===s&&u<15);return u>=15?null:t}var names$c=["Krovak","krovak"],krovak={init:init$b,forward:forward$a,inverse:inverse$a,names:names$c};function mlfn(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function e0fn(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function e1fn(t){return.375*t*(1+.25*t*(1+.46875*t))}function e2fn(t){return.05859375*t*t*(1+.75*t)}function e3fn(t){return t*t*t*(35/3072)}function gN(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function adjust_lat(t){return Math.abs(t)<HALF_PI?t:t-sign$1(t)*Math.PI}function imlfn(t,e,r,n,i){var a,o;a=t/e;for(var s=0;s<15;s++)if(a+=o=(t-(e*a-r*Math.sin(2*a)+n*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*r*Math.cos(2*a)+4*n*Math.cos(4*a)-6*i*Math.cos(6*a)),Math.abs(o)<=1e-10)return a;return NaN}function init$c(){this.sphere||(this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function forward$b(t){var e,r,n=t.x,i=t.y;if(n=adjust_lon(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var a=Math.sin(i),o=Math.cos(i),s=gN(this.a,this.e,a),c=Math.tan(i)*Math.tan(i),u=n*Math.cos(i),h=u*u,l=this.es*o*o/(1-this.es);e=s*u*(1-h*c*(1/6-(8-c+8*l)*h/120)),r=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*a/o*h*(.5+(5-c+6*l)*h/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function inverse$b(t){t.x-=this.x0,t.y-=this.y0;var e,r,n=t.x/this.a,i=t.y/this.a;if(this.sphere){var a=i+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(n)),r=Math.atan2(Math.tan(n),Math.cos(a))}else{var o=imlfn(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-HALF_PI)<=EPSLN)return t.x=this.long0,t.y=HALF_PI,i<0&&(t.y*=-1),t;var s=gN(this.a,this.e,Math.sin(o)),c=s*s*s/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(o),2),h=n*this.a/s,l=h*h;e=o-s*Math.tan(o)/c*h*h*(.5-(1+3*u)*h*h/24),r=h*(1-l*(u/3+(1+3*u)*u*l/15))/Math.cos(o)}return t.x=adjust_lon(r+this.long0),t.y=adjust_lat(e),t}var names$d=["Cassini","Cassini_Soldner","cass"],cass={init:init$c,forward:forward$b,inverse:inverse$b,names:names$d};function qsfnz(t,e){var r;return t>1e-7?(1-t*t)*(e/(1-(r=t*e)*r)-.5/t*Math.log((1-r)/(1+r))):2*e}var S_POLE=1,N_POLE=2,EQUIT=3,OBLIQ=4;function init$d(){var t,e=Math.abs(this.lat0);if(Math.abs(e-HALF_PI)<EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=qsfnz(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function forward$c(t){var e,r,n,i,a,o,s,c,u,h,l=t.x,f=t.y;if(l=adjust_lon(l-this.long0),this.sphere){if(a=Math.sin(f),h=Math.cos(f),n=Math.cos(l),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+h*n:1+this.sinph0*a+this.cosph0*h*n)<=EPSLN)return null;e=(r=Math.sqrt(2/r))*h*Math.sin(l),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*h*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(f+this.phi0)<EPSLN)return null;r=FORTPI-.5*f,e=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(l),r*=n}}else{switch(s=0,c=0,u=0,n=Math.cos(l),i=Math.sin(l),a=Math.sin(f),o=qsfnz(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=o/this.qp,c=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*c*n;break;case this.EQUIT:u=1+c*n;break;case this.N_POLE:u=HALF_PI+f,o=this.qp-o;break;case this.S_POLE:u=f-HALF_PI,o=this.qp+o}if(Math.abs(u)<EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),r=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*c*n):(u=Math.sqrt(2/(1+c*n)))*s*this.ymf,e=this.xmf*u*c*i;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(u=Math.sqrt(o))*i,r=n*(this.mode===this.S_POLE?u:-u)):e=r=0}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function inverse$c(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,o,s,c=t.x/this.a,u=t.y/this.a;if(this.sphere){var h,l=0,f=0;if((r=.5*(h=Math.sqrt(c*c+u*u)))>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(r),l=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(h)<=EPSLN?0:Math.asin(u*f/h),c*=f,u=l*h;break;case this.OBLIQ:r=Math.abs(h)<=EPSLN?this.phi0:Math.asin(l*this.sinph0+u*f*this.cosph0/h),c*=f*this.cosph0,u=(l-Math.sin(r)*this.sinph0)*h;break;case this.N_POLE:u=-u,r=HALF_PI-r;break;case this.S_POLE:r-=HALF_PI}e=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,u*=this.dd,(o=Math.sqrt(c*c+u*u))<EPSLN)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*o/this.rq),n=Math.cos(i),c*=i=Math.sin(i),this.mode===this.OBLIQ?(s=n*this.sinb1+u*i*this.cosb1/o,a=this.qp*s,u=o*this.cosb1*n-u*this.sinb1*i):(s=u*i/o,a=this.qp*s,u=o*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(a=c*c+u*u))return t.x=0,t.y=this.phi0,t;s=1-a/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(c,u),r=authlat(Math.asin(s),this.apa)}return t.x=adjust_lon(this.long0+e),t.y=r,t}var P00=.3333333333333333,P01=.17222222222222222,P02=.10257936507936508,P10=.06388888888888888,P11=.0664021164021164,P20=.016415012942191543;function authset(t){var e,r=[];return r[0]=t*P00,e=t*t,r[0]+=e*P01,r[1]=e*P10,e*=t,r[0]+=e*P02,r[1]+=e*P11,r[2]=e*P20,r}function authlat(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var names$e=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],laea={init:init$d,forward:forward$c,inverse:inverse$c,names:names$e,S_POLE:S_POLE,N_POLE:N_POLE,EQUIT:EQUIT,OBLIQ:OBLIQ};function asinz(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function init$e(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=qsfnz(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function forward$d(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=qsfnz(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*adjust_lon(e-this.long0),o=i*Math.sin(a)+this.x0,s=this.rh-i*Math.cos(a)+this.y0;return t.x=o,t.y=s,t}function inverse$d(t){var e,r,n,i,a,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,0!==e&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,o=this.phi1z(this.e3,r)),a=adjust_lon(i/this.ns0+this.long0),t.x=a,t.y=o,t}function phi1z(t,e){var r,n,i,a,o=asinz(.5*e);if(t<EPSLN)return o;for(var s=t*t,c=1;c<=25;c++)if(o+=a=.5*(i=1-(n=t*(r=Math.sin(o)))*n)*i/Math.cos(o)*(e/(1-s)-r/i+.5/t*Math.log((1-n)/(1+n))),Math.abs(a)<=1e-7)return o;return null}var names$f=["Albers_Conic_Equal_Area","Albers","aea"],aea={init:init$e,forward:forward$d,inverse:inverse$d,names:names$f,phi1z:phi1z};function init$f(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function forward$e(t){var e,r,n,i,a,o,s,c=t.x,u=t.y;return n=adjust_lon(c-this.long0),e=Math.sin(u),r=Math.cos(u),i=Math.cos(n),1,(a=this.sin_p14*e+this.cos_p14*r*i)>0||Math.abs(a)<=EPSLN?(o=this.x0+1*this.a*r*Math.sin(n)/a,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*i)/a):(o=this.x0+this.infinity_dist*r*Math.sin(n),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=o,t.y=s,t}function inverse$e(t){var e,r,n,i,a,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),o=asinz((n=Math.cos(i))*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),a=adjust_lon(this.long0+a)):(o=this.phic0,a=0),t.x=a,t.y=o,t}var names$g=["gnom"],gnom={init:init$f,forward:forward$e,inverse:inverse$e,names:names$g};function iqsfnz(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*HALF_PI:HALF_PI;for(var n,i,a,o,s=Math.asin(.5*e),c=0;c<30;c++)if(i=Math.sin(s),a=Math.cos(s),o=t*i,s+=n=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-i/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),Math.abs(n)<=1e-10)return s;return NaN}function init$g(){this.sphere||(this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function forward$f(t){var e,r,n=t.x,i=t.y,a=adjust_lon(n-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=qsfnz(this.e,Math.sin(i));e=this.x0+this.a*this.k0*a,r=this.y0+this.a*o*.5/this.k0}return t.x=e,t.y=r,t}function inverse$f(t){var e,r;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=adjust_lon(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=iqsfnz(this.e,2*t.y*this.k0/this.a),e=adjust_lon(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var names$h=["cea"],cea={init:init$g,forward:forward$f,inverse:inverse$f,names:names$h};function init$h(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function forward$g(t){var e=t.x,r=t.y,n=adjust_lon(e-this.long0),i=adjust_lat(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t}function inverse$g(t){var e=t.x,r=t.y;return t.x=adjust_lon(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=adjust_lat(this.lat0+(r-this.y0)/this.a),t}var names$i=["Equirectangular","Equidistant_Cylindrical","eqc"],eqc={init:init$h,forward:forward$g,inverse:inverse$g,names:names$i},MAX_ITER$2=20;function init$i(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function forward$h(t){var e,r,n,i=t.x,a=t.y,o=adjust_lon(i-this.long0);if(n=o*Math.sin(a),this.sphere)Math.abs(a)<=EPSLN?(e=this.a*o,r=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(a),r=this.a*(adjust_lat(a-this.lat0)+(1-Math.cos(n))/Math.tan(a)));else if(Math.abs(a)<=EPSLN)e=this.a*o,r=-1*this.ml0;else{var s=gN(this.a,this.e,Math.sin(a))/Math.tan(a);e=s*Math.sin(n),r=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+s*(1-Math.cos(n))}return t.x=e+this.x0,t.y=r+this.y0,t}function inverse$h(t){var e,r,n,i,a,o,s,c,u;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=EPSLN)e=adjust_lon(n/this.a+this.long0),r=0;else{var h;for(o=this.lat0+i/this.a,s=n*n/this.a/this.a+o*o,c=o,a=MAX_ITER$2;a;--a)if(c+=u=-1*(o*(c*(h=Math.tan(c))+1)-c-.5*(c*c+s)*h)/((c-o)/h-1),Math.abs(u)<=EPSLN){r=c;break}e=adjust_lon(this.long0+Math.asin(n*Math.tan(c)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=EPSLN)r=0,e=adjust_lon(this.long0+n/this.a);else{var l,f,d,_,p;for(o=(this.ml0+i)/this.a,s=n*n/this.a/this.a+o*o,c=o,a=MAX_ITER$2;a;--a)if(p=this.e*Math.sin(c),l=Math.sqrt(1-p*p)*Math.tan(c),f=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,c),d=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=u=(o*(l*(_=f/this.a)+1)-_-.5*l*(_*_+s))/(this.es*Math.sin(2*c)*(_*_+s-2*o*_)/(4*l)+(o-_)*(l*d-2/Math.sin(2*c))-d),Math.abs(u)<=EPSLN){r=c;break}l=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=adjust_lon(this.long0+Math.asin(n*l/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var names$j=["Polyconic","poly"],poly={init:init$i,forward:forward$h,inverse:inverse$h,names:names$j};function init$j(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function forward$i(t){var e,r=t.x,n=t.y-this.lat0,i=r-this.long0,a=n/SEC_TO_RAD*1e-5,o=i,s=1,c=0;for(e=1;e<=10;e++)s*=a,c+=this.A[e]*s;var u,h=c,l=o,f=1,d=0,_=0,p=0;for(e=1;e<=6;e++)u=d*h+f*l,f=f*h-d*l,d=u,_=_+this.B_re[e]*f-this.B_im[e]*d,p=p+this.B_im[e]*f+this.B_re[e]*d;return t.x=p*this.a+this.x0,t.y=_*this.a+this.y0,t}function inverse$i(t){var e,r,n=t.x,i=t.y,a=n-this.x0,o=(i-this.y0)/this.a,s=a/this.a,c=1,u=0,h=0,l=0;for(e=1;e<=6;e++)r=u*o+c*s,c=c*o-u*s,u=r,h=h+this.C_re[e]*c-this.C_im[e]*u,l=l+this.C_im[e]*c+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var d,_=h,p=l,m=o,v=s;for(e=2;e<=6;e++)d=p*h+_*l,_=_*h-p*l,p=d,m+=(e-1)*(this.B_re[e]*_-this.B_im[e]*p),v+=(e-1)*(this.B_im[e]*_+this.B_re[e]*p);_=1,p=0;var y=this.B_re[1],g=this.B_im[1];for(e=2;e<=6;e++)d=p*h+_*l,_=_*h-p*l,p=d,y+=e*(this.B_re[e]*_-this.B_im[e]*p),g+=e*(this.B_im[e]*_+this.B_re[e]*p);var b=y*y+g*g;h=(m*y+v*g)/b,l=(v*y-m*g)/b}var $=h,M=l,x=1,S=0;for(e=1;e<=9;e++)x*=$,S+=this.D[e]*x;var w=this.lat0+S*SEC_TO_RAD*1e5,P=this.long0+M;return t.x=P,t.y=w,t}var names$k=["New_Zealand_Map_Grid","nzmg"],nzmg={init:init$j,forward:forward$i,inverse:inverse$i,names:names$k};function init$k(){}function forward$j(t){var e=t.x,r=t.y,n=adjust_lon(e-this.long0),i=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=a,t}function inverse$j(t){t.x-=this.x0,t.y-=this.y0;var e=adjust_lon(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var names$l=["Miller_Cylindrical","mill"],mill={init:init$k,forward:forward$j,inverse:inverse$j,names:names$l},MAX_ITER$3=20;function init$l(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pj_enfn(this.es)}function forward$k(t){var e,r,n=t.x,i=t.y;if(n=adjust_lon(n-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(i),o=MAX_ITER$3;o;--o){var s=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<EPSLN)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var c=Math.sin(i),u=Math.cos(i);r=this.a*pj_mlfn(i,c,u,this.en),e=this.a*n*u/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=r,t}function inverse$k(t){var e,r,n;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=asinz((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=asinz(Math.sin(e)/this.n)),r=adjust_lon(r+this.long0),e=adjust_lat(e)):(e=pj_inv_mlfn(t.y/this.a,this.es,this.en),(n=Math.abs(e))<HALF_PI?(n=Math.sin(e),r=adjust_lon(this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)))):n-EPSLN<HALF_PI&&(r=this.long0)),t.x=r,t.y=e,t}var names$m=["Sinusoidal","sinu"],sinu={init:init$l,forward:forward$k,inverse:inverse$k,names:names$m};function init$m(){}function forward$l(t){for(var e=t.x,r=t.y,n=adjust_lon(e-this.long0),i=r,a=Math.PI*Math.sin(r);;){var o=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=o,Math.abs(o)<EPSLN)break}i/=2,Math.PI/2-Math.abs(r)<EPSLN&&(n=0);var s=.900316316158*this.a*n*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=c,t}function inverse$l(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=adjust_lon(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t}var names$n=["Mollweide","moll"],moll={init:init$m,forward:forward$l,inverse:inverse$l,names:names$n};function init$n(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=msfnz(this.e,this.sinphi,this.cosphi),this.ml1=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=msfnz(this.e,this.sinphi,this.cosphi),this.ml2=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function forward$m(t){var e,r=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var i=mlfn(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-i)}var a=this.ns*adjust_lon(r-this.long0),o=this.x0+e*Math.sin(a),s=this.y0+this.rh-e*Math.cos(a);return t.x=o,t.y=s,t}function inverse$m(t){var e,r,n,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;return 0!==r&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere?(i=adjust_lon(this.long0+a/this.ns),n=adjust_lat(this.g-r/this.a),t.x=i,t.y=n,t):(n=imlfn(this.g-r/this.a,this.e0,this.e1,this.e2,this.e3),i=adjust_lon(this.long0+a/this.ns),t.x=i,t.y=n,t)}var names$o=["Equidistant_Conic","eqdc"],eqdc={init:init$n,forward:forward$m,inverse:inverse$m,names:names$o};function init$o(){this.R=this.a}function forward$n(t){var e,r,n=t.x,i=t.y,a=adjust_lon(n-this.long0);Math.abs(i)<=EPSLN&&(e=this.x0+this.R*a,r=this.y0);var o=asinz(2*Math.abs(i/Math.PI));(Math.abs(a)<=EPSLN||Math.abs(Math.abs(i)-HALF_PI)<=EPSLN)&&(e=this.x0,r=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/a-a/Math.PI),c=s*s,u=Math.sin(o),h=Math.cos(o),l=h/(u+h-1),f=l*l,d=l*(2/u-1),_=d*d,p=Math.PI*this.R*(s*(l-_)+Math.sqrt(c*(l-_)*(l-_)-(_+c)*(f-_)))/(_+c);a<0&&(p=-p),e=this.x0+p;var m=c+l;return p=Math.PI*this.R*(d*m-s*Math.sqrt((_+c)*(c+1)-m*m))/(_+c),r=i>=0?this.y0+p:this.y0-p,t.x=e,t.y=r,t}function inverse$n(t){var e,r,n,i,a,o,s,c,u,h,l,f;return t.x-=this.x0,t.y-=this.y0,l=Math.PI*this.R,a=(n=t.x/l)*n+(i=t.y/l)*i,l=3*(i*i/(c=-2*(o=-Math.abs(i)*(1+a))+1+2*i*i+a*a)+(2*(s=o-2*i*i+n*n)*s*s/c/c/c-9*o*s/c/c)/27)/(u=(o-s*s/3/c)/c)/(h=2*Math.sqrt(-u/3)),Math.abs(l)>1&&(l=l>=0?1:-1),f=Math.acos(l)/3,r=t.y>=0?(-h*Math.cos(f+Math.PI/3)-s/3/c)*Math.PI:-(-h*Math.cos(f+Math.PI/3)-s/3/c)*Math.PI,e=Math.abs(n)<EPSLN?this.long0:adjust_lon(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n),t.x=e,t.y=r,t}var names$p=["Van_der_Grinten_I","VanDerGrinten","vandg"],vandg={init:init$o,forward:forward$n,inverse:inverse$n,names:names$p};function init$p(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function forward$o(t){var e,r,n,i,a,o,s,c,u,h,l,f,d,_,p,m,v,y,g,b,$,M,x=t.x,S=t.y,w=Math.sin(t.y),P=Math.cos(t.y),E=adjust_lon(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=EPSLN?(t.x=this.x0+this.a*(HALF_PI-S)*Math.sin(E),t.y=this.y0-this.a*(HALF_PI-S)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=EPSLN?(t.x=this.x0+this.a*(HALF_PI+S)*Math.sin(E),t.y=this.y0+this.a*(HALF_PI+S)*Math.cos(E),t):(y=this.sin_p12*w+this.cos_p12*P*Math.cos(E),v=(m=Math.acos(y))/Math.sin(m),t.x=this.x0+this.a*v*P*Math.sin(E),t.y=this.y0+this.a*v*(this.cos_p12*w-this.sin_p12*P*Math.cos(E)),t):(e=e0fn(this.es),r=e1fn(this.es),n=e2fn(this.es),i=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(a=this.a*mlfn(e,r,n,i,HALF_PI),o=this.a*mlfn(e,r,n,i,S),t.x=this.x0+(a-o)*Math.sin(E),t.y=this.y0-(a-o)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=EPSLN?(a=this.a*mlfn(e,r,n,i,HALF_PI),o=this.a*mlfn(e,r,n,i,S),t.x=this.x0+(a+o)*Math.sin(E),t.y=this.y0+(a+o)*Math.cos(E),t):(s=w/P,c=gN(this.a,this.e,this.sin_p12),u=gN(this.a,this.e,w),h=Math.atan((1-this.es)*s+this.es*c*this.sin_p12/(u*P)),g=0===(l=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(E)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(l)-Math.PI)<=EPSLN?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(E)*Math.cos(h)/Math.sin(l)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),m=c*g*(1-(b=g*g)*(p=(d=this.e*this.cos_p12*Math.cos(l)/Math.sqrt(1-this.es))*d)*(1-p)/6+($=b*g)/8*(_=f*d)*(1-2*p)+(M=$*g)/120*(p*(4-7*p)-3*f*f*(1-7*p))-M*g/48*_),t.x=this.x0+m*Math.sin(l),t.y=this.y0+m*Math.cos(l),t))}function inverse$o(t){var e,r,n,i,a,o,s,c,u,h,l,f,d,_,p,m,v,y,g,b,$,M;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*HALF_PI*this.a)return;return r=e/this.a,n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=EPSLN?o=this.lat0:(o=asinz(i*this.sin_p12+t.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-HALF_PI,a=Math.abs(s)<=EPSLN?this.lat0>=0?adjust_lon(this.long0+Math.atan2(t.x,-t.y)):adjust_lon(this.long0-Math.atan2(-t.x,t.y)):adjust_lon(this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n))),t.x=a,t.y=o,t}return c=e0fn(this.es),u=e1fn(this.es),h=e2fn(this.es),l=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(o=imlfn(((f=this.a*mlfn(c,u,h,l,HALF_PI))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,c,u,h,l),a=adjust_lon(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=o,t):Math.abs(this.sin_p12+1)<=EPSLN?(f=this.a*mlfn(c,u,h,l,HALF_PI),o=imlfn(((e=Math.sqrt(t.x*t.x+t.y*t.y))-f)/this.a,c,u,h,l),a=adjust_lon(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),p=Math.atan2(t.x,t.y),d=gN(this.a,this.e,this.sin_p12),m=Math.cos(p),y=-(v=this.e*this.cos_p12*m)*v/(1-this.es),g=3*this.es*(1-y)*this.sin_p12*this.cos_p12*m/(1-this.es),M=1-y*($=(b=e/d)-y*(1+y)*Math.pow(b,3)/6-g*(1+3*y)*Math.pow(b,4)/24)*$/2-b*$*$*$/6,_=Math.asin(this.sin_p12*Math.cos($)+this.cos_p12*Math.sin($)*m),a=adjust_lon(this.long0+Math.asin(Math.sin(p)*Math.sin($)/Math.cos(_))),o=Math.atan((1-this.es*M*this.sin_p12/Math.sin(_))*Math.tan(_)/(1-this.es)),t.x=a,t.y=o,t)}var names$q=["Azimuthal_Equidistant","aeqd"],aeqd={init:init$p,forward:forward$o,inverse:inverse$o,names:names$q};function init$q(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function forward$p(t){var e,r,n,i,a,o,s,c=t.x,u=t.y;return n=adjust_lon(c-this.long0),e=Math.sin(u),r=Math.cos(u),i=Math.cos(n),1,((a=this.sin_p14*e+this.cos_p14*r*i)>0||Math.abs(a)<=EPSLN)&&(o=1*this.a*r*Math.sin(n),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=o,t.y=s,t}function inverse$p(t){var e,r,n,i,a,o,s;return t.x-=this.x0,t.y-=this.y0,r=asinz((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),n=Math.sin(r),i=Math.cos(r),o=this.long0,Math.abs(e)<=EPSLN?(s=this.lat0,t.x=o,t.y=s,t):(s=asinz(i*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.abs(this.lat0)-HALF_PI,Math.abs(a)<=EPSLN?(o=this.lat0>=0?adjust_lon(this.long0+Math.atan2(t.x,-t.y)):adjust_lon(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=s,t):(o=adjust_lon(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n)),t.x=o,t.y=s,t))}var names$r=["ortho"],ortho={init:init$q,forward:forward$p,inverse:inverse$p,names:names$r},FACE_ENUM={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},AREA_ENUM={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function init$r(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=HALF_PI-FORTPI/2?this.face=FACE_ENUM.TOP:this.lat0<=-(HALF_PI-FORTPI/2)?this.face=FACE_ENUM.BOTTOM:Math.abs(this.long0)<=FORTPI?this.face=FACE_ENUM.FRONT:Math.abs(this.long0)<=HALF_PI+FORTPI?this.face=this.long0>0?FACE_ENUM.RIGHT:FACE_ENUM.LEFT:this.face=FACE_ENUM.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function forward$q(t){var e,r,n,i,a,o,s={x:0,y:0},c={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,r=t.x,this.face===FACE_ENUM.TOP)i=HALF_PI-e,r>=FORTPI&&r<=HALF_PI+FORTPI?(c.value=AREA_ENUM.AREA_0,n=r-HALF_PI):r>HALF_PI+FORTPI||r<=-(HALF_PI+FORTPI)?(c.value=AREA_ENUM.AREA_1,n=r>0?r-SPI:r+SPI):r>-(HALF_PI+FORTPI)&&r<=-FORTPI?(c.value=AREA_ENUM.AREA_2,n=r+HALF_PI):(c.value=AREA_ENUM.AREA_3,n=r);else if(this.face===FACE_ENUM.BOTTOM)i=HALF_PI+e,r>=FORTPI&&r<=HALF_PI+FORTPI?(c.value=AREA_ENUM.AREA_0,n=-r+HALF_PI):r<FORTPI&&r>=-FORTPI?(c.value=AREA_ENUM.AREA_1,n=-r):r<-FORTPI&&r>=-(HALF_PI+FORTPI)?(c.value=AREA_ENUM.AREA_2,n=-r-HALF_PI):(c.value=AREA_ENUM.AREA_3,n=r>0?-r+SPI:-r-SPI);else{var u,h,l,f,d,_;this.face===FACE_ENUM.RIGHT?r=qsc_shift_lon_origin(r,+HALF_PI):this.face===FACE_ENUM.BACK?r=qsc_shift_lon_origin(r,+SPI):this.face===FACE_ENUM.LEFT&&(r=qsc_shift_lon_origin(r,-HALF_PI)),f=Math.sin(e),d=Math.cos(e),_=Math.sin(r),u=d*Math.cos(r),h=d*_,l=f,this.face===FACE_ENUM.FRONT?n=qsc_fwd_equat_face_theta(i=Math.acos(u),l,h,c):this.face===FACE_ENUM.RIGHT?n=qsc_fwd_equat_face_theta(i=Math.acos(h),l,-u,c):this.face===FACE_ENUM.BACK?n=qsc_fwd_equat_face_theta(i=Math.acos(-u),l,-h,c):this.face===FACE_ENUM.LEFT?n=qsc_fwd_equat_face_theta(i=Math.acos(-h),l,u,c):(i=n=0,c.value=AREA_ENUM.AREA_0)}return o=Math.atan(12/SPI*(n+Math.acos(Math.sin(n)*Math.cos(FORTPI))-HALF_PI)),a=Math.sqrt((1-Math.cos(i))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(n))))),c.value===AREA_ENUM.AREA_1?o+=HALF_PI:c.value===AREA_ENUM.AREA_2?o+=SPI:c.value===AREA_ENUM.AREA_3&&(o+=1.5*SPI),s.x=a*Math.cos(o),s.y=a*Math.sin(o),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t}function inverse$q(t){var e,r,n,i,a,o,s,c,u,h,l,f,d={lam:0,phi:0},_={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?_.value=AREA_ENUM.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(_.value=AREA_ENUM.AREA_1,e-=HALF_PI):t.x<0&&-t.x>=Math.abs(t.y)?(_.value=AREA_ENUM.AREA_2,e=e<0?e+SPI:e-SPI):(_.value=AREA_ENUM.AREA_3,e+=HALF_PI),u=SPI/12*Math.tan(e),a=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),o=Math.atan(a),(s=1-(n=Math.cos(e))*n*(i=Math.tan(r))*i*(1-Math.cos(Math.atan(1/Math.cos(o)))))<-1?s=-1:s>1&&(s=1),this.face===FACE_ENUM.TOP)c=Math.acos(s),d.phi=HALF_PI-c,_.value===AREA_ENUM.AREA_0?d.lam=o+HALF_PI:_.value===AREA_ENUM.AREA_1?d.lam=o<0?o+SPI:o-SPI:_.value===AREA_ENUM.AREA_2?d.lam=o-HALF_PI:d.lam=o;else if(this.face===FACE_ENUM.BOTTOM)c=Math.acos(s),d.phi=c-HALF_PI,_.value===AREA_ENUM.AREA_0?d.lam=-o+HALF_PI:_.value===AREA_ENUM.AREA_1?d.lam=-o:_.value===AREA_ENUM.AREA_2?d.lam=-o-HALF_PI:d.lam=o<0?-o-SPI:-o+SPI;else{var p,m,v;u=(p=s)*p,m=(u+=(v=u>=1?0:Math.sqrt(1-u)*Math.sin(o))*v)>=1?0:Math.sqrt(1-u),_.value===AREA_ENUM.AREA_1?(u=m,m=-v,v=u):_.value===AREA_ENUM.AREA_2?(m=-m,v=-v):_.value===AREA_ENUM.AREA_3&&(u=m,m=v,v=-u),this.face===FACE_ENUM.RIGHT?(u=p,p=-m,m=u):this.face===FACE_ENUM.BACK?(p=-p,m=-m):this.face===FACE_ENUM.LEFT&&(u=p,p=m,m=-u),d.phi=Math.acos(-v)-HALF_PI,d.lam=Math.atan2(m,p),this.face===FACE_ENUM.RIGHT?d.lam=qsc_shift_lon_origin(d.lam,-HALF_PI):this.face===FACE_ENUM.BACK?d.lam=qsc_shift_lon_origin(d.lam,-SPI):this.face===FACE_ENUM.LEFT&&(d.lam=qsc_shift_lon_origin(d.lam,+HALF_PI))}0!==this.es&&(h=d.phi<0?1:0,l=Math.tan(d.phi),f=this.b/Math.sqrt(l*l+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),h&&(d.phi=-d.phi));return d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t}function qsc_fwd_equat_face_theta(t,e,r,n){var i;return t<EPSLN?(n.value=AREA_ENUM.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=FORTPI?n.value=AREA_ENUM.AREA_0:i>FORTPI&&i<=HALF_PI+FORTPI?(n.value=AREA_ENUM.AREA_1,i-=HALF_PI):i>HALF_PI+FORTPI||i<=-(HALF_PI+FORTPI)?(n.value=AREA_ENUM.AREA_2,i=i>=0?i-SPI:i+SPI):(n.value=AREA_ENUM.AREA_3,i+=HALF_PI)),i}function qsc_shift_lon_origin(t,e){var r=t+e;return r<-SPI?r+=TWO_PI:r>+SPI&&(r-=TWO_PI),r}var names$s=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],qsc={init:init$r,forward:forward$q,inverse:inverse$q,names:names$s},COEFS_X=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],COEFS_Y=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],FXC=.8487,FYC=1.3523,C1=R2D/5,RC1=1/C1,NODES=18,poly3_val=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},poly3_der=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};function newton_rapshon(t,e,r,n){for(var i=e;n;--n){var a=t(i);if(i-=a,Math.abs(a)<r)break}return i}function init$s(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function forward$r(t){var e=adjust_lon(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*C1);n<0?n=0:n>=NODES&&(n=NODES-1),r=R2D*(r-RC1*n);var i={x:poly3_val(COEFS_X[n],r)*e,y:poly3_val(COEFS_Y[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*FXC+this.x0,i.y=i.y*this.a*FYC+this.y0,i}function inverse$r(t){var e={x:(t.x-this.x0)/(this.a*FXC),y:Math.abs(t.y-this.y0)/(this.a*FYC)};if(e.y>=1)e.x/=COEFS_X[NODES][0],e.y=t.y<0?-HALF_PI:HALF_PI;else{var r=Math.floor(e.y*NODES);for(r<0?r=0:r>=NODES&&(r=NODES-1);;)if(COEFS_Y[r][0]>e.y)--r;else{if(!(COEFS_Y[r+1][0]<=e.y))break;++r}var n=COEFS_Y[r],i=5*(e.y-n[0])/(COEFS_Y[r+1][0]-n[0]);i=newton_rapshon(function(t){return(poly3_val(n,t)-e.y)/poly3_der(n,t)},i,EPSLN,100),e.x/=poly3_val(COEFS_X[r],i),e.y=(5*r+i)*D2R,t.y<0&&(e.y=-e.y)}return e.x=adjust_lon(e.x+this.long0),e}var names$t=["Robinson","robin"],robin={init:init$s,forward:forward$r,inverse:inverse$r,names:names$t};function includedProjections(t){t.Proj.projections.add(tmerc),t.Proj.projections.add(etmerc),t.Proj.projections.add(utm),t.Proj.projections.add(sterea),t.Proj.projections.add(stere),t.Proj.projections.add(somerc),t.Proj.projections.add(omerc),t.Proj.projections.add(lcc),t.Proj.projections.add(krovak),t.Proj.projections.add(cass),t.Proj.projections.add(laea),t.Proj.projections.add(aea),t.Proj.projections.add(gnom),t.Proj.projections.add(cea),t.Proj.projections.add(eqc),t.Proj.projections.add(poly),t.Proj.projections.add(nzmg),t.Proj.projections.add(mill),t.Proj.projections.add(sinu),t.Proj.projections.add(moll),t.Proj.projections.add(eqdc),t.Proj.projections.add(vandg),t.Proj.projections.add(aeqd),t.Proj.projections.add(ortho),t.Proj.projections.add(qsc),t.Proj.projections.add(robin)}function reproject(t,e){if(!t.hasOwnProperty("geometry"))return console.warn("No geometry column found. Skipping reproject-transformation."),t;if(!e.hasOwnProperty("to"))return console.warn("reproject: missing required option 'to'"),t;var r="WGS84";e.hasOwnProperty("from")&&(r=e.from);var n=proj4(r,e.to).forward,i=transformFeatures(t.geometry,n);return t.geometry=i,t}proj4.defaultDatum="WGS84",proj4.Proj=Projection,proj4.WGS84=new proj4.Proj("WGS84"),proj4.Point=Point,proj4.toPoint=toPoint,proj4.defs=defs,proj4.transform=transform$2,proj4.mgrs=mgrs,proj4.version=version,includedProjections(proj4);var transformations={filter:filter,select:select,arrange:arrange,rename:rename,mutate:mutate,transmute:transmute,summarise:summarise,summarize:summarise,mutarise:mutarise,mutarize:mutarise,groupBy:groupBy,binning:binning,dropNA:dropNA,reproject:reproject};function applyTranformation(t,e){if(e.constructor!==Object)throw new Error("Transformation(s) must be specified as objects");var r=checkKeyValuePair(e,keys$3(transformations));return transformations[r](t,e[r])}function applyTransformations(t,e){var r=lodash_clonedeep(t);if(e.constructor===Array){var n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(e);!(n=(o=s.next()).done);n=!0){r=applyTranformation(r,o.value)}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}return e.constructor===Object&&(r=applyTranformation(r,e)),r}var generate=function(t,e){e=e||21;for(var r="";0<e--;)r+=t[Math.random()*t.length|0];return r},alphabet="23456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstwxyz";function id$2(){return generate(alphabet,8)}var DataManager={props:{data:{type:[Array,Object,void 0],default:void 0},format:{type:[String,void 0],default:void 0},transform:{type:[Array,Object,void 0],default:void 0}},data:function(){return{randomID:id$2(),containers:{}}},computed:{dataContainer:function(){if(this.data){var t=new _default(this.data,this.format);if(this.transform){var e=applyTransformations(t.getDataset(),this.transform);return freeze$1(new _default(e))}return freeze$1(t)}},dataScopeID:function(){var t;if(this.$attrs.id)t=this.$attrs.id;else if(this.$vnode.data.staticClass){t=this.$vnode.data.staticClass.replace(/\s+/g,"_")+"_"+this.randomID}else t="_"+this.randomID;return t}},created:function(){this.register(this.dataScopeID,this.dataContainer)},watch:{dataScopeID:function(t,e){this.rename(t,e)},dataContainer:function(t,e){this.update(this.dataScopeID,this.dataContainer)}},methods:{register:function(t,e){if(this.hasContainer(t))throw new Error("Duplicate data ID");e&&this.$set(this.containers,t,e)},hasContainer:function(t){return this.containers.hasOwnProperty(t)},getContainer:function(t){return this.containers[t]},rename:function(t,e){t!==e&&(this.$set(this.containers,t,this.containers[e]),this.$delete(this.containers,this.oldID))},update:function(t,e){this.$set(this.containers,t,e)},remove:function(t){this.$delete(this.containers,t)},createInterface:function(t){var e=new DataInterface(this);return e.setScope(t),e}},provide:function(){return{$$dataManager:this,$$dataScope:this.dataScopeID}}},ScaleManager={data:function(){return{scales:{}}},methods:{getScale:function(t){var e=t.split("#")[1];if(this.scales.hasOwnProperty(e))return this.scales[e];throw new Error("Unknown scale '".concat(e,"'"))},storeScale:function(t,e){this.$set(this.scales,t,e)},deleteScale:function(t){this.$delete(this.scales,t)}},provide:function(){return{$$scaleManager:this}}},script$2={mixins:[CoordinateSystem,DataManager,ScaleManager],provide:function(){return{$$grid:!1}}},__vue_script__$2=script$2;script$2.__file="Graphic.vue";var __vue_render__$1=function(){var t=this.$createElement,e=this._self._c||t;return this.ready?e("svg",{staticClass:"graphic",attrs:{width:this.width,height:this.height}},[this._t("default")],2):this._e()},__vue_staticRenderFns__$1=[],__vue_inject_styles__$2=void 0,__vue_scope_id__$2=void 0,__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1,Graphic=normalizeComponent({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},__vue_inject_styles__$2,__vue_script__$2,__vue_scope_id__$2,__vue_is_functional_template__$2,__vue_module_identifier__$2,void 0,void 0),DataReceiver={inject:["$$dataManager","$$dataScope"],computed:{$$dataInterface:function(){return this.$$dataManager.createInterface(this.$$dataScope)}}},ScaleReceiver={inject:["$$scaleManager"]},DataProvider={mixins:[DataReceiver],inject:["$$dataManager"],props:{data:{type:[Array,Object,void 0],default:void 0},format:{type:[String,void 0],default:void 0},transform:{type:[Array,Object,void 0],default:void 0}},data:function(){return{randomID:id$2()}},computed:{dataContainer:function(){if(this.data){var t=new _default(this.data,this.format);if(this.transform){var e=applyTransformations(t.getDataset(),this.transform);return new _default(e)}return t}if(!this.data&&this.transform){var r=applyTransformations(this.$$dataInterface.getDataset(),this.transform);return new _default(r)}},dataScopeID:function(){var t;if(this.$attrs.id)t=this.$attrs.id;else if(this.$vnode.data.staticClass){t=this.$vnode.data.staticClass.replace(/\s+/g,"_")+"_"+this.randomID}else t="_"+this.randomID;return t}},beforeDestroy:function(){this.$$dataManager.remove(this.dataScopeID)},created:function(){this.$$dataManager.register(this.dataScopeID,this.dataContainer)},watch:{dataScopeID:function(t,e){this.$$dataManager.rename(t,e)},dataContainer:function(){this.$$dataManager.update(this.dataScopeID,this.dataContainer)}},provide:function(){if(this.dataContainer)return{$$dataScope:this.dataScopeID}}},Rectangular={mixins:[Mark],props:{x1:{type:[Number,String,Date,void 0],default:void 0},x2:{type:[Number,String,Date,void 0],default:void 0},y1:{type:[Number,String,Date,void 0],default:void 0},y2:{type:[Number,String,Date,void 0],default:void 0},x:{type:[Number,String,Date,void 0],default:void 0},y:{type:[Number,String,Date,void 0],default:void 0},w:{type:[Number,void 0],default:void 0},h:{type:[Number,void 0],default:void 0},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:2},fill:{type:String,default:"#000000"},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0}},computed:{invalidX:function(){return invalidCombination(this.x1,this.x2,this.x,this.w)},invalidY:function(){return invalidCombination(this.y1,this.y2,this.y,this.h)},coordinateSpecification:function(){var t=this._props,e=_slicedToArray(convertSpecification(t.x1,t.x2,t.x,t.w,this.parentBranch,"x"),2),r=e[0],n=e[1],i=_slicedToArray(convertSpecification(t.y1,t.y2,t.y,t.h,this.parentBranch,"y"),2);return{x1:r,x2:n,y1:i[0],y2:i[1]}}}};function invalidCombination(t,e,r,n){return![isnt(r)&&isnt(n),is$2(t)&&isnt(e)&&isnt(r)&&is$2(n),isnt(t)&&is$2(e)&&isnt(r)&&is$2(n),isnt(t)&&isnt(e)&&is$2(r)&&is$2(n)].some(function(t){return!0===t})}function convertSpecification(t,e,r,n,i,a){var o;if(o="quantitative"===i.domainTypes[a]?function(t){return t}:i["x"===a?"getX":"getY"],isnt(r)&&isnt(n))return[t,e].map(o);if(is$2(t)&&isnt(e)&&isnt(r)&&is$2(n)){var s=o(t);return[s,s+n]}if(isnt(t)&&is$2(e)&&isnt(r)&&is$2(n)){var c=o(e);return[c-n,c]}if(isnt(t)&&isnt(e)&&is$2(r)&&is$2(n)){var u=o(r);return[u-n/2,u+n/2]}}var script$3={mixins:[CoordinateTreeUser,DataProvider,DataReceiver,ScaleReceiver,Rectangular],props:{type:{type:String,default:"scale"},scaleX:{type:[Object,String,Array,void 0],default:void 0},scaleY:{type:[Object,String,Array,void 0],default:void 0},scaleGeo:{type:[Object,void 0],default:void 0},data:{type:[Array,Object,void 0],default:void 0},format:{type:[String,void 0],default:void 0},transform:{type:[Array,Object,void 0],default:void 0}},data:function(){return{ready:!1}},computed:{ranges:function(){var t=this.coordinateSpecification;return{x:[t.x1,t.x2],y:[t.y1,t.y2]}},scales:function(){if(this.scaleX||this.scaleY||this.scaleGeo){var t={};this.scaleX&&(t.x=this.scaleX),this.scaleY&&(t.y=this.scaleY),this.scaleGeo&&(t.geo=this.scaleGeo);var e=t.hasOwnProperty("x"),r=t.hasOwnProperty("y");if(t.hasOwnProperty("geo")){if(e||r)throw new Error("Cannot set 'scale-x' or 'scale-y' when 'scale-geo' is defined");if(!this.$$dataInterface.hasColumn("geometry"))throw new Error("'scale-geo' is only allowed when data has geometry column");return t}return e||(t.x=this.ranges.x),r||(t.y=this.ranges.y),t}return this.ranges},allowScales:function(){if(this.scales&&this.scales.geo)return this.$$dataInterface.ready();var t=this.checkAllowedObj(this.scales.x),e=this.checkAllowedObj(this.scales.y);return!!this.$$dataInterface.ready()||!(!t||!e)},transformation:function(){var t=new CoordinateTransformation({type:this.type,scales:this.scales,ranges:this.ranges,dataInterface:this.$$dataInterface,scaleManager:this.$$scaleManager});return t},coordinateTreeBranchID:function(){var t,e=this.$parent.$vnode.data;if(e.attrs&&e.attrs.id)t=e.attrs.id+"_"+this.randomID;else if(e.staticClass){t=e.staticClass.replace(/\s+/g,"_")+"_"+this.randomID}else t="_"+id$2();return t}},watch:{transformation:"updateCoordinateTreeBranch"},beforeDestroy:function(){this.$$coordinateTree.removeBranch(this.coordinateTreeBranchID)},mounted:function(){this.setCoordinateTreeBranch(),this.ready=!0},methods:{setCoordinateTreeBranch:function(){this.$$coordinateTree.addBranch(this.coordinateTreeBranchID,this.$$coordinateTreeParent,this.transformation)},updateCoordinateTreeBranch:function(){this.$$coordinateTree.updateBranch(this.coordinateTreeBranchID,this.transformation)},checkAllowedObj:function(t){return t.constructor===Object?t.hasOwnProperty("domain"):t.constructor===Array},same:function(t,e){return stringify$1(t)===stringify$1(e)}},provide:function(){return{$$transform:this.$$coordinateTree.getTotalTransformation(this.coordinateTreeBranchID),$$coordinateTreeParent:this.coordinateTreeBranchID}},render:function(t){if(this.ready&&this.allowScales)return t("g",{class:"section"},this.$slots.default)}},__vue_script__$3=script$3;script$3.__file="Section.vue";var __vue_inject_styles__$3=void 0,__vue_scope_id__$3=void 0,__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=void 0,Section=normalizeComponent({},__vue_inject_styles__$3,__vue_script__$3,__vue_scope_id__$3,__vue_is_functional_template__$3,__vue_module_identifier__$3,void 0,void 0);function validateGridOptions(t){var e=void 0!==t.rows,r=void 0!==t.cols;if(e&&r)throw new Error("Cannot have both rows and cols");if(!e&&!r)throw new Error("Layout must have either rows or cols specified");if(r&&t.cols<1)throw new Error("Cols must be higher than 0");if(e&&t.rows<1)throw new Error("Rows must be higher than 0")}function calculateRowsCols(t,e){var r,n;return t.cols&&(r=Math.ceil(e/t.cols),n=t.cols),t.rows&&(r=t.rows,n=Math.ceil(e/t.rows)),{rows:r,cols:n}}function calculateGridLayout(t,e,r,n){for(var i=getPadding(r.layoutPadding),a=getPadding(r.cellPadding),o=n.x[0]+i.l,s=n.x[1]-i.r,c=n.y[0]+i.b,u=(s-o)/e,h=(n.y[1]-i.t-c)/t,l=[],f=0;f<t;f++)for(var d=0;d<e;d++){var _=o+d*u+a.l,p=_+u-a.l-a.r,m=c+f*h+a.b,v=m+h-a.b-a.t;l.push({x1:_,x2:p,y1:m,y2:v})}return l}function updateGridSections(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=e[i],o=r[i];n.push(updateSection(t,a,o))}return n}function getPadding(t){var e={l:0,r:0,t:0,b:0};if(!t)return e;if(t.constructor===Number)for(var r in e)e[r]=t;if(t.constructor===Object)for(var n in t)e[n]=t[n];return e}function updateSection(t,e,r){var n=mergeProps(r,e.componentOptions.propsData),i=e.componentOptions.children;return t(Section,{props:n},i)}function mergeProps(t,e){for(var r in e)["x1","x2","y1","y2","x","y","w","h"].includes(r)||(t[r]=e[r]);return t}var f$7=_wks$1,_wksExt={f:f$7},iterator=_wksExt.f("iterator"),iterator$1=iterator,defineProperty$2=_objectDp$1.f,_wksDefine=function(t){var e=_core$1.Symbol||(_core$1.Symbol={});"_"==t.charAt(0)||t in e||defineProperty$2(e,t,{value:_wksExt.f(t)})},f$8=Object.getOwnPropertySymbols,_objectGops={f:f$8},_enumKeys=function(t){var e=_objectKeys$1(t),r=_objectGops.f;if(r)for(var n,i=r(t),a=_objectPie$1.f,o=0;i.length>o;)a.call(t,n=i[o++])&&e.push(n);return e},hiddenKeys$1=_enumBugKeys$1.concat("length","prototype"),f$9=Object.getOwnPropertyNames||function(t){return _objectKeysInternal$1(t,hiddenKeys$1)},_objectGopn$1={f:f$9},gOPN$1=_objectGopn$1.f,toString$2={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(t){try{return gOPN$1(t)}catch(t){return windowNames.slice()}},f$a=function(t){return windowNames&&"[object Window]"==toString$2.call(t)?getWindowNames(t):gOPN$1(_toIobject$1(t))},_objectGopnExt={f:f$a},gOPD$2=Object.getOwnPropertyDescriptor,f$b=_descriptors$1?gOPD$2:function(t,e){if(t=_toIobject$1(t),e=_toPrimitive$1(e,!0),_ie8DomDefine$1)try{return gOPD$2(t,e)}catch(t){}if(_has$1(t,e))return _propertyDesc$1(!_objectPie$1.f.call(t,e),t[e])},_objectGopd$1={f:f$b},META=_meta.KEY,gOPD$3=_objectGopd$1.f,dP$3=_objectDp$1.f,gOPN$2=_objectGopnExt.f,$Symbol=_global$1.Symbol,$JSON$1=_global$1.JSON,_stringify=$JSON$1&&$JSON$1.stringify,PROTOTYPE$4="prototype",HIDDEN=_wks$1("_hidden"),TO_PRIMITIVE=_wks$1("toPrimitive"),isEnum$1={}.propertyIsEnumerable,SymbolRegistry=_shared$1("symbol-registry"),AllSymbols=_shared$1("symbols"),OPSymbols=_shared$1("op-symbols"),ObjectProto$2=Object[PROTOTYPE$4],USE_NATIVE$1="function"==typeof $Symbol,QObject=_global$1.QObject,setter=!QObject||!QObject[PROTOTYPE$4]||!QObject[PROTOTYPE$4].findChild,setSymbolDesc=_descriptors$1&&_fails$1(function(){return 7!=_objectCreate$1(dP$3({},"a",{get:function(){return dP$3(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=gOPD$3(ObjectProto$2,e);n&&delete ObjectProto$2[e],dP$3(t,e,r),n&&t!==ObjectProto$2&&dP$3(ObjectProto$2,e,n)}:dP$3,wrap=function(t){var e=AllSymbols[t]=_objectCreate$1($Symbol[PROTOTYPE$4]);return e._k=t,e},isSymbol=USE_NATIVE$1&&"symbol"==typeof $Symbol.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $Symbol},$defineProperty=function(t,e,r){return t===ObjectProto$2&&$defineProperty(OPSymbols,e,r),_anObject$1(t),e=_toPrimitive$1(e,!0),_anObject$1(r),_has$1(AllSymbols,e)?(r.enumerable?(_has$1(t,HIDDEN)&&t[HIDDEN][e]&&(t[HIDDEN][e]=!1),r=_objectCreate$1(r,{enumerable:_propertyDesc$1(0,!1)})):(_has$1(t,HIDDEN)||dP$3(t,HIDDEN,_propertyDesc$1(1,{})),t[HIDDEN][e]=!0),setSymbolDesc(t,e,r)):dP$3(t,e,r)},$defineProperties=function(t,e){_anObject$1(t);for(var r,n=_enumKeys(e=_toIobject$1(e)),i=0,a=n.length;a>i;)$defineProperty(t,r=n[i++],e[r]);return t},$create=function(t,e){return void 0===e?_objectCreate$1(t):$defineProperties(_objectCreate$1(t),e)},$propertyIsEnumerable=function(t){var e=isEnum$1.call(this,t=_toPrimitive$1(t,!0));return!(this===ObjectProto$2&&_has$1(AllSymbols,t)&&!_has$1(OPSymbols,t))&&(!(e||!_has$1(this,t)||!_has$1(AllSymbols,t)||_has$1(this,HIDDEN)&&this[HIDDEN][t])||e)},$getOwnPropertyDescriptor=function(t,e){if(t=_toIobject$1(t),e=_toPrimitive$1(e,!0),t!==ObjectProto$2||!_has$1(AllSymbols,e)||_has$1(OPSymbols,e)){var r=gOPD$3(t,e);return!r||!_has$1(AllSymbols,e)||_has$1(t,HIDDEN)&&t[HIDDEN][e]||(r.enumerable=!0),r}},$getOwnPropertyNames=function(t){for(var e,r=gOPN$2(_toIobject$1(t)),n=[],i=0;r.length>i;)_has$1(AllSymbols,e=r[i++])||e==HIDDEN||e==META||n.push(e);return n},$getOwnPropertySymbols=function(t){for(var e,r=t===ObjectProto$2,n=gOPN$2(r?OPSymbols:_toIobject$1(t)),i=[],a=0;n.length>a;)!_has$1(AllSymbols,e=n[a++])||r&&!_has$1(ObjectProto$2,e)||i.push(AllSymbols[e]);return i};USE_NATIVE$1||(_redefine$1(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var t=_uid$1(arguments.length>0?arguments[0]:void 0),e=function(r){this===ObjectProto$2&&e.call(OPSymbols,r),_has$1(this,HIDDEN)&&_has$1(this[HIDDEN],t)&&(this[HIDDEN][t]=!1),setSymbolDesc(this,t,_propertyDesc$1(1,r))};return _descriptors$1&&setter&&setSymbolDesc(ObjectProto$2,t,{configurable:!0,set:e}),wrap(t)})[PROTOTYPE$4],"toString",function(){return this._k}),_objectGopd$1.f=$getOwnPropertyDescriptor,_objectDp$1.f=$defineProperty,_objectGopn$1.f=_objectGopnExt.f=$getOwnPropertyNames,_objectPie$1.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,_descriptors$1&&!_library$1&&_redefine$1(ObjectProto$2,"propertyIsEnumerable",$propertyIsEnumerable,!0),_wksExt.f=function(t){return wrap(_wks$1(t))}),_export$1(_export$1.G+_export$1.W+_export$1.F*!USE_NATIVE$1,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j$2=0;es6Symbols.length>j$2;)_wks$1(es6Symbols[j$2++]);for(var wellKnownSymbols=_objectKeys$1(_wks$1.store),k=0;wellKnownSymbols.length>k;)_wksDefine(wellKnownSymbols[k++]);_export$1(_export$1.S+_export$1.F*!USE_NATIVE$1,"Symbol",{for:function(t){return _has$1(SymbolRegistry,t+="")?SymbolRegistry[t]:SymbolRegistry[t]=$Symbol(t)},keyFor:function(t){if(!isSymbol(t))throw TypeError(t+" is not a symbol!");for(var e in SymbolRegistry)if(SymbolRegistry[e]===t)return e},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),_export$1(_export$1.S+_export$1.F*!USE_NATIVE$1,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON$1&&_export$1(_export$1.S+_export$1.F*(!USE_NATIVE$1||_fails$1(function(){var t=$Symbol();return"[null]"!=_stringify([t])||"{}"!=_stringify({a:t})||"{}"!=_stringify(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(_isObject$1(e)||void 0!==t)&&!isSymbol(t))return _isArray(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!isSymbol(e))return e}),n[1]=e,_stringify.apply($JSON$1,n)}}),$Symbol[PROTOTYPE$4][TO_PRIMITIVE]||_hide$1($Symbol[PROTOTYPE$4],TO_PRIMITIVE,$Symbol[PROTOTYPE$4].valueOf),_setToStringTag$1($Symbol,"Symbol"),_setToStringTag$1(Math,"Math",!0),_setToStringTag$1(_global$1.JSON,"JSON",!0),_wksDefine("asyncIterator"),_wksDefine("observable");var symbol=_core$1.Symbol,symbol$1=symbol;function _typeof2(t){return(_typeof2="function"==typeof symbol$1&&"symbol"==typeof iterator$1?function(t){return typeof t}:function(t){return t&&"function"==typeof symbol$1&&t.constructor===symbol$1&&t!==symbol$1.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof symbol$1&&"symbol"===_typeof2(iterator$1)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof symbol$1&&t.constructor===symbol$1&&t!==symbol$1.prototype?"symbol":_typeof2(t)})(t)}function colors(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(6*n,6*++n);return r}function ramp(t){return rgbBasis(t[t.length-1])}colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var scheme=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors),BrBG=ramp(scheme),scheme$1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors),PRGn=ramp(scheme$1),scheme$2=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors),PiYG=ramp(scheme$2),scheme$3=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors),PuOr=ramp(scheme$3),scheme$4=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors),RdBu=ramp(scheme$4),scheme$5=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors),RdGy=ramp(scheme$5),scheme$6=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors),RdYlBu=ramp(scheme$6),scheme$7=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors),RdYlGn=ramp(scheme$7),scheme$8=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors),Spectral=ramp(scheme$8),scheme$9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);ramp(scheme$9);var scheme$a=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);ramp(scheme$a);var scheme$b=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);ramp(scheme$b);var scheme$c=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);ramp(scheme$c);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);ramp(scheme$d);var scheme$e=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);ramp(scheme$e);var scheme$f=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);ramp(scheme$f);var scheme$g=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);ramp(scheme$g);var scheme$h=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);ramp(scheme$h);var scheme$i=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);ramp(scheme$i);var scheme$j=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);ramp(scheme$j);var scheme$k=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);ramp(scheme$k);var scheme$l=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors),Blues=ramp(scheme$l),scheme$m=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors),Greens=ramp(scheme$m),scheme$n=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors),Greys=ramp(scheme$n),scheme$o=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors),Purples=ramp(scheme$o),scheme$p=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors),Reds=ramp(scheme$p),scheme$q=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors),Oranges=ramp(scheme$q),cubehelix$3=cubehelixLong(cubehelix(300,.5,0),cubehelix(-240,.5,1)),warm=cubehelixLong(cubehelix(-100,.75,.35),cubehelix(80,1.5,.8)),cool=cubehelixLong(cubehelix(260,.75,.35),cubehelix(80,1.5,.8)),c=cubehelix();function rainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return c.h=360*t-100,c.s=1.5-1.5*e,c.l=.8-.9*e,c+""}var c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function sinebow(t){var e;return t=(.5-t)*Math.PI,c$1.r=255*(e=Math.sin(t))*e,c$1.g=255*(e=Math.sin(t+pi_1_3))*e,c$1.b=255*(e=Math.sin(t+pi_2_3))*e,c$1+""}function ramp$1(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var viridis=ramp$1(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp$1(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp$1(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp$1(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),quantitative$1={brownBlue:brownBlue,purpleGreen:purpleGreen,pinkGreen:pinkGreen,purpleOrange:purpleOrange,redBlue:redBlue,redGray:redGray,redYellowBlue:redYellowBlue,redYellowGreen:redYellowGreen,spectral:spectral,blues:blues,greens:greens,greys:greys,oranges:oranges,purples:purples,reds:reds,viridis:viridis$1,inferno:inferno$1,magma:magma$1,plasma:plasma$1,warm:warm$1,cool:cool$1,cubehelixDefault:cubehelixDefault,rainbow:rainbow$1,sinebow:sinebow$1};function scale(t,e,r){if(r){if(r.constructor!==Number)throw new Error("domainMid must be Number");var n=[e[0],r,e[1]];return diverging(t).domain(n)}return sequential(t).domain(e)}function brownBlue(t,e){return scale(BrBG,t,e)}function purpleGreen(t,e){return scale(PRGn,t,e)}function pinkGreen(t,e){return scale(PiYG,t,e)}function purpleOrange(t,e){return scale(PuOr,t,e)}function redBlue(t,e){return scale(RdBu,t,e)}function redGray(t,e){return scale(RdGy,t,e)}function redYellowBlue(t,e){return scale(RdYlBu,t,e)}function redYellowGreen(t,e){return scale(RdYlGn,t,e)}function spectral(t,e){return scale(Spectral,t,e)}function blues(t,e){return scale(Blues,t,e)}function greens(t,e){return scale(Greens,t,e)}function greys(t,e){return scale(Greys,t,e)}function oranges(t,e){return scale(Oranges,t,e)}function purples(t,e){return scale(Purples,t,e)}function reds(t,e){return scale(Reds,t,e)}function viridis$1(t,e){return scale(viridis,t,e)}function inferno$1(t,e){return scale(inferno,t,e)}function magma$1(t,e){return scale(magma,t,e)}function plasma$1(t,e){return scale(plasma,t,e)}function warm$1(t,e){return scale(warm,t,e)}function cool$1(t,e){return scale(cool,t,e)}function cubehelixDefault(t,e){return scale(cubehelix$3,t,e)}function rainbow$1(t,e){return scale(rainbow,t,e)}function sinebow$1(t,e){return scale(sinebow,t,e)}var categorical$1={colors:colors$1};function colors$1(t,e){return ordinal().domain(t).range(e)}function createColorScale(t,e,r,n){if("quantitative"===e){var i=n.type||"blues";checkValidScale(t,e,i,quantitative$1);var a=quantitative$1[i](r,n.domainMid);if(n.absolute)return function(t){return a(Math.abs(t))};if(!n.absolute)return a}if("categorical"===e){var o=n.type||"colors";return checkValidScale(t,e,o,categorical$1),categorical$1[o](r,n.range)}}var quantitative$2={linear:function(t){return linear$1().domain(t).range([0,1])}};function createOpacityScale(t,e,r,n){if("quantitative"===e){var i=n.type||"linear";checkValidScale(t,e,i,quantitative$2);var a=quantitative$2[i](r);if(n.absolute)return function(t){return a(Math.abs(t))};if(!n.absolute)return a}}var categorical$2={};function createRadiusScale(t,e,r,n,i){if("quantitative"===e){var a=i.type||"squareRoot";checkValidScale(t,e,a,quantitative);var o=quantitative[a](r,n);if(i.absolute)return function(t){return o(Math.abs(t))};if(!i.absolute)return o}if("categorical"===e){var s=i.type||"equidistant";return checkValidScale(t,e,s,categorical$2),categorical$2[s](r,n)}}function getDimension(t){return["x","x1","x2","w"].includes(t)?"x":["y","y1","y2","h"].includes(t)?"y":void 0}function createScale(t,e,r){var n,i,a=_slicedToArray(parseScaleOptions(r,e.dataInterface,e.scaleManager),3),o=a[0],s=a[1],c=a[2];if(s=getPrimitive(s),["x1","x2","y1","y2","x","y","w","h"].includes(t)){var u=getDimension(t),h=e.ranges[u];return createCoordsScale(t,s,o,h=parseRange(h,c),c)}return["stroke","fill"].includes(t)?createColorScale(t,s,o,c):["opacity","strokeOpacity","fillOpacity"].includes(t)?createOpacityScale(t,s,o,c):["width","height","fontSize","strokeWidth","size"].includes(t)?(c.range?n=c.range:(console.warn("No range specified for prop ".concat(t,". Defaulting to [0, 10]")),n=[0,10]),createCoordsScale(t,s,o,n,c)):"radius"===t?(c.range?i=c.range:(console.warn("No range specified for prop ".concat(t,". Defaulting to [0, 8]")),i=[0,8]),createRadiusScale(t,s,o,i,c)):void 0}function createBand(t,e,r){if(!["w","h"].includes(t))throw new Error("'band' is only allowed on 'w' and 'h' props, not '".concat(t,"'"));var n=_slicedToArray(parseScaleOptions(r,e.dataInterface,e.scaleManager),3),i=n[0],a=n[1],o=n[2];if("categorical"!==(a=getPrimitive(a)))throw new Error("Domain ".concat(stringify$1(i)," has invalid type ").concat(a));var s=getDimension(t),c=e.ranges[s],u=(c=parseRange(c,o))[1]-c[0],h=o.padding||0,l=u/i.length;return l-=2*h}function getChildren(t){if(t.componentOptions&&t.componentOptions.children)return t.componentOptions.children.filter(function(t){return void 0!==t})}function initMappingTree(t){var e=[];return t.forEach(function(t){e.push(createNode(t))}),e}function createNode(t){var e={scales:{},geoScales:{},bands:{},children:[]},r=getChildren(t);return r&&r.length>0&&t.componentOptions.children.forEach(function(t){var r=createNode(t);e.children.push(r)}),e}function extractMappings(t,e,r){for(var n=0;n<e.length;n++){var i=t[n];i=updateMapping(i,e[n],r)||i}return t}function updateMapping(t,e,r){if(void 0!==e.tag){var n=e.componentOptions.propsData;for(var i in n){var a=n[i];if(a.constructor===Object&&!isFeature(a)){if(validateMapping(a),a.hasOwnProperty("scale")){var o=a.scale,s=stringify$1(o);if(t.scales[i]=t.scales[i]||{},!t.scales[i].hasOwnProperty(s)){var c=createScale(i,r,o);t.scales[i][s]=c}}if(a.hasOwnProperty("scaleGeo")){var u=a.scaleGeo,h=stringify$1(u);t.geoScales[i]=t.geoScales[i]||{},t.geoScales[i].hasOwnProperty(h)||function(){var e=createGeoScale(r,u),n=e.scaleX,a=e.scaleY;t.geoScales[i][h]=function(t){var e=_slicedToArray(t,2),r=e[0],i=e[1];return[n(r),a(i)]}}()}if(a.hasOwnProperty("band")){var l=a.band,f=stringify$1(l);if(t.bands[i]=t.bands[i]||{},!t.bands[i].hasOwnProperty(f)){var d=createBand(i,r,l);t.bands[i][f]=d}}}}var _=getChildren(e);if(_&&_.length>0)for(var p=0;p<_.length;p++){var m=t.children[p];m=updateMapping(m,_[p],r)||m}return t}}function mapRow(t,e,r){for(var n=0;n<e.length;n++){var i=t[n],a=e[n];e[n]=mapElement(i,a,r)}return e}function mapElement(t,e,r){if(void 0!==e.tag){var n=e.componentOptions.propsData,i={};for(var a in n){var o=n[a];if(o.constructor!==Object||isFeature(o))i[a]=o;else{var s=void 0;if(o.hasOwnProperty("val")){if(s=o.val,o.hasOwnProperty("scale")){var c=stringify$1(o.scale);s=applyScale(s,t.scales[a][c])}if(o.hasOwnProperty("scaleGeo")){var u=stringify$1(o.scaleGeo);s=applyScale(s,t.geoScales[a][u])}}if(o.hasOwnProperty("band")){var h=stringify$1(o.band);s=t.bands[a][h]}i[a]=s}}if(i=replaceMissing(i,n)){e.componentOptions.propsData=i;var l=getChildren(e);return l&&l.length>0&&(l=mapRow(t.children,l,r)),e}var f=e.componentOptions.tag;console.warn("Skipping '".concat(f,"', row ").concat(r+1," because of unhandled NA values."))}}function isFeature(t){return t.hasOwnProperty("type")&&t.hasOwnProperty("coordinates")}function applyScale(t,e){if(!invalid(t))if(t.constructor===Array){if(t[0].constructor,Array,t[0].constructor!==Array)return t.map(function(t){return e(t)})}else{if(t.constructor!==Object)return e(t);if(isFeature(t))return transform$1(t,e)}}function replaceMissing(t,e){var r=function(r){var n=t[r],i=void 0;if(e[r]&&e[r].constructor===Object&&(i=e[r].NA),invalid(n)&&invalid(i))return{v:void 0};invalid(i)?t[r]=n:invalid(n)?t[r]=i:n.constructor===Array?t[r]=n.map(function(t){return invalid(t)?i:t}):t[r]=n};for(var n in t){var i=r(n);if("object"===_typeof(i))return i.v}return t}function validateMapping(t){if(!t.hasOwnProperty("val")&&!t.hasOwnProperty("band"))throw new Error("Missing required mapping object keys 'val' or 'band'");if(t.hasOwnProperty("band")&&["val","scale","scaleGeo"].some(function(e){return t.hasOwnProperty(e)}))throw new Error("Cannot combine 'band' with other mapping options");if(t.hasOwnProperty("val")){if(["scale","scaleGeo"].every(function(e){return t.hasOwnProperty(e)}))throw new Error("Cannot combine 'scale' and 'scaleGeo'")}else if(t.hasOwnProperty("NA"))throw new Error("Can only use 'NA' in combination with 'val'")}var script$4={mixins:[DataReceiver,CoordinateTreeUser,ScaleReceiver],inject:["$$grid"],props:{unit:{type:String,default:"row",validator:function(t){return["row","dataframe"].includes(t)}}},computed:{context:function(){return{ranges:this.parentBranch.domains,parentBranch:this.parentBranch,dataInterface:this.$$dataInterface,scaleManager:this.$$scaleManager}}},methods:{mapRows:function(){var t=this,e=null,r=this.context,n=[];return this.$$dataInterface.forEachRow(function(i){var a=t.$scopedSlots.default(i);null===e&&(e=initMappingTree(a));var o=mapRow(e=extractMappings(e,a,r),a,i.i);n.push.apply(n,_toConsumableArray(o))}),n},mapDataframe:function(){var t=this.context,e={dataframe:this.$$dataInterface.getDataset()},r=this.$scopedSlots.default(e),n=initMappingTree(r);return mapRow(n=extractMappings(n,r,t),r,0)},validateSections:function(t){if(!(t=t.filter(function(t){return void 0!==t.tag})).every(function(t){return"vgg-section"===t.componentOptions.tag}))throw new Error("'vgg-grid' can have in its slot:\n          1. any number of 'vgg-section' components\n          2. a single 'vgg-map' component that only contains other 'vgg-section' components\n        ");return t}},provide:function(){return{$$grid:!1}},render:function(t){var e;if("row"===this.unit&&(e=this.mapRows()),"dataframe"===this.unit&&(e=this.mapDataframe()),e=e.filter(function(t){return void 0!==t}),!1!==this.$$grid){var r=this.validateSections(e),n=this.$$grid,i=calculateRowsCols(n,r.length);e=updateGridSections(t,r,calculateGridLayout(i.rows,i.cols,n,this.parentBranch.domains))}return t("g",{class:"map"},e)}},__vue_script__$4=script$4;script$4.__file="Map.vue";var __vue_inject_styles__$4=void 0,__vue_scope_id__$4=void 0,__vue_module_identifier__$4=void 0,__vue_is_functional_template__$4=void 0,Map$2=normalizeComponent({},__vue_inject_styles__$4,__vue_script__$4,__vue_scope_id__$4,__vue_is_functional_template__$4,__vue_module_identifier__$4,void 0,void 0),script$5={mixins:[DataProvider]},__vue_script__$5=script$5;script$5.__file="Data.vue";var __vue_render__$2=function(){var t=this.$createElement;return(this._self._c||t)("g",{staticClass:"transform"},[this._t("default")],2)},__vue_staticRenderFns__$2=[],__vue_inject_styles__$5=void 0,__vue_scope_id__$5=void 0,__vue_module_identifier__$5=void 0,__vue_is_functional_template__$5=!1,Data=normalizeComponent({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},__vue_inject_styles__$5,__vue_script__$5,__vue_scope_id__$5,__vue_is_functional_template__$5,__vue_module_identifier__$5,void 0,void 0),ScaleProvider={mixins:[DataReceiver],inject:["$$scaleManager"],props:{scales:{type:Object,required:!0}},watch:{scales:{handler:function(t,e){var r=this.difference(t,e),n=!0,i=!1,a=void 0;try{for(var o,s=getIterator$1(r);!(n=(o=s.next()).done);n=!0){var c=o.value,u=parseScaleOptions(this.scales[c],this.$$dataInterface,this.$$scaleManager);this.$$scaleManager.storeScale(name,u)}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var h=this.difference(e,t),l=!0,f=!1,d=void 0;try{for(var _,p=getIterator$1(h);!(l=(_=p.next()).done);l=!0){var m=_.value;this.$$scaleManager.deleteScale(m)}}catch(t){f=!0,d=t}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}},deep:!0}},created:function(){for(var t in this.scales){var e=parseScaleOptions(this.scales[t],this.$$dataInterface,this.$$scaleManager);this.$$scaleManager.storeScale(t,e)}},methods:{difference:function(t,e){var r=keys$3(e);return keys$3(t).filter(function(t){return!r.includes(t)})}}},script$6={mixins:[ScaleProvider]},__vue_script__$6=script$6;script$6.__file="Scales.vue";var __vue_render__$3=function(){var t=this.$createElement;return(this._self._c||t)("g")},__vue_staticRenderFns__$3=[],__vue_inject_styles__$6=void 0,__vue_scope_id__$6=void 0,__vue_module_identifier__$6=void 0,__vue_is_functional_template__$6=!1,Scales=normalizeComponent({render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3},__vue_inject_styles__$6,__vue_script__$6,__vue_scope_id__$6,__vue_is_functional_template__$6,__vue_module_identifier__$6,void 0,void 0),script$7={mixins:[CoordinateTreeUser,DataReceiver],props:{rows:{type:[Number,void 0],default:void 0},cols:{type:[Number,void 0],default:void 0},layoutPadding:{type:[Number,Object],default:0},cellPadding:{type:[Number,Object],default:0}},computed:{children:function(){var t=this.$slots.default,e=t.filter(function(t){return void 0!==t.tag}),r=new Error("'vgg-grid' can have in its slot:\n        1. any number of 'vgg-section' components\n        2. a single 'vgg-map' component that only contains other 'vgg-section' components\n      ");if("vgg-map"===e[0].componentOptions.tag){if(e.length>1)throw r;return[e,"map"]}if(e.some(function(t){return"vgg-section"!==t.componentOptions.tag}))throw r;return[e,"section"]}},provide:function(){if("map"===_slicedToArray(this.children,2)[1])return{$$grid:this._props}},render:function(t){var e=this._props;validateGridOptions(e);var r=_slicedToArray(this.children,2),n=r[0],i=r[1];if("section"===i){var a=n,o=calculateRowsCols(e,a.length);return t("g",{class:"layout-grid"},updateGridSections(t,a,calculateGridLayout(o.rows,o.cols,e,this.parentBranch.domains)))}if("map"===i)return t("g",{class:"layout-grid"},n)}},__vue_script__$7=script$7;script$7.__file="Grid.vue";var __vue_inject_styles__$7=void 0,__vue_scope_id__$7=void 0,__vue_module_identifier__$7=void 0,__vue_is_functional_template__$7=void 0,Grid=normalizeComponent({},__vue_inject_styles__$7,__vue_script__$7,__vue_scope_id__$7,__vue_is_functional_template__$7,__vue_module_identifier__$7,void 0,void 0);function repeatSections(t,e,r,n,i){for(var a=[],o=0;o<i.length;o++)for(var s=i[o],c=function(i){var c=n[i],u=validateSlotContent(e({x:c,y:s})),h=o*n.length+i,l=r[h],f=u.map(function(e){return updateSection(t,e,l)});a.push.apply(a,_toConsumableArray(f))},u=0;u<n.length;u++)c(u);return a}function calculateRowsCols$1(t,e){return{rows:t?t.length:1,cols:e?e.length:1}}function validateSlotContent(t){var e=t.filter(function(t){return void 0!==t.tag});if(e.some(function(t){return"vgg-section"!==t.componentOptions.tag}))throw new Error("vgg-repeat can only contain sections");return e}var script$8={mixins:[CoordinateTreeUser],props:{x:{type:[Array,void 0],default:void 0},y:{type:[Array,void 0],default:void 0},layoutPadding:{type:[Number,Object],default:0},cellPadding:{type:[Number,Object],default:0}},methods:{validateProps:function(){if(void 0===this.x&&void 0===this.y)throw new Error("'vgg-repeat' must have at least a 'x' or 'y' prop")}},render:function(t){this.validateProps();var e=calculateRowsCols$1(this.x,this.y),r=calculateGridLayout(e.rows,e.cols,this._props,this.parentBranch.domains);return t("g",{class:"layout-repeat"},repeatSections(t,this.$scopedSlots.default,r,this.x,this.y))}},__vue_script__$8=script$8;script$8.__file="Repeat.vue";var __vue_inject_styles__$8=void 0,__vue_scope_id__$8=void 0,__vue_module_identifier__$8=void 0,__vue_is_functional_template__$8=void 0,Repeat=normalizeComponent({},__vue_inject_styles__$8,__vue_script__$8,__vue_scope_id__$8,__vue_is_functional_template__$8,__vue_module_identifier__$8,void 0,void 0),script$9={name:"PlotTitle",mixins:[CoordinateTreeUser],inject:["$$transform"],props:{text:{type:String,default:"Plot Title"},hjust:{type:[Number,String],default:"center",validator:function(t){return t.constructor===Number||["center","l","r"].includes(t)}},vjust:{type:[Number,String],default:"t",validator:function(t){return t.constructor===Number||["center","t","b"].includes(t)}},vMargin:{type:Number,default:50},hMargin:{type:Number,default:0},color:{type:String,default:"black"},fontSize:{type:Number,default:16},fontFamily:{type:String,default:"Helvetica"},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb","l","r","t","b"].includes(t)}}},computed:{posX:function(){var t=this.parentBranch.domains.x,e=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return this.hjust.constructor===Number?(r-e)*this.vjust:"center"===this.hjust?(r-e)/2+t[0]:"l"===this.hjust?e:r},posY:function(){var t=this.parentBranch.domains.y,e=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return this.vjust.constructor===Number?(r-e)*this.hjust:"center"===this.vjust?(r-e)/2+e:"t"===this.vjust?r:e},screenCoords:function(){var t=_slicedToArray(this.$$transform([this.posX,this.posY]),2),e=t[0],r=t[1];return"l"===this.hjust?e+=this.hMargin:"r"===this.hjust&&(e-=this.hMargin),"t"===this.vjust?r+=this.vMargin:"b"===this.vjust&&(r-=this.vMargin),[e,r]}},methods:{renderSVG:function(t){var e=_slicedToArray(this.screenCoords,2),r=e[0],n=e[1],i=this.color,a=this.fontFamily,o=this.fontSize,s=this.text,c=textAnchorPoint(this.anchorPoint);return t("text",{attrs:{x:r,y:n,fill:i,"text-anchor":c.textAnchor,"dominant-baseline":c.dominantBaseline},style:{"font-size":o+"px","font-family":a}},s)}},render:function(t){return this.renderSVG(t)}},__vue_script__$9=script$9;script$9.__file="PlotTitle.vue";var __vue_inject_styles__$9=void 0,__vue_scope_id__$9=void 0,__vue_module_identifier__$9=void 0,__vue_is_functional_template__$9=void 0,PlotTitle=normalizeComponent({},__vue_inject_styles__$9,__vue_script__$9,__vue_scope_id__$9,__vue_is_functional_template__$9,__vue_module_identifier__$9,void 0,void 0),script$a={props:{x:{type:[Number,Object],required:!0},y:{type:[Number,Object],required:!0},radius:{type:[Number,Object],required:!0},transformation:{type:String,default:"polar"},anchorPoint:{type:String,default:"center"}},computed:{wh:function(){return 2*this.radius},rectangles:function(){return[{x1:0,x2:15,y1:0,y2:100,color:"green"},{x1:15,x2:50,y1:0,y2:100,color:"red"},{x1:50,x2:75,y1:0,y2:100,color:"yellow"},{x1:75,x2:100,y1:0,y2:100,color:"blue"}]}}},__vue_script__$a=script$a;script$a.__file="Piechart.vue";var __vue_render__$4=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("vgg-glyph",{attrs:{x:t.x,y:t.y,width:t.wh,height:t.wh,"anchor-point":t.anchorPoint}},[r("vgg-section",{attrs:{type:t.transformation,x1:0,x2:t.wh,y1:0,y2:t.wh,"scale-x":[0,100],"scale-y":[0,100]}},t._l(t.rectangles,function(t,e){return r("vgg-rectangle",{key:e,attrs:{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,fill:t.color}})}),1)],1)},__vue_staticRenderFns__$4=[],__vue_inject_styles__$a=void 0,__vue_scope_id__$a=void 0,__vue_module_identifier__$a=void 0,__vue_is_functional_template__$a=!1,Piechart=normalizeComponent({render:__vue_render__$4,staticRenderFns:__vue_staticRenderFns__$4},__vue_inject_styles__$a,__vue_script__$a,__vue_scope_id__$a,__vue_is_functional_template__$a,__vue_module_identifier__$a,void 0,void 0),_redefineAll$1=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:_hide$1(t,n,e[n]);return t},_anInstance$1=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},_forOf$1=createCommonjsModule(function(t){var e={},r={},n=t.exports=function(t,n,i,a,o){var s,c,u,h,l=o?function(){return t}:core_getIteratorMethod$1(t),f=_ctx$1(i,a,n?2:1),d=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(_isArrayIter$1(l)){for(s=_toLength$1(t.length);s>d;d++)if((h=n?f(_anObject$1(c=t[d])[0],c[1]):f(t[d]))===e||h===r)return h}else for(u=l.call(t);!(c=u.next()).done;)if((h=_iterCall$1(u,f,c.value,n))===e||h===r)return h};n.BREAK=e,n.RETURN=r}),SPECIES$4=_wks$1("species"),_setSpecies$1=function(t){var e="function"==typeof _core$1[t]?_core$1[t]:_global$1[t];_descriptors$1&&e&&!e[SPECIES$4]&&_objectDp$1.f(e,SPECIES$4,{configurable:!0,get:function(){return this}})},_validateCollection=function(t,e){if(!_isObject$1(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t},dP$4=_objectDp$1.f,fastKey=_meta.fastKey,SIZE=_descriptors$1?"_s":"size",getEntry=function(t,e){var r,n=fastKey(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r},_collectionStrong={getConstructor:function(t,e,r,n){var i=t(function(t,a){_anInstance$1(t,i,e,"_i"),t._t=e,t._i=_objectCreate$1(null),t._f=void 0,t._l=void 0,t[SIZE]=0,null!=a&&_forOf$1(a,r,t[n],t)});return _redefineAll$1(i.prototype,{clear:function(){for(var t=_validateCollection(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[SIZE]=0},delete:function(t){var r=_validateCollection(this,e),n=getEntry(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[SIZE]--}return!!n},forEach:function(t){_validateCollection(this,e);for(var r,n=_ctx$1(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!getEntry(_validateCollection(this,e),t)}}),_descriptors$1&&dP$4(i.prototype,"size",{get:function(){return _validateCollection(this,e)[SIZE]}}),i},def:function(t,e,r){var n,i,a=getEntry(t,e);return a?a.v=r:(t._l=a={i:i=fastKey(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[SIZE]++,"F"!==i&&(t._i[i]=a)),t},getEntry:getEntry,setStrong:function(t,e,r){_iterDefine$1(t,e,function(t,r){this._t=_validateCollection(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?_iterStep$1(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,_iterStep$1(1))},r?"entries":"values",!r,!0),_setSpecies$1(e)}},SPECIES$5=_wks$1("species"),_arraySpeciesConstructor$1=function(t){var e;return _isArray(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!_isArray(e.prototype)||(e=void 0),_isObject$1(e)&&null===(e=e[SPECIES$5])&&(e=void 0)),void 0===e?Array:e},_arraySpeciesCreate$1=function(t,e){return new(_arraySpeciesConstructor$1(t))(e)},_arrayMethods$1=function(t,e){var r=1==t,n=2==t,i=3==t,a=4==t,o=6==t,s=5==t||o,c=e||_arraySpeciesCreate$1;return function(e,u,h){for(var l,f,d=_toObject$1(e),_=_iobject$1(d),p=_ctx$1(u,h,3),m=_toLength$1(_.length),v=0,y=r?c(e,m):n?c(e,0):void 0;m>v;v++)if((s||v in _)&&(f=p(l=_[v],v,d),t))if(r)y[v]=f;else if(f)switch(t){case 3:return!0;case 5:return l;case 6:return v;case 2:y.push(l)}else if(a)return!1;return o?-1:i||a?a:y}},dP$5=_objectDp$1.f,each=_arrayMethods$1(0),_collection=function(t,e,r,n,i,a){var o=_global$1[t],s=o,c=i?"set":"add",u=s&&s.prototype,h={};return _descriptors$1&&"function"==typeof s&&(a||u.forEach&&!_fails$1(function(){(new s).entries().next()}))?(s=e(function(e,r){_anInstance$1(e,s,t,"_c"),e._c=new o,null!=r&&_forOf$1(r,i,e[c],e)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in u&&(!a||"clear"!=t)&&_hide$1(s.prototype,t,function(r,n){if(_anInstance$1(this,s,t),!e&&a&&!_isObject$1(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i})}),a||dP$5(s.prototype,"size",{get:function(){return this._c.size}})):(s=n.getConstructor(e,t,i,c),_redefineAll$1(s.prototype,r),_meta.NEED=!0),_setToStringTag$1(s,t),h[t]=s,_export$1(_export$1.G+_export$1.W+_export$1.F,h),a||n.setStrong(s,t,i),s},SET="Set",es6_set=_collection(SET,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return _collectionStrong.def(_validateCollection(this,SET),t=0===t?0:t,t)}},_collectionStrong),_arrayFromIterable=function(t,e){var r=[];return _forOf$1(t,!1,r.push,r,e),r},_collectionToJson=function(t){return function(){if(_classof$1(this)!=t)throw TypeError(t+"#toJSON isn't generic");return _arrayFromIterable(this)}};_export$1(_export$1.P+_export$1.R,"Set",{toJSON:_collectionToJson("Set")});var _setCollectionOf=function(t){_export$1(_export$1.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})};_setCollectionOf("Set");var _setCollectionFrom=function(t){_export$1(_export$1.S,t,{from:function(t){var e,r,n,i,a=arguments[1];return _aFunction$1(this),(e=void 0!==a)&&_aFunction$1(a),null==t?new this:(r=[],e?(n=0,i=_ctx$1(a,arguments[2],2),_forOf$1(t,!1,function(t){r.push(i(t,n++))})):_forOf$1(t,!1,r.push,r),new this(r))}})};_setCollectionFrom("Set");var set$1=_core$1.Set,set$2=set$1;function ascending$2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bisector$2(t){return 1===t.length&&(t=ascendingComparator$2(t)),{left:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)<0?n=a+1:i=a}return n},right:function(e,r,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var a=n+i>>>1;t(e[a],r)>0?i=a:n=a+1}return n}}}function ascendingComparator$2(t){return function(e,r){return ascending$2(t(e),r)}}var ascendingBisect$2=bisector$2(ascending$2),e10$2=Math.sqrt(50),e5$2=Math.sqrt(10),e2$2=Math.sqrt(2);function arrayTicks(t,e,r){var n,i,a,o,s=-1;if(r=+r,(t=+t)===(e=+e)&&r>0)return[t];if((n=e<t)&&(i=t,t=e,e=i),0===(o=tickIncrement$2(t,e,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return n&&a.reverse(),a}function tickIncrement$2(t,e,r){var n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=e10$2?10:a>=e5$2?5:a>=e2$2?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=e10$2?10:a>=e5$2?5:a>=e2$2?2:1)}function defaultFormat(t){if(t.constructor===Number){var e=t.toString();if(e.length<6)return t;var r=e.split(".")[0].length;return r>4?Math.floor(t/1e3).toString()+"k":round$1(e,5-r)}if(t.constructor===String)return t.length<15?t:t.slice(0,14)+"..."}function round$1(t,e){var r=Math.pow(10,e);return Math.floor(t*r)/r}var BaseAxis={mixins:[Rectangular,DataReceiver],props:{scale:{type:[Array,String,Object,void 0],default:void 0},tickValues:{type:[Array,void 0],default:void 0},tickCount:{type:Number,default:10},rotateLabel:{type:Boolean,default:!1},format:{type:[String,Function,void 0],default:void 0},flip:{type:Boolean,default:!1}},computed:{_parsedScalingOptions:function(){return parseScaleOptions(this.scale,this.$$dataInterface,this.$$scaleManager)},_domain:function(){return this._parsedScalingOptions[0]},_domainType:function(){return this._parsedScalingOptions[1]},ranges:function(){return this.coordinateSpecification},tickData:function(){if(this.tickValues)return this.tickValues.map(function(t){return{value:t}});var t,e=this.format&&this.format.constructor===Function?this.format:defaultFormat;if("quantitative"===this._domainType&&(t=arrayTicks.apply(void 0,_toConsumableArray(this._domain).concat([this.tickCount])).map(function(t){return{value:t,label:e(t)}})),"categorical"===this._domainType&&(t=this._domain.map(function(t){return{value:t,label:e(t)}})),"temporal"===this._domainType&&(this.format?this.format.constructor===String&&(e=timeFormat(this.format)):e=timeFormat("%d/%m/%Y"),t=scaleTime().domain(this._domain).ticks(this.tickCount).map(function(t){var r=new Date(t);return{value:r,label:e(r)}})),"interval:quantitative"===this._domainType){var r=this.$$dataInterface.getColumn(this.scale);t=this.ticksFromIntervals(r).map(function(t){return{value:t,label:e(t)}})}if("interval:temporal"===this._domainType){this.format?this.format.constructor===String&&(e=timeFormat(this.format)):e=timeFormat("%d/%m/%Y");var n=this.$$dataInterface.getColumn(this.scale);t=this.ticksFromIntervals(n).map(function(t){var r=new Date(t);return{value:r,label:e(r)}})}return t}},methods:{ticksFromIntervals:function(t){var e=new set$2,r=!0,n=!1,i=void 0;try{for(var a,o=getIterator$1(t);!(r=(a=o.next()).done);r=!0){var s=a.value;e.add(s[0]),e.add(s[1])}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return from_1$1(e)}}},script$b={mixins:[BaseAxis]},__vue_script__$b=script$b;script$b.__file="XAxis.vue";var __vue_render__$5=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("vgg-section",{staticClass:"x-axis",attrs:{x1:t.ranges.x1,x2:t.ranges.x2,y1:t.ranges.y1,y2:t.ranges.y2,"scale-x":[0,1],"scale-y":[0,1]}},[r("vgg-line",{staticClass:"x-axis-line",attrs:{x1:0,y1:.5,x2:1,y2:.5,"stroke-width":1}}),r("vgg-section",{staticClass:"x-axis-ticks",attrs:{x1:0,x2:1,y1:0,y2:1,"scale-x":t.scale}},[r("vgg-data",{staticClass:"x-axis-data",attrs:{data:t.tickData}},[r("vgg-map",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("vgg-line",{attrs:{x1:n.value,y1:.5,x2:n.value,y2:t.flip?.35:.65,"stroke-width":.5}}),t.rotateLabel?t._e():r("vgg-label",{attrs:{x:n.value,y:t.flip?.59:.45,text:n.label,"font-size":10,"anchor-point":t.flip?"b":"t"}}),t.rotateLabel?r("vgg-label",{attrs:{x:n.value,y:t.flip?.59:.45,text:n.label,"font-size":10,rotation:t.flip?30:-30,"anchor-point":t.flip?"rb":"rt"}}):t._e()]}}])})],1)],1)],1)},__vue_staticRenderFns__$5=[],__vue_inject_styles__$b=void 0,__vue_scope_id__$b=void 0,__vue_module_identifier__$b=void 0,__vue_is_functional_template__$b=!1,XAxis=normalizeComponent({render:__vue_render__$5,staticRenderFns:__vue_staticRenderFns__$5},__vue_inject_styles__$b,__vue_script__$b,__vue_scope_id__$b,__vue_is_functional_template__$b,__vue_module_identifier__$b,void 0,void 0),script$c={mixins:[BaseAxis]},__vue_script__$c=script$c;script$c.__file="YAxis.vue";var __vue_render__$6=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("vgg-section",{staticClass:"y-axis",attrs:{x1:t.ranges.x1,x2:t.ranges.x2,y1:t.ranges.y1,y2:t.ranges.y2,"scale-x":[0,1],"scale-y":[0,1]}},[r("vgg-line",{staticClass:"y-axis-line",attrs:{x1:.5,y1:0,x2:.5,y2:1,"stroke-width":1}}),void 0!==t.scale?r("vgg-section",{staticClass:"y-axis-ticks",attrs:{x1:0,x2:1,y1:0,y2:1,"scale-y":t.scale}},[r("vgg-data",{staticClass:"y-axis-data",attrs:{data:t.tickData}},[r("vgg-map",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("vgg-line",{attrs:{x1:.5,y1:n.value,x2:t.flip?.65:.35,y2:n.value,"stroke-width":.5}}),t.rotateLabel?t._e():r("vgg-label",{attrs:{x:t.flip?.45:.59,y:n.value,text:n.label,"font-size":10,"anchor-point":t.flip?"r":"l"}}),t.rotateLabel?r("vgg-label",{attrs:{x:t.flip?.41:.59,y:n.value,text:n.label,"font-size":10,rotation:t.flip?-30:30,"anchor-point":t.flip?"r":"l"}}):t._e()]}}])})],1)],1):t._e()],1)},__vue_staticRenderFns__$6=[],__vue_inject_styles__$c=void 0,__vue_scope_id__$c=void 0,__vue_module_identifier__$c=void 0,__vue_is_functional_template__$c=!1,YAxis=normalizeComponent({render:__vue_render__$6,staticRenderFns:__vue_staticRenderFns__$6},__vue_inject_styles__$c,__vue_script__$c,__vue_scope_id__$c,__vue_is_functional_template__$c,__vue_module_identifier__$c,void 0,void 0),BaseGrid={mixins:[Rectangular,DataReceiver],props:{scale:{type:[Array,String,Object,void 0],default:void 0},gridLines:{type:[Array,Number],default:10}},computed:{_parsedScalingOptions:function(){return parseScaleOptions(this.scale,this.$$dataInterface,this.$$scaleManager)},_domain:function(){return this._parsedScalingOptions[0]},_domainType:function(){return this._parsedScalingOptions[1]},ranges:function(){return this.coordinateSpecification},cells:function(){return this.gridLines.constructor===Array?this.gridLines.map(function(t){return{value:t}}):("quantitative"===this._domainType&&(t=arrayTicks.apply(void 0,_toConsumableArray(this._domain).concat([this.gridLines])).map(function(t){return{value:t}})),"categorical"===this._domainType&&(t=this._domain.map(function(t){return{value:t}})),"temporal"===this._domainType&&(t=scaleTime().domain(this._domain).ticks(this.tickCount).map(function(t){return{value:new Date(t)}})),t);var t}}},script$d={mixins:[BaseGrid]},__vue_script__$d=script$d;script$d.__file="XGrid.vue";var __vue_render__$7=function(){var t=this.$createElement,e=this._self._c||t;return e("vgg-section",{staticClass:"x-grid",attrs:{x1:this.ranges.x1,x2:this.ranges.x2,y1:this.ranges.y1,y2:this.ranges.y2,"scale-x":this.scale,"scale-y":[0,1]}},this._l(this.cells,function(t,r){return e("vgg-line",{key:r,staticClass:"x-grid-line",attrs:{x1:t.value,y1:0,x2:t.value,y2:1,"stroke-width":.5,stroke:"#808080"}})}),1)},__vue_staticRenderFns__$7=[],__vue_inject_styles__$d=void 0,__vue_scope_id__$d=void 0,__vue_module_identifier__$d=void 0,__vue_is_functional_template__$d=!1,XGrid=normalizeComponent({render:__vue_render__$7,staticRenderFns:__vue_staticRenderFns__$7},__vue_inject_styles__$d,__vue_script__$d,__vue_scope_id__$d,__vue_is_functional_template__$d,__vue_module_identifier__$d,void 0,void 0),script$e={mixins:[BaseGrid]},__vue_script__$e=script$e;script$e.__file="YGrid.vue";var __vue_render__$8=function(){var t=this.$createElement,e=this._self._c||t;return e("vgg-section",{staticClass:"y-grid",attrs:{x1:this.ranges.x1,x2:this.ranges.x2,y1:this.ranges.y1,y2:this.ranges.y2,"scale-x":[0,1],"scale-y":this.scale}},this._l(this.cells,function(t,r){return e("vgg-line",{key:r,staticClass:"y-grid-line",attrs:{x1:0,y1:t.value,x2:1,y2:t.value,"stroke-width":.5,stroke:"#808080"}})}),1)},__vue_staticRenderFns__$8=[],__vue_inject_styles__$e=void 0,__vue_scope_id__$e=void 0,__vue_module_identifier__$e=void 0,__vue_is_functional_template__$e=!1,YGrid=normalizeComponent({render:__vue_render__$8,staticRenderFns:__vue_staticRenderFns__$8},__vue_inject_styles__$e,__vue_script__$e,__vue_scope_id__$e,__vue_is_functional_template__$e,__vue_module_identifier__$e,void 0,void 0),pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path$1(){return new Path}function constant$6(t){return function(){return t}}Path.prototype=path$1.prototype={constructor:Path,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(t,e,r,n,i,a){this._+="C"+ +t+","+ +e+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,r,n,i){t=+t,e=+e,r=+r,n=+n,i=+i;var a=this._x1,o=this._y1,s=r-t,c=n-e,u=a-t,h=o-e,l=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>epsilon$1)if(Math.abs(h*s-c*u)>epsilon$1&&i){var f=r-a,d=n-o,_=s*s+c*c,p=f*f+d*d,m=Math.sqrt(_),v=Math.sqrt(l),y=i*Math.tan((pi$1-Math.acos((_+l-p)/(2*m*v)))/2),g=y/v,b=y/m;Math.abs(g-1)>epsilon$1&&(this._+="L"+(t+g*u)+","+(e+g*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*d)+","+(this._x1=t+b*s)+","+(this._y1=e+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,r,n,i,a){t=+t,e=+e;var o=(r=+r)*Math.cos(n),s=r*Math.sin(n),c=t+o,u=e+s,h=1^a,l=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>epsilon$1||Math.abs(this._y1-u)>epsilon$1)&&(this._+="L"+c+","+u),r&&(l<0&&(l=l%tau$1+tau$1),l>tauEpsilon?this._+="A"+r+","+r+",0,1,"+h+","+(t-o)+","+(e-s)+"A"+r+","+r+",0,1,"+h+","+(this._x1=c)+","+(this._y1=u):l>epsilon$1&&(this._+="A"+r+","+r+",0,"+ +(l>=pi$1)+","+h+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=e+r*Math.sin(i))))},rect:function(t,e,r,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var pi$2=Math.PI;function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function line(){var t=x,e=y,r=constant$6(!0),n=null,i=curveLinear,a=null;function o(o){var s,c,u,h=o.length,l=!1;for(null==n&&(a=i(u=path$1())),s=0;s<=h;++s)!(s<h&&r(c=o[s],s,o))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+t(c,s,o),+e(c,s,o));if(u)return a=null,u+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:constant$6(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:constant$6(+t),o):e},o.defined=function(t){return arguments.length?(r="function"==typeof t?t:constant$6(!!t),o):r},o.curve=function(t){return arguments.length?(i=t,null!=n&&(a=i(n)),o):i},o.context=function(t){return arguments.length?(null==t?n=a=null:a=i(n=t),o):n},o}function sign$2(t){return t<0?-1:1}function slope3(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(sign$2(a)+sign$2(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function slope2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function point$4(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function interpolatePath(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=[];i.push(t[0]);for(var a=0;a<t.length-1;++a)for(var o=value(t[a],t[a+1]),s=1;s<=n;++s){var c=o(s/n);i.push([c[0],c[1]])}return createPath(i,e,r)}function interpolatePathFromFunc(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:300,a=[],o=value.apply(void 0,_toConsumableArray(r.x)),s=0;s<=i;++s){var c=o(s/i),u=t(c);inDomain([c,u],r)&&a.push([c,u])}return createPath(a,e,n)}function createPath(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=t.map(function(t){return e(t).map(function(t){return round$2(t,r)})});return line()(n)}function round$2(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function inDomain(t,e){var r=Math.min.apply(Math,_toConsumableArray(e.y)),n=Math.max.apply(Math,_toConsumableArray(e.y));return t[1]>r&&t[1]<n}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$4(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$4(this,slope2(this,r=slope3(this,t,e)),r);break;default:point$4(this,this._t0,r=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};var path$2=geoPath(null);function createGeoPath(t,e){var r=transform$1(t,e);return path$2(r)}var script$f={mixins:[Mark],props:{x1:{type:[Number,String,Date,void 0],default:void 0},x2:{type:[Number,String,Date,void 0],default:void 0},y1:{type:[Number,String,Date,void 0],default:void 0},y2:{type:[Number,String,Date,void 0],default:void 0},func:{type:[Function,void 0],default:void 0},stroke:{type:String,default:"#000000"},fill:{type:String,default:"none"},strokeWidth:{type:Number,default:2},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},transition:{type:Number,default:0}},methods:{createPath:function(t,e){var r;if(t){var n=this.$$coordinateTreeParent,i=this.$$coordinateTree.getBranch(n).domains;r=interpolatePathFromFunc(this.func,this.$$transform,i)}return t||(this._interpolate&&(r=interpolatePath(e,this.$$transform)),this._interpolate||(r=createPath(e,this.$$transform))),r},renderSVG:function(t){var e=this._props,r=[[e.x1,e.y1],[e.x2,e.y2]];return t("path",{attrs:{d:this.createPath(e.func,r)},style:this.createSVGStyle(e)})}}},__vue_script__$f=script$f;script$f.__file="Line.vue";var __vue_inject_styles__$f=void 0,__vue_scope_id__$f=void 0,__vue_module_identifier__$f=void 0,__vue_is_functional_template__$f=void 0,Line=normalizeComponent({},__vue_inject_styles__$f,__vue_script__$f,__vue_scope_id__$f,__vue_is_functional_template__$f,__vue_module_identifier__$f,void 0,void 0);function checkPoints(t,e,r,n,i,a,o){if(o){if(!is$2(r)||!is$2(n))throw new Error("Missing required props 'x' and 'y'");if(!is$2(i)&&!is$2(a))throw new Error("Missing required 'x2' and/or 'y2' prop (need at least one of the two)")}else if(is$2(e)){if(is$2(t)||is$2(r)||is$2(n))throw new Error("Cannot have both 'geometry' and 'x', 'y' or 'points' props")}else if(is$2(t)){if(is$2(r)||is$2(n))throw new Error("Cannot have both 'geometry' and 'x', 'y' or 'points' props")}else if(!is$2(r)||!is$2(n))throw new Error("Missing required props")}var Path$1={mixins:[Mark],props:{points:{type:[Array,void 0],default:void 0},geometry:{type:[Object,void 0],default:void 0},x:{type:[Array,void 0],default:void 0},y:{type:[Array,void 0],default:void 0},x2:{type:[Array,void 0],default:void 0},y2:{type:[Array,void 0],default:void 0},stroke:{type:String,default:"#000000"},fill:{type:String,default:"none"},strokeWidth:{type:Number,default:2},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},sort:{type:[String,void 0],default:void 0,validator:function(t){return["x","y"].includes(t)||void 0===t}},close:{type:Boolean,default:!1},interpolate:{type:Boolean,default:!1},_area:{type:Boolean,default:!1}},methods:{generatePoints:function(t,e){var r=[];if(t.length!==e.length){if(1!==t.length&&1!==e.length)throw new Error("'x' and 'y' coordinate sets have different lengths");if(1===t.length)for(var n=0;n<e.length;++n)r.push([t[0],e[n]]);else if(1===e.length)for(var i=0;i<t.length;++i)r.push([t[i],e[0]])}else for(var a=0;a<t.length;++a)r.push([t[a],e[a]]);return this.filterInvalid(r)},filterInvalid:function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];invalidPoint(n)?console.warn("Skipped invalid point ".concat(stringify$1(n)," at index ").concat(r)):e.push(n)}return e},sortPoints:function(t){return"x"===this.sort?t.sort(function(t,e){return t[0]-e[0]}):"y"===this.sort?t.sort(function(t,e){return t[1]-e[1]}):void 0},closePoints:function(t){var e=t.length-1;return t[0][0]===t[e][0]&&t[0][1]===t[e][1]||t.push(t[0]),t},createPath:function(t){return this._interpolate?interpolatePath(t,this.$$transform):this._interpolate?void 0:createPath(t,this.$$transform)},renderSVG:function(t){checkPoints(this.points,this.geometry,this.x,this.y,this.x2,this.y2,this._area);var e=this._props;if(this.geometry)return t("path",{attrs:{d:createGeoPath(e.geometry,this.$$transform)},style:this.createSVGStyle(e)});var r=[];if((r=e.points?this.filterInvalid(e.points):this.generatePoints(e.x,e.y)).length>1){var n;if(this.sort&&(r=this.sortPoints(r)),this._area)e.x2&&!e.y2&&(n=this.generatePoints(e.x2,e.y)),!e.x2&&e.y2&&(n=this.generatePoints(e.x,e.y2)),e.x2&&e.y2&&(n=this.generatePoints(e.x2,e.y2)),this.sort&&(n=this.sortPoints(n)),r=r.concat(n.reverse());return this.close&&(r=this.closePoints(r)),t("path",{attrs:{d:this.createPath(r)},style:this.createSVGStyle(e)})}console.warn("Not enough valid points to draw Mark")}}},script$g={mixins:[Path$1],props:{sort:{type:String,default:"x",validator:function(t){return["x","y"].includes(t)}},close:{type:Boolean,default:!1},x2:{type:void 0,default:void 0},y2:{type:void 0,default:void 0}}},__vue_script__$g=script$g;script$g.__file="MultiLine.vue";var __vue_inject_styles__$g=void 0,__vue_scope_id__$g=void 0,__vue_module_identifier__$g=void 0,__vue_is_functional_template__$g=void 0,MultiLine=normalizeComponent({},__vue_inject_styles__$g,__vue_script__$g,__vue_scope_id__$g,__vue_is_functional_template__$g,__vue_module_identifier__$g,void 0,void 0),script$h={mixins:[Path$1],props:{close:{type:Boolean,default:!0},sort:{type:String,default:"x",validator:function(t){return["x","y"].includes(t)}},fill:{type:String,default:"#000000"},stroke:{type:[String,void 0],default:void 0},points:{type:void 0,default:void 0},geometry:{type:void 0,default:void 0},_area:{type:Boolean,default:!0}}},__vue_script__$h=script$h;script$h.__file="Area.vue";var __vue_inject_styles__$h=void 0,__vue_scope_id__$h=void 0,__vue_module_identifier__$h=void 0,__vue_is_functional_template__$h=void 0,Area=normalizeComponent({},__vue_inject_styles__$h,__vue_script__$h,__vue_scope_id__$h,__vue_is_functional_template__$h,__vue_module_identifier__$h,void 0,void 0),script$i={mixins:[Path$1],props:{close:{type:Boolean,default:!0},x2:{type:void 0,default:void 0},y2:{type:void 0,default:void 0}}},__vue_script__$i=script$i;script$i.__file="Path.vue";var __vue_inject_styles__$i=void 0,__vue_scope_id__$i=void 0,__vue_module_identifier__$i=void 0,__vue_is_functional_template__$i=void 0,Path$2=normalizeComponent({},__vue_inject_styles__$i,__vue_script__$i,__vue_scope_id__$i,__vue_is_functional_template__$i,__vue_module_identifier__$i,void 0,void 0),script$j={mixins:[Mark],props:{x:{type:[Number,String,Date],required:!0},y:{type:[Number,String,Date],required:!0},fill:{type:String,default:"#000000"},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:0},radius:{type:Number,default:3},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},transition:{type:Number,default:0}},methods:{renderSVG:function(t){var e=this._props,r=_slicedToArray(this.$$transform([e.x,e.y]),2);return t("circle",{attrs:{cx:r[0],cy:r[1],r:e.radius},style:this.createSVGStyle(e)})}}},__vue_script__$j=script$j;script$j.__file="Point.vue";var __vue_inject_styles__$j=void 0,__vue_scope_id__$j=void 0,__vue_module_identifier__$j=void 0,__vue_is_functional_template__$j=void 0,Point$1=normalizeComponent({},__vue_inject_styles__$j,__vue_script__$j,__vue_scope_id__$j,__vue_is_functional_template__$j,__vue_module_identifier__$j,void 0,void 0),script$k={mixins:[Path$1],props:{sort:{type:void 0,default:void 0},close:{type:Boolean,default:!0},x2:{type:void 0,default:void 0},y2:{type:void 0,default:void 0},fill:{type:String,default:"#000000"}}},__vue_script__$k=script$k;script$k.__file="Polygon.vue";var __vue_inject_styles__$k=void 0,__vue_scope_id__$k=void 0,__vue_module_identifier__$k=void 0,__vue_is_functional_template__$k=void 0,Polygon=normalizeComponent({},__vue_inject_styles__$k,__vue_script__$k,__vue_scope_id__$k,__vue_is_functional_template__$k,__vue_module_identifier__$k,void 0,void 0),script$l={mixins:[Rectangular],methods:{renderSVG:function(t){var e,r=this._props,n=this.coordinateSpecification,i=[[n.x1,n.y1],[n.x1,n.y2],[n.x2,n.y2],[n.x2,n.y1],[n.x1,n.y1]];return this._interpolate&&(e=interpolatePath(i,this.$$transform)),this._interpolate||(e=createPath(i,this.$$transform)),t("path",{attrs:{d:e},style:this.createSVGStyle(r)})}}},__vue_script__$l=script$l;script$l.__file="Rectangle.vue";var __vue_inject_styles__$l=void 0,__vue_scope_id__$l=void 0,__vue_module_identifier__$l=void 0,__vue_is_functional_template__$l=void 0,Rectangle=normalizeComponent({},__vue_inject_styles__$l,__vue_script__$l,__vue_scope_id__$l,__vue_is_functional_template__$l,__vue_module_identifier__$l,void 0,void 0),_arrayFill=function(t){for(var e=_toObject(this),r=_toLength(e.length),n=arguments.length,i=_toAbsoluteIndex(n>1?arguments[1]:void 0,r),a=n>2?arguments[2]:void 0,o=void 0===a?r:_toAbsoluteIndex(a,r);o>i;)e[i++]=t;return e};_export(_export.P,"Array",{fill:_arrayFill}),_addToUnscopables("fill");var script$m={mixins:[Mark],props:{text:{type:[String,Number,void 0],default:void 0},x:{type:[Number,String,Date],required:!0},y:{type:[Number,String,Date],required:!0},fill:{type:String,default:"#000000"},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:0},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},fontSize:{type:Number,default:16},rotation:{type:Number,default:0},anchorPoint:{type:String,default:"center",validator:function(t){return["center","lb","lt","rt","rb","l","r","t","b"].includes(t)}}},data:function(){return{markType:"label-mark"}},computed:{aesthetics:function(){return{text:this.parseAesthetic(this.text),x:this.parseCoordinate(this.x,{dimension:"x"}),y:this.parseCoordinate(this.y,{dimension:"y"}),fill:this.parseAesthetic(this.fill,{default:"#000000"}),stroke:this.parseAesthetic(this.stroke,{default:"none"}),strokeWidth:this.parseAesthetic(this.strokeWidth,{default:0}),radius:this.parseAesthetic(this.radius,{default:3}),opacity:this.parseAesthetic(this.opacity),fillOpacity:this.parseAesthetic(this.fillOpacity),strokeOpacity:this.parseAesthetic(this.strokeOpacity),fontSize:this.parseAesthetic(this.fontSize,{default:16}),rotation:this.parseAesthetic(this.rotation,{default:0})}}},methods:{calcTransform:function(t,e,r){return"rotate(".concat(t,", ").concat(e,", ").concat(r,")")},renderSVG:function(t){var e=this._props,r=_slicedToArray(this.$$transform([e.x,e.y]),2),n=r[0],i=r[1],a=textAnchorPoint(this.anchorPoint),o=this.calcTransform(e.rotation,n,i),s=this.createSVGStyle(e);return s.fontSize=e.fontSize+"px",t("text",{attrs:{x:n,y:i,fill:e.color,"text-anchor":a.textAnchor,"dominant-baseline":a.dominantBaseline,transform:o,class:"vgg-label"},style:s},e.text)}}};const isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(t){return(t,e)=>addStyle(t,e)}const HEAD=document.head||document.getElementsByTagName("head")[0],styles={};function addStyle(t,e){const r=isOldIE?e.media||"default":t,n=styles[r]||(styles[r]={ids:new Set,styles:[]});if(!n.ids.has(t)){n.ids.add(t);let r=e.source;if(e.map&&(r+="\n/*# sourceURL="+e.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",e.media&&n.element.setAttribute("media",e.media),HEAD.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(r),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const t=n.ids.size-1,e=document.createTextNode(r),i=n.element.childNodes;i[t]&&n.element.removeChild(i[t]),i.length?n.element.insertBefore(e,i[t]):n.element.appendChild(e)}}}var __vue_script__$m=script$m;script$m.__file="Label.vue";var __vue_inject_styles__$m=function(t){t&&t("data-v-2271ad0c_0",{source:".vgg-label[data-v-2271ad0c]{font-family:sans-serif}",map:void 0,media:void 0})},__vue_scope_id__$m="data-v-2271ad0c",__vue_module_identifier__$m=void 0,__vue_is_functional_template__$m=void 0,Label=normalizeComponent({},__vue_inject_styles__$m,__vue_script__$m,__vue_scope_id__$m,__vue_is_functional_template__$m,__vue_module_identifier__$m,createInjector,void 0),script$n={mixins:[Mark],props:{x:{type:[Number,String,Date],required:!0},y:{type:[Number,String,Date],required:!0},fill:{type:String,default:"#000000"},stroke:{type:String,default:"none"},strokeWidth:{type:Number,default:2},shape:{type:String,default:"circle"},size:{type:Number,default:10},opacity:{type:[Number,void 0],default:void 0},strokeOpacity:{type:[Number,void 0],default:void 0},fillOpacity:{type:[Number,void 0],default:void 0},transition:{type:Number,default:0}},methods:{createCircle:function(t,e){var r=_slicedToArray(this.$$transform([e.x,e.y]),2);return t("circle",{attrs:{cx:r[0],cy:r[1],r:e.size/2},style:this.createSVGStyle(e)})},createSquare:function(t,e){var r=_slicedToArray(this.$$transform([e.x,e.y]),2),n=r[0],i=r[1],a=e.size;return t("rect",{attrs:{width:a,height:a,x:n-a/2,y:i-a/2},style:this.createSVGStyle(e)})},createPath:function(t,e,r){var n=_slicedToArray(this.$$transform([e.x,e.y]),2),i=n[0],a=n[1],o=this.createSVGStyle(e),s=e.size/2;return o.strokeWidth=o.strokeWidth/s,o.transform="translateX("+i+"px) translateY("+a+"px) scale("+s+", "+s+") ",t("path",{attrs:{d:r},style:o})},renderSVG:function(t){var e,r=this._props;if("circle"===this.shape)return this.createCircle(t,r);if("square"===this.shape)return this.createSquare(t,r);if("cross"===this.shape)e="M-.5,-1L.5,-1L.5,-.5L1,-.5L1,.5L.5,.5L.5,1L-.5,1L-.5,.5L-1,.5L-1,-.5L-.5,-.5L-.5,-1Z";else if("diamond"===this.shape)e="M0,-1L1,0L0,1L-1,0L0,-1Z";else if("triangle-up"===this.shape)e="M0,-1L1,1L-1,1L0,-1Z";else if("triangle-down"===this.shape)e="M1,-1L0,1L-1,-1L1,-1Z";else if("triangle-right"===this.shape)e="M-1,-1L1,0L-1,1L-1,-1Z";else if("triangle-left"===this.shape)e="M1,-1L-1,0L1,1L1,-1Z";else{if("star"!==this.shape)return this.createPath(t,r,this.shape);e="M0,.5L.6,.8L.5,.1L1,-.3L.3,-.4L0,-1L-.3,-.4L-1,-.3L-.5,.1L-.6,.8L0,.5Z"}return this.createPath(t,r,e)}}},__vue_script__$n=script$n;script$n.__file="Symbol.vue";var __vue_inject_styles__$n=void 0,__vue_scope_id__$n=void 0,__vue_module_identifier__$n=void 0,__vue_is_functional_template__$n=void 0,_Symbol=normalizeComponent({},__vue_inject_styles__$n,__vue_script__$n,__vue_scope_id__$n,__vue_is_functional_template__$n,__vue_module_identifier__$n,void 0,void 0),components={Glyph:Glyph$1,Graphic:Graphic,Map:Map$2,Section:Section,Data:Data,Scales:Scales,Grid:Grid,Repeat:Repeat,PlotTitle:PlotTitle,Piechart:Piechart,XAxis:XAxis,YAxis:YAxis,XGrid:XGrid,YGrid:YGrid,Line:Line,MultiLine:MultiLine,Area:Area,Path:Path$2,Point:Point$1,Polygon:Polygon,Rectangle:Rectangle,Label:Label,Symbol:_Symbol},index$2={install:function(t,e){var r="Vgg";for(var n in e&&e.prefix&&(r=e.prefix),components){var i=r+n;t.component(i,components[n])}}};module.exports=index$2;
//# sourceMappingURL=vue-gg.cjs.js.map
